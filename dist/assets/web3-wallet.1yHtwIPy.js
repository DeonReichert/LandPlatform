const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/vendor-utils.B1X3cLdW.js","assets/react-vendor.D7v7it0Q.js","assets/rainbowkit.hmIfq-va.js","assets/rainbowkit.D8vzZfRi.css"])))=>i.map(i=>d[i]);
import{_ as qn}from"./rainbowkit.hmIfq-va.js";import{v as Mc,x as vo,y as zs,z as zc,A as Lc,B as ut,D as Uc,E as Dc,F as jc,G as _c,H as Hc,I as qc,J as Vc,K as Wc,L as Eo,M as Zc,N as Po,l as Kc,O as Yc,P as Xc,Q as Aa,R as Jc,S as Qc,T as Ba,U as eu,V as $a,W as on,X as tu,Y as nu,Z as Ia,$ as ru,a0 as su,a1 as au,a2 as ou,a3 as Oa,a4 as iu,a5 as cu,a6 as uu,a7 as fu,a8 as du,a9 as lu,aa as pu}from"./vendor-utils.B1X3cLdW.js";import{r as se}from"./react-vendor.D7v7it0Q.js";const In=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getCurrentBlockTimestamp",outputs:[{internalType:"uint256",name:"timestamp",type:"uint256"}],stateMutability:"view",type:"function"}],Lr=[{name:"query",type:"function",stateMutability:"view",inputs:[{type:"tuple[]",name:"queries",components:[{type:"address",name:"sender"},{type:"string[]",name:"urls"},{type:"bytes",name:"data"}]}],outputs:[{type:"bool[]",name:"failures"},{type:"bytes[]",name:"responses"}]},{name:"HttpError",type:"error",inputs:[{type:"uint16",name:"status"},{type:"string",name:"message"}]}],Ao=[{inputs:[{name:"dns",type:"bytes"}],name:"DNSDecodingFailed",type:"error"},{inputs:[{name:"ens",type:"string"}],name:"DNSEncodingFailed",type:"error"},{inputs:[],name:"EmptyAddress",type:"error"},{inputs:[{name:"status",type:"uint16"},{name:"message",type:"string"}],name:"HttpError",type:"error"},{inputs:[],name:"InvalidBatchGatewayResponse",type:"error"},{inputs:[{name:"errorData",type:"bytes"}],name:"ResolverError",type:"error"},{inputs:[{name:"name",type:"bytes"},{name:"resolver",type:"address"}],name:"ResolverNotContract",type:"error"},{inputs:[{name:"name",type:"bytes"}],name:"ResolverNotFound",type:"error"},{inputs:[{name:"primary",type:"string"},{name:"primaryAddress",type:"bytes"}],name:"ReverseAddressMismatch",type:"error"},{inputs:[{internalType:"bytes4",name:"selector",type:"bytes4"}],name:"UnsupportedResolverProfile",type:"error"}],Bo=[...Ao,{name:"resolveWithGateways",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"},{name:"gateways",type:"string[]"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],bu=[...Ao,{name:"reverseWithGateways",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"},{type:"uint256",name:"coinType"},{type:"string[]",name:"gateways"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolver"},{type:"address",name:"reverseResolver"}]}],Ta=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],Sa=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]},{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"coinType",type:"uint256"}],outputs:[{name:"",type:"bytes"}]}],$o=[{name:"isValidSignature",type:"function",stateMutability:"view",inputs:[{name:"hash",type:"bytes32"},{name:"signature",type:"bytes"}],outputs:[{name:"",type:"bytes4"}]}],Ca=[{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function",name:"isValidSig"}],I1=[{type:"event",name:"Approval",inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"event",name:"Transfer",inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"function",name:"allowance",stateMutability:"view",inputs:[{name:"owner",type:"address"},{name:"spender",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{name:"account",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"decimals",stateMutability:"view",inputs:[],outputs:[{type:"uint8"}]},{type:"function",name:"name",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"totalSupply",stateMutability:"view",inputs:[],outputs:[{type:"uint256"}]},{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]}];function he(e,{includeName:t=!1}={}){if(e.type!=="function"&&e.type!=="event"&&e.type!=="error")throw new Bu(e.type);return`${e.name}(${Vn(e.inputs,{includeName:t})})`}function Vn(e,{includeName:t=!1}={}){return e?e.map(n=>mu(n,{includeName:t})).join(t?", ":","):""}function mu(e,{includeName:t}){return e.type.startsWith("tuple")?`(${Vn(e.components,{includeName:t})})${e.type.slice(5)}`:e.type+(t&&e.name?` ${e.name}`:"")}function ye(e,{strict:t=!0}={}){return!e||typeof e!="string"?!1:t?/^0x[0-9a-fA-F]*$/.test(e):e.startsWith("0x")}function _(e){return ye(e,{strict:!1})?Math.ceil((e.length-2)/2):e.length}const Io="2.38.3";let pr={getDocsUrl:({docsBaseUrl:e,docsPath:t="",docsSlug:n})=>t?`${e??"https://viem.sh"}${t}${n?`#${n}`:""}`:void 0,version:`viem@${Io}`},g=class Ur extends Error{constructor(t,n={}){const r=n.cause instanceof Ur?n.cause.details:n.cause?.message?n.cause.message:n.details,s=n.cause instanceof Ur&&n.cause.docsPath||n.docsPath,a=pr.getDocsUrl?.({...n,docsPath:s}),o=[t||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...a?[`Docs: ${a}`]:[],...r?[`Details: ${r}`]:[],...pr.version?[`Version: ${pr.version}`]:[]].join(`
`);super(o,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.name=n.name??this.name,this.shortMessage=t,this.version=Io}walk(t){return Oo(this,t)}};function Oo(e,t){return t?.(e)?e:e&&typeof e=="object"&&"cause"in e&&e.cause!==void 0?Oo(e.cause,t):t?null:e}class hu extends g{constructor({docsPath:t}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join(`
`),{docsPath:t,name:"AbiConstructorNotFoundError"})}}class ka extends g{constructor({docsPath:t}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join(`
`),{docsPath:t,name:"AbiConstructorParamsNotFoundError"})}}class To extends g{constructor({data:t,params:n,size:r}){super([`Data size of ${r} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${Vn(n,{includeName:!0})})`,`Data:   ${t} (${r} bytes)`],name:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t,this.params=n,this.size=r}}class cn extends g{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.',{name:"AbiDecodingZeroDataError"})}}class yu extends g{constructor({expectedLength:t,givenLength:n,type:r}){super([`ABI encoding array length mismatch for type ${r}.`,`Expected length: ${t}`,`Given length: ${n}`].join(`
`),{name:"AbiEncodingArrayLengthMismatchError"})}}class gu extends g{constructor({expectedSize:t,value:n}){super(`Size of bytes "${n}" (bytes${_(n)}) does not match expected size (bytes${t}).`,{name:"AbiEncodingBytesSizeMismatchError"})}}class So extends g{constructor({expectedLength:t,givenLength:n}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${t}`,`Given length (values): ${n}`].join(`
`),{name:"AbiEncodingLengthMismatchError"})}}class wu extends g{constructor(t,{docsPath:n}){super([`Arguments (\`args\`) were provided to "${t}", but "${t}" on the ABI does not contain any parameters (\`inputs\`).`,"Cannot encode error result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the inputs exist on it."].join(`
`),{docsPath:n,name:"AbiErrorInputsNotFoundError"})}}class Na extends g{constructor(t,{docsPath:n}={}){super([`Error ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it."].join(`
`),{docsPath:n,name:"AbiErrorNotFoundError"})}}class Co extends g{constructor(t,{docsPath:n}){super([`Encoded error signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${t}.`].join(`
`),{docsPath:n,name:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=t}}class xu extends g{constructor({docsPath:t}){super("Cannot extract event signature from empty topics.",{docsPath:t,name:"AbiEventSignatureEmptyTopicsError"})}}class ko extends g{constructor(t,{docsPath:n}){super([`Encoded event signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${t}.`].join(`
`),{docsPath:n,name:"AbiEventSignatureNotFoundError"})}}class Fa extends g{constructor(t,{docsPath:n}={}){super([`Event ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it."].join(`
`),{docsPath:n,name:"AbiEventNotFoundError"})}}class pt extends g{constructor(t,{docsPath:n}={}){super([`Function ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionNotFoundError"})}}class No extends g{constructor(t,{docsPath:n}){super([`Function "${t}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionOutputsNotFoundError"})}}class vu extends g{constructor(t,{docsPath:n}){super([`Encoded function signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${t}.`].join(`
`),{docsPath:n,name:"AbiFunctionSignatureNotFoundError"})}}class Eu extends g{constructor(t,n){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${t.type}\` in \`${he(t.abiItem)}\`, and`,`\`${n.type}\` in \`${he(n.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."],name:"AbiItemAmbiguityError"})}}class Fo extends g{constructor({expectedSize:t,givenSize:n}){super(`Expected bytes${t}, got bytes${n}.`,{name:"BytesSizeMismatchError"})}}class Ft extends g{constructor({abiItem:t,data:n,params:r,size:s}){super([`Data size of ${s} bytes is too small for non-indexed event parameters.`].join(`
`),{metaMessages:[`Params: (${Vn(r,{includeName:!0})})`,`Data:   ${n} (${s} bytes)`],name:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=t,this.data=n,this.params=r,this.size=s}}class Wn extends g{constructor({abiItem:t,param:n}){super([`Expected a topic for indexed event parameter${n.name?` "${n.name}"`:""} on event "${he(t,{includeName:!0})}".`].join(`
`),{name:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=t}}class Pu extends g{constructor(t,{docsPath:n}){super([`Type "${t}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiEncodingType"})}}class Au extends g{constructor(t,{docsPath:n}){super([`Type "${t}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiDecodingType"})}}class Ro extends g{constructor(t){super([`Value "${t}" is not a valid array.`].join(`
`),{name:"InvalidArrayError"})}}class Bu extends g{constructor(t){super([`"${t}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`),{name:"InvalidDefinitionTypeError"})}}class $u extends g{constructor(t){super(`Type "${t}" is not supported for packed encoding.`,{name:"UnsupportedPackedAbiType"})}}class ke extends g{constructor({address:t}){super(`Address "${t}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."],name:"InvalidAddressError"})}}class Go extends g{constructor({offset:t,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset "${t}" is out-of-bounds (size: ${r}).`,{name:"SliceOffsetOutOfBoundsError"})}}let Mo=class extends g{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${t}) exceeds padding size (${n}).`,{name:"SizeExceedsPaddingSizeError"})}};class Ra extends g{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} is expected to be ${n} ${r} long, but is ${t} ${r} long.`,{name:"InvalidBytesLengthError"})}}function Z(e,{dir:t,size:n=32}={}){return typeof e=="string"?ze(e,{dir:t,size:n}):Iu(e,{dir:t,size:n})}function ze(e,{dir:t,size:n=32}={}){if(n===null)return e;const r=e.replace("0x","");if(r.length>n*2)throw new Mo({size:Math.ceil(r.length/2),targetSize:n,type:"hex"});return`0x${r[t==="right"?"padEnd":"padStart"](n*2,"0")}`}function Iu(e,{dir:t,size:n=32}={}){if(n===null)return e;if(e.length>n)throw new Mo({size:e.length,targetSize:n,type:"bytes"});const r=new Uint8Array(n);for(let s=0;s<n;s++){const a=t==="right";r[a?s:n-s-1]=e[a?s:e.length-s-1]}return r}let zo=class extends g{constructor({max:t,min:n,signed:r,size:s,value:a}){super(`Number "${a}" is not in safe ${s?`${s*8}-bit ${r?"signed":"unsigned"} `:""}integer range ${t?`(${n} to ${t})`:`(above ${n})`}`,{name:"IntegerOutOfRangeError"})}};class Ou extends g{constructor(t){super(`Bytes value "${t}" is not a valid boolean. The bytes array must contain a single byte of either a 0 or 1 value.`,{name:"InvalidBytesBooleanError"})}}class Tu extends g{constructor(t){super(`Hex value "${t}" is not a valid boolean. The hex value must be "0x0" (false) or "0x1" (true).`,{name:"InvalidHexBooleanError"})}}let Su=class extends g{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${t} bytes.`,{name:"SizeOverflowError"})}};function Se(e,{dir:t="left"}={}){let n=typeof e=="string"?e.replace("0x",""):e,r=0;for(let s=0;s<n.length-1&&n[t==="left"?s:n.length-s-1].toString()==="0";s++)r++;return n=t==="left"?n.slice(r):n.slice(0,n.length-r),typeof e=="string"?(n.length===1&&t==="right"&&(n=`${n}0`),`0x${n.length%2===1?`0${n}`:n}`):n}function be(e,{size:t}){if(_(e)>t)throw new Su({givenSize:_(e),maxSize:t})}function J(e,t={}){const{signed:n}=t;t.size&&be(e,{size:t.size});const r=BigInt(e);if(!n)return r;const s=(e.length-2)/2,a=(1n<<BigInt(s)*8n-1n)-1n;return r<=a?r:r-BigInt(`0x${"f".padStart(s*2,"f")}`)-1n}function Cu(e,t={}){let n=e;if(t.size&&(be(n,{size:t.size}),n=Se(n)),Se(n)==="0x00")return!1;if(Se(n)==="0x01")return!0;throw new Tu(n)}function ge(e,t={}){return Number(J(e,t))}function C1(e,t={}){let n=le(e);return t.size&&(be(n,{size:t.size}),n=Se(n,{dir:"right"})),new TextDecoder().decode(n)}const ku=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Ne(e,t={}){return typeof e=="number"||typeof e=="bigint"?T(e,t):typeof e=="string"?Ke(e,t):typeof e=="boolean"?Ls(e,t):q(e,t)}function Ls(e,t={}){const n=`0x${Number(e)}`;return typeof t.size=="number"?(be(n,{size:t.size}),Z(n,{size:t.size})):n}function q(e,t={}){let n="";for(let s=0;s<e.length;s++)n+=ku[e[s]];const r=`0x${n}`;return typeof t.size=="number"?(be(r,{size:t.size}),Z(r,{dir:"right",size:t.size})):r}function T(e,t={}){const{signed:n,size:r}=t,s=BigInt(e);let a;r?n?a=(1n<<BigInt(r)*8n-1n)-1n:a=2n**(BigInt(r)*8n)-1n:typeof e=="number"&&(a=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof a=="bigint"&&n?-a-1n:0;if(a&&s>a||s<o){const c=typeof e=="bigint"?"n":"";throw new zo({max:a?`${a}${c}`:void 0,min:`${o}${c}`,signed:n,size:r,value:`${e}${c}`})}const i=`0x${(n&&s<0?(1n<<BigInt(r*8))+BigInt(s):s).toString(16)}`;return r?Z(i,{size:r}):i}const Nu=new TextEncoder;function Ke(e,t={}){const n=Nu.encode(e);return q(n,t)}const Fu=new TextEncoder;function xt(e,t={}){return typeof e=="number"||typeof e=="bigint"?Gu(e,t):typeof e=="boolean"?Ru(e,t):ye(e)?le(e,t):qe(e,t)}function Ru(e,t={}){const n=new Uint8Array(1);return n[0]=Number(e),typeof t.size=="number"?(be(n,{size:t.size}),Z(n,{size:t.size})):n}const Ae={zero:48,nine:57,A:65,F:70,a:97,f:102};function Ga(e){if(e>=Ae.zero&&e<=Ae.nine)return e-Ae.zero;if(e>=Ae.A&&e<=Ae.F)return e-(Ae.A-10);if(e>=Ae.a&&e<=Ae.f)return e-(Ae.a-10)}function le(e,t={}){let n=e;t.size&&(be(n,{size:t.size}),n=Z(n,{dir:"right",size:t.size}));let r=n.slice(2);r.length%2&&(r=`0${r}`);const s=r.length/2,a=new Uint8Array(s);for(let o=0,i=0;o<s;o++){const c=Ga(r.charCodeAt(i++)),u=Ga(r.charCodeAt(i++));if(c===void 0||u===void 0)throw new g(`Invalid byte sequence ("${r[i-2]}${r[i-1]}" in "${r}").`);a[o]=c*16+u}return a}function Gu(e,t){const n=T(e,t);return le(n)}function qe(e,t={}){const n=Fu.encode(e);return typeof t.size=="number"?(be(n,{size:t.size}),Z(n,{dir:"right",size:t.size})):n}const vn=BigInt(2**32-1),Ma=BigInt(32);function Mu(e,t=!1){return t?{h:Number(e&vn),l:Number(e>>Ma&vn)}:{h:Number(e>>Ma&vn)|0,l:Number(e&vn)|0}}function zu(e,t=!1){const n=e.length;let r=new Uint32Array(n),s=new Uint32Array(n);for(let a=0;a<n;a++){const{h:o,l:i}=Mu(e[a],t);[r[a],s[a]]=[o,i]}return[r,s]}const Lu=(e,t,n)=>e<<n|t>>>32-n,Uu=(e,t,n)=>t<<n|e>>>32-n,Du=(e,t,n)=>t<<n-32|e>>>64-n,ju=(e,t,n)=>e<<n-32|t>>>64-n,ft=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function _u(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function Rt(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function Ye(e,...t){if(!_u(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function Hu(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");Rt(e.outputLen),Rt(e.blockLen)}function bt(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function Lo(e,t){Ye(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function qu(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function mt(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}function br(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function we(e,t){return e<<32-t|e>>>t}const Vu=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function Wu(e){return e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255}function Zu(e){for(let t=0;t<e.length;t++)e[t]=Wu(e[t]);return e}const za=Vu?e=>e:Zu;function Ku(e){if(typeof e!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}function Zn(e){return typeof e=="string"&&(e=Ku(e)),Ye(e),e}function Yu(...e){let t=0;for(let r=0;r<e.length;r++){const s=e[r];Ye(s),t+=s.length}const n=new Uint8Array(t);for(let r=0,s=0;r<e.length;r++){const a=e[r];n.set(a,s),s+=a.length}return n}class Us{}function Uo(e){const t=r=>e().update(Zn(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function Xu(e=32){if(ft&&typeof ft.getRandomValues=="function")return ft.getRandomValues(new Uint8Array(e));if(ft&&typeof ft.randomBytes=="function")return Uint8Array.from(ft.randomBytes(e));throw new Error("crypto.getRandomValues must be defined")}const Ju=BigInt(0),kt=BigInt(1),Qu=BigInt(2),e0=BigInt(7),t0=BigInt(256),n0=BigInt(113),Do=[],jo=[],_o=[];for(let e=0,t=kt,n=1,r=0;e<24;e++){[n,r]=[r,(2*n+3*r)%5],Do.push(2*(5*r+n)),jo.push((e+1)*(e+2)/2%64);let s=Ju;for(let a=0;a<7;a++)t=(t<<kt^(t>>e0)*n0)%t0,t&Qu&&(s^=kt<<(kt<<BigInt(a))-kt);_o.push(s)}const Ho=zu(_o,!0),r0=Ho[0],s0=Ho[1],La=(e,t,n)=>n>32?Du(e,t,n):Lu(e,t,n),Ua=(e,t,n)=>n>32?ju(e,t,n):Uu(e,t,n);function a0(e,t=24){const n=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let o=0;o<10;o++)n[o]=e[o]^e[o+10]^e[o+20]^e[o+30]^e[o+40];for(let o=0;o<10;o+=2){const i=(o+8)%10,c=(o+2)%10,u=n[c],f=n[c+1],l=La(u,f,1)^n[i],d=Ua(u,f,1)^n[i+1];for(let p=0;p<50;p+=10)e[o+p]^=l,e[o+p+1]^=d}let s=e[2],a=e[3];for(let o=0;o<24;o++){const i=jo[o],c=La(s,a,i),u=Ua(s,a,i),f=Do[o];s=e[f],a=e[f+1],e[f]=c,e[f+1]=u}for(let o=0;o<50;o+=10){for(let i=0;i<10;i++)n[i]=e[o+i];for(let i=0;i<10;i++)e[o+i]^=~n[(i+2)%10]&n[(i+4)%10]}e[0]^=r0[r],e[1]^=s0[r]}mt(n)}class Ds extends Us{constructor(t,n,r,s=!1,a=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=t,this.suffix=n,this.outputLen=r,this.enableXOF=s,this.rounds=a,Rt(r),!(0<t&&t<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=qu(this.state)}clone(){return this._cloneInto()}keccak(){za(this.state32),a0(this.state32,this.rounds),za(this.state32),this.posOut=0,this.pos=0}update(t){bt(this),t=Zn(t),Ye(t);const{blockLen:n,state:r}=this,s=t.length;for(let a=0;a<s;){const o=Math.min(n-this.pos,s-a);for(let i=0;i<o;i++)r[this.pos++]^=t[a++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:n,pos:r,blockLen:s}=this;t[r]^=n,n&128&&r===s-1&&this.keccak(),t[s-1]^=128,this.keccak()}writeInto(t){bt(this,!1),Ye(t),this.finish();const n=this.state,{blockLen:r}=this;for(let s=0,a=t.length;s<a;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,a-s);t.set(n.subarray(this.posOut,this.posOut+o),s),this.posOut+=o,s+=o}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return Rt(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(Lo(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,mt(this.state)}_cloneInto(t){const{blockLen:n,suffix:r,outputLen:s,rounds:a,enableXOF:o}=this;return t||(t=new Ds(n,r,s,o,a)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=a,t.suffix=r,t.outputLen=s,t.enableXOF=o,t.destroyed=this.destroyed,t}}const o0=(e,t,n)=>Uo(()=>new Ds(t,e,n)),i0=o0(1,136,256/8);function j(e,t){const n=t||"hex",r=i0(ye(e,{strict:!1})?xt(e):e);return n==="bytes"?r:Ne(r)}let un=class extends Map{constructor(t){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=t}get(t){const n=super.get(t);return super.has(t)&&n!==void 0&&(this.delete(t),super.set(t,n)),n}set(t,n){if(super.set(t,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}};const c0=/^0x[a-fA-F0-9]{40}$/,mr=new un(8192);function oe(e,t){const{strict:n=!0}=t??{},r=`${e}.${n}`;if(mr.has(r))return mr.get(r);const s=c0.test(e)?e.toLowerCase()===e?!0:n?Kn(e)===e:!0:!1;return mr.set(r,s),s}const hr=new un(8192);function Kn(e,t){if(hr.has(`${e}.${t}`))return hr.get(`${e}.${t}`);const n=t?`${t}${e.toLowerCase()}`:e.substring(2).toLowerCase(),r=j(qe(n),"bytes"),s=(t?n.substring(`${t}0x`.length):n).split("");for(let o=0;o<40;o+=2)r[o>>1]>>4>=8&&s[o]&&(s[o]=s[o].toUpperCase()),(r[o>>1]&15)>=8&&s[o+1]&&(s[o+1]=s[o+1].toUpperCase());const a=`0x${s.join("")}`;return hr.set(`${e}.${t}`,a),a}function qo(e,t){if(!oe(e,{strict:!1}))throw new ke({address:e});return Kn(e,t)}class Da extends g{constructor({offset:t}){super(`Offset \`${t}\` cannot be negative.`,{name:"NegativeOffsetError"})}}class Vo extends g{constructor({length:t,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${t}\`).`,{name:"PositionOutOfBoundsError"})}}class u0 extends g{constructor({count:t,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${t}\`).`,{name:"RecursiveReadLimitExceededError"})}}const f0={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new u0({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(e){if(e<0||e>this.bytes.length-1)throw new Vo({length:this.bytes.length,position:e})},decrementPosition(e){if(e<0)throw new Da({offset:e});const t=this.position-e;this.assertPosition(t),this.position=t},getReadCount(e){return this.positionReadCount.get(e||this.position)||0},incrementPosition(e){if(e<0)throw new Da({offset:e});const t=this.position+e;this.assertPosition(t),this.position=t},inspectByte(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectBytes(e,t){const n=t??this.position;return this.assertPosition(n+e-1),this.bytes.subarray(n,n+e)},inspectUint8(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectUint16(e){const t=e??this.position;return this.assertPosition(t+1),this.dataView.getUint16(t)},inspectUint24(e){const t=e??this.position;return this.assertPosition(t+2),(this.dataView.getUint16(t)<<8)+this.dataView.getUint8(t+2)},inspectUint32(e){const t=e??this.position;return this.assertPosition(t+3),this.dataView.getUint32(t)},pushByte(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushBytes(e){this.assertPosition(this.position+e.length-1),this.bytes.set(e,this.position),this.position+=e.length},pushUint8(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushUint16(e){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,e),this.position+=2},pushUint24(e){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,e>>8),this.dataView.setUint8(this.position+2,e&255),this.position+=3},pushUint32(e){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,e),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const e=this.inspectByte();return this.position++,e},readBytes(e,t){this.assertReadLimit(),this._touch();const n=this.inspectBytes(e);return this.position+=t??e,n},readUint8(){this.assertReadLimit(),this._touch();const e=this.inspectUint8();return this.position+=1,e},readUint16(){this.assertReadLimit(),this._touch();const e=this.inspectUint16();return this.position+=2,e},readUint24(){this.assertReadLimit(),this._touch();const e=this.inspectUint24();return this.position+=3,e},readUint32(){this.assertReadLimit(),this._touch();const e=this.inspectUint32();return this.position+=4,e},get remaining(){return this.bytes.length-this.position},setPosition(e){const t=this.position;return this.assertPosition(e),this.position=e,()=>this.position=t},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const e=this.getReadCount();this.positionReadCount.set(this.position,e+1),e>0&&this.recursiveReadCount++}};function js(e,{recursiveReadLimit:t=8192}={}){const n=Object.create(f0);return n.bytes=e,n.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=t,n}function ht(e,t,n,{strict:r}={}){return ye(e,{strict:!1})?Dr(e,t,n,{strict:r}):Ko(e,t,n,{strict:r})}function Wo(e,t){if(typeof t=="number"&&t>0&&t>_(e)-1)throw new Go({offset:t,position:"start",size:_(e)})}function Zo(e,t,n){if(typeof t=="number"&&typeof n=="number"&&_(e)!==n-t)throw new Go({offset:n,position:"end",size:_(e)})}function Ko(e,t,n,{strict:r}={}){Wo(e,t);const s=e.slice(t,n);return r&&Zo(s,t,n),s}function Dr(e,t,n,{strict:r}={}){Wo(e,t);const s=`0x${e.replace("0x","").slice((t??0)*2,(n??e.length)*2)}`;return r&&Zo(s,t,n),s}function d0(e,t={}){typeof t.size<"u"&&be(e,{size:t.size});const n=q(e,t);return J(n,t)}function l0(e,t={}){let n=e;if(typeof t.size<"u"&&(be(n,{size:t.size}),n=Se(n)),n.length>1||n[0]>1)throw new Ou(n);return!!n[0]}function Ce(e,t={}){typeof t.size<"u"&&be(e,{size:t.size});const n=q(e,t);return ge(n,t)}function p0(e,t={}){let n=e;return typeof t.size<"u"&&(be(n,{size:t.size}),n=Se(n,{dir:"right"})),new TextDecoder().decode(n)}function K(e){return typeof e[0]=="string"?Fe(e):b0(e)}function b0(e){let t=0;for(const s of e)t+=s.length;const n=new Uint8Array(t);let r=0;for(const s of e)n.set(s,r),r+=s.length;return n}function Fe(e){return`0x${e.reduce((t,n)=>t+n.replace("0x",""),"")}`}const m0=/^(.*)\[([0-9]*)\]$/,Yo=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,_s=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function de(e,t){if(e.length!==t.length)throw new So({expectedLength:e.length,givenLength:t.length});const n=h0({params:e,values:t}),r=qs(n);return r.length===0?"0x":r}function h0({params:e,values:t}){const n=[];for(let r=0;r<e.length;r++)n.push(Hs({param:e[r],value:t[r]}));return n}function Hs({param:e,value:t}){const n=Vs(e.type);if(n){const[r,s]=n;return g0(t,{length:r,param:{...e,type:s}})}if(e.type==="tuple")return P0(t,{param:e});if(e.type==="address")return y0(t);if(e.type==="bool")return x0(t);if(e.type.startsWith("uint")||e.type.startsWith("int")){const r=e.type.startsWith("int"),[,,s="256"]=_s.exec(e.type)??[];return v0(t,{signed:r,size:Number(s)})}if(e.type.startsWith("bytes"))return w0(t,{param:e});if(e.type==="string")return E0(t);throw new Pu(e.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function qs(e){let t=0;for(let a=0;a<e.length;a++){const{dynamic:o,encoded:i}=e[a];o?t+=32:t+=_(i)}const n=[],r=[];let s=0;for(let a=0;a<e.length;a++){const{dynamic:o,encoded:i}=e[a];o?(n.push(T(t+s,{size:32})),r.push(i),s+=_(i)):n.push(i)}return K([...n,...r])}function y0(e){if(!oe(e))throw new ke({address:e});return{dynamic:!1,encoded:ze(e.toLowerCase())}}function g0(e,{length:t,param:n}){const r=t===null;if(!Array.isArray(e))throw new Ro(e);if(!r&&e.length!==t)throw new yu({expectedLength:t,givenLength:e.length,type:`${n.type}[${t}]`});let s=!1;const a=[];for(let o=0;o<e.length;o++){const i=Hs({param:n,value:e[o]});i.dynamic&&(s=!0),a.push(i)}if(r||s){const o=qs(a);if(r){const i=T(a.length,{size:32});return{dynamic:!0,encoded:a.length>0?K([i,o]):i}}if(s)return{dynamic:!0,encoded:o}}return{dynamic:!1,encoded:K(a.map(({encoded:o})=>o))}}function w0(e,{param:t}){const[,n]=t.type.split("bytes"),r=_(e);if(!n){let s=e;return r%32!==0&&(s=ze(s,{dir:"right",size:Math.ceil((e.length-2)/2/32)*32})),{dynamic:!0,encoded:K([ze(T(r,{size:32})),s])}}if(r!==Number.parseInt(n,10))throw new gu({expectedSize:Number.parseInt(n,10),value:e});return{dynamic:!1,encoded:ze(e,{dir:"right"})}}function x0(e){if(typeof e!="boolean")throw new g(`Invalid boolean value: "${e}" (type: ${typeof e}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:ze(Ls(e))}}function v0(e,{signed:t,size:n=256}){if(typeof n=="number"){const r=2n**(BigInt(n)-(t?1n:0n))-1n,s=t?-r-1n:0n;if(e>r||e<s)throw new zo({max:r.toString(),min:s.toString(),signed:t,size:n/8,value:e.toString()})}return{dynamic:!1,encoded:T(e,{size:32,signed:t})}}function E0(e){const t=Ke(e),n=Math.ceil(_(t)/32),r=[];for(let s=0;s<n;s++)r.push(ze(ht(t,s*32,(s+1)*32),{dir:"right"}));return{dynamic:!0,encoded:K([ze(T(_(t),{size:32})),...r])}}function P0(e,{param:t}){let n=!1;const r=[];for(let s=0;s<t.components.length;s++){const a=t.components[s],o=Array.isArray(e)?s:a.name,i=Hs({param:a,value:e[o]});r.push(i),i.dynamic&&(n=!0)}return{dynamic:n,encoded:n?qs(r):K(r.map(({encoded:s})=>s))}}function Vs(e){const t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}function fn(e,t){const n=typeof t=="string"?le(t):t,r=js(n);if(_(n)===0&&e.length>0)throw new cn;if(_(t)&&_(t)<32)throw new To({data:typeof t=="string"?t:q(t),params:e,size:_(t)});let s=0;const a=[];for(let o=0;o<e.length;++o){const i=e[o];r.setPosition(s);const[c,u]=dt(r,i,{staticPosition:0});s+=u,a.push(c)}return a}function dt(e,t,{staticPosition:n}){const r=Vs(t.type);if(r){const[s,a]=r;return B0(e,{...t,type:a},{length:s,staticPosition:n})}if(t.type==="tuple")return T0(e,t,{staticPosition:n});if(t.type==="address")return A0(e);if(t.type==="bool")return $0(e);if(t.type.startsWith("bytes"))return I0(e,t,{staticPosition:n});if(t.type.startsWith("uint")||t.type.startsWith("int"))return O0(e,t);if(t.type==="string")return S0(e,{staticPosition:n});throw new Au(t.type,{docsPath:"/docs/contract/decodeAbiParameters"})}const ja=32,jr=32;function A0(e){const t=e.readBytes(32);return[Kn(q(Ko(t,-20))),32]}function B0(e,t,{length:n,staticPosition:r}){if(!n){const o=Ce(e.readBytes(jr)),i=r+o,c=i+ja;e.setPosition(i);const u=Ce(e.readBytes(ja)),f=Gt(t);let l=0;const d=[];for(let p=0;p<u;++p){e.setPosition(c+(f?p*32:l));const[m,b]=dt(e,t,{staticPosition:c});l+=b,d.push(m)}return e.setPosition(r+32),[d,32]}if(Gt(t)){const o=Ce(e.readBytes(jr)),i=r+o,c=[];for(let u=0;u<n;++u){e.setPosition(i+u*32);const[f]=dt(e,t,{staticPosition:i});c.push(f)}return e.setPosition(r+32),[c,32]}let s=0;const a=[];for(let o=0;o<n;++o){const[i,c]=dt(e,t,{staticPosition:r+s});s+=c,a.push(i)}return[a,s]}function $0(e){return[l0(e.readBytes(32),{size:32}),32]}function I0(e,t,{staticPosition:n}){const[r,s]=t.type.split("bytes");if(!s){const o=Ce(e.readBytes(32));e.setPosition(n+o);const i=Ce(e.readBytes(32));if(i===0)return e.setPosition(n+32),["0x",32];const c=e.readBytes(i);return e.setPosition(n+32),[q(c),32]}return[q(e.readBytes(Number.parseInt(s,10),32)),32]}function O0(e,t){const n=t.type.startsWith("int"),r=Number.parseInt(t.type.split("int")[1]||"256",10),s=e.readBytes(32);return[r>48?d0(s,{signed:n}):Ce(s,{signed:n}),32]}function T0(e,t,{staticPosition:n}){const r=t.components.length===0||t.components.some(({name:o})=>!o),s=r?[]:{};let a=0;if(Gt(t)){const o=Ce(e.readBytes(jr)),i=n+o;for(let c=0;c<t.components.length;++c){const u=t.components[c];e.setPosition(i+a);const[f,l]=dt(e,u,{staticPosition:i});a+=l,s[r?c:u?.name]=f}return e.setPosition(n+32),[s,32]}for(let o=0;o<t.components.length;++o){const i=t.components[o],[c,u]=dt(e,i,{staticPosition:n});s[r?o:i?.name]=c,a+=u}return[s,a]}function S0(e,{staticPosition:t}){const n=Ce(e.readBytes(32)),r=t+n;e.setPosition(r);const s=Ce(e.readBytes(32));if(s===0)return e.setPosition(t+32),["",32];const a=e.readBytes(s,32),o=p0(Se(a));return e.setPosition(t+32),[o,32]}function Gt(e){const{type:t}=e;if(t==="string"||t==="bytes"||t.endsWith("[]"))return!0;if(t==="tuple")return e.components?.some(Gt);const n=Vs(e.type);return!!(n&&Gt({...e,type:n[1]}))}const C0=e=>j(xt(e));function k0(e){return C0(e)}function N0(e){let t=!0,n="",r=0,s="",a=!1;for(let o=0;o<e.length;o++){const i=e[o];if(["(",")",","].includes(i)&&(t=!0),i==="("&&r++,i===")"&&r--,!!t){if(r===0){if(i===" "&&["event","function",""].includes(s))s="";else if(s+=i,i===")"){a=!0;break}continue}if(i===" "){e[o-1]!==","&&n!==","&&n!==",("&&(n="",t=!1);continue}s+=i,n+=i}}if(!a)throw new g("Unable to normalize signature.");return s}const F0=e=>{const t=typeof e=="string"?e:Mc(e);return N0(t)};function Xo(e){return k0(F0(e))}const Yn=Xo,dn=e=>ht(Xo(e),0,4);function nt(e){const{abi:t,args:n=[],name:r}=e,s=ye(r,{strict:!1}),a=t.filter(i=>s?i.type==="function"?dn(i)===r:i.type==="event"?Yn(i)===r:!1:"name"in i&&i.name===r);if(a.length===0)return;if(a.length===1)return a[0];let o;for(const i of a){if(!("inputs"in i))continue;if(!n||n.length===0){if(!i.inputs||i.inputs.length===0)return i;continue}if(!i.inputs||i.inputs.length===0||i.inputs.length!==n.length)continue;if(n.every((u,f)=>{const l="inputs"in i&&i.inputs[f];return l?_r(u,l):!1})){if(o&&"inputs"in o&&o.inputs){const u=Jo(i.inputs,o.inputs,n);if(u)throw new Eu({abiItem:i,type:u[0]},{abiItem:o,type:u[1]})}o=i}}return o||a[0]}function _r(e,t){const n=typeof e,r=t.type;switch(r){case"address":return oe(e,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in t?Object.values(t.components).every((s,a)=>_r(Object.values(e)[a],s)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||e instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(e)&&e.every(s=>_r(s,{...t,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function Jo(e,t,n){for(const r in e){const s=e[r],a=t[r];if(s.type==="tuple"&&a.type==="tuple"&&"components"in s&&"components"in a)return Jo(s.components,a.components,n[r]);const o=[s.type,a.type];if(o.includes("address")&&o.includes("bytes20")?!0:o.includes("address")&&o.includes("string")?oe(n[r],{strict:!1}):o.includes("address")&&o.includes("bytes")?oe(n[r],{strict:!1}):!1)return o}}const yr="/docs/contract/decodeFunctionResult";function rt(e){const{abi:t,args:n,functionName:r,data:s}=e;let a=t[0];if(r){const i=nt({abi:t,args:n,name:r});if(!i)throw new pt(r,{docsPath:yr});a=i}if(a.type!=="function")throw new pt(void 0,{docsPath:yr});if(!a.outputs)throw new No(a.name,{docsPath:yr});const o=fn(a.outputs,s);if(o&&o.length>1)return o;if(o&&o.length===1)return o[0]}const _a="/docs/contract/encodeFunctionData";function R0(e){const{abi:t,args:n,functionName:r}=e;let s=t[0];if(r){const a=nt({abi:t,args:n,name:r});if(!a)throw new pt(r,{docsPath:_a});s=a}if(s.type!=="function")throw new pt(void 0,{docsPath:_a});return{abi:[s],functionName:dn(he(s))}}function ie(e){const{args:t}=e,{abi:n,functionName:r}=e.abi.length===1&&e.functionName?.startsWith("0x")?e:R0(e),s=n[0],a=r,o="inputs"in s&&s.inputs?de(s.inputs,t??[]):void 0;return Fe([a,o??"0x"])}class Hr extends g{constructor({blockNumber:t,chain:n,contract:r}){super(`Chain "${n.name}" does not support contract "${r.name}".`,{metaMessages:["This could be due to any of the following:",...t&&r.blockCreated&&r.blockCreated>t?[`- The contract "${r.name}" was not deployed until block ${r.blockCreated} (current block ${t}).`]:[`- The chain does not have the contract "${r.name}" configured.`]],name:"ChainDoesNotSupportContract"})}}class G0 extends g{constructor({chain:t,currentChainId:n}){super(`The current chain of the wallet (id: ${n}) does not match the target chain for the transaction (id: ${t.id} – ${t.name}).`,{metaMessages:[`Current Chain ID:  ${n}`,`Expected Chain ID: ${t.id} – ${t.name}`],name:"ChainMismatchError"})}}class M0 extends g{constructor(){super(["No chain was provided to the request.","Please provide a chain with the `chain` argument on the Action, or by supplying a `chain` to WalletClient."].join(`
`),{name:"ChainNotFoundError"})}}class Qo extends g{constructor(){super("No chain was provided to the Client.",{name:"ClientChainNotConfiguredError"})}}function vt({blockNumber:e,chain:t,contract:n}){const r=t?.contracts?.[n];if(!r)throw new Hr({chain:t,contract:{name:n}});if(e&&r.blockCreated&&r.blockCreated>e)throw new Hr({blockNumber:e,chain:t,contract:{name:n,blockCreated:r.blockCreated}});return r.address}function V(e){return typeof e=="string"?{address:e,type:"json-rpc"}:e}const z0={1:"An `assert` condition failed.",17:"Arithmetic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},ei={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},L0={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"};function Ws(e){const{abi:t,data:n}=e,r=ht(n,0,4);if(r==="0x")throw new cn;const a=[...t||[],ei,L0].find(o=>o.type==="error"&&r===dn(he(o)));if(!a)throw new Co(r,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:a,args:"inputs"in a&&a.inputs&&a.inputs.length>0?fn(a.inputs,ht(n,4)):void 0,errorName:a.name}}const H=(e,t,n)=>JSON.stringify(e,(r,s)=>typeof s=="bigint"?s.toString():s,n);function ti({abiItem:e,args:t,includeFunctionName:n=!0,includeName:r=!1}){if("name"in e&&"inputs"in e&&e.inputs)return`${n?e.name:""}(${e.inputs.map((s,a)=>`${r&&s.name?`${s.name}: `:""}${typeof t[a]=="object"?H(t[a]):t[a]}`).join(", ")})`}const U0={gwei:9,wei:18},D0={ether:-9,wei:9},N1={ether:-18,gwei:-9};function ni(e,t){let n=e.toString();const r=n.startsWith("-");r&&(n=n.slice(1)),n=n.padStart(t,"0");let[s,a]=[n.slice(0,n.length-t),n.slice(n.length-t)];return a=a.replace(/(0+)$/,""),`${r?"-":""}${s||"0"}${a?`.${a}`:""}`}function Zs(e,t="wei"){return ni(e,U0[t])}function X(e,t="wei"){return ni(e,D0[t])}class j0 extends g{constructor({address:t}){super(`State for account "${t}" is set multiple times.`,{name:"AccountStateConflictError"})}}class _0 extends g{constructor(){super("state and stateDiff are set on the same account.",{name:"StateAssignmentConflictError"})}}function Ha(e){return e.reduce((t,{slot:n,value:r})=>`${t}        ${n}: ${r}
`,"")}function H0(e){return e.reduce((t,{address:n,...r})=>{let s=`${t}    ${n}:
`;return r.nonce&&(s+=`      nonce: ${r.nonce}
`),r.balance&&(s+=`      balance: ${r.balance}
`),r.code&&(s+=`      code: ${r.code}
`),r.state&&(s+=`      state:
`,s+=Ha(r.state)),r.stateDiff&&(s+=`      stateDiff:
`,s+=Ha(r.stateDiff)),s},`  State Override:
`).slice(0,-1)}function Et(e){const t=Object.entries(e).map(([r,s])=>s===void 0||s===!1?null:[r,s]).filter(Boolean),n=t.reduce((r,[s])=>Math.max(r,s.length),0);return t.map(([r,s])=>`  ${`${r}:`.padEnd(n+1)}  ${s}`).join(`
`)}class q0 extends g{constructor(){super(["Cannot specify both a `gasPrice` and a `maxFeePerGas`/`maxPriorityFeePerGas`.","Use `maxFeePerGas`/`maxPriorityFeePerGas` for EIP-1559 compatible networks, and `gasPrice` for others."].join(`
`),{name:"FeeConflictError"})}}class V0 extends g{constructor({transaction:t}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",Et(t),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- an EIP-7702 Transaction with `authorizationList`, or","- a Legacy Transaction with `gasPrice`"],name:"InvalidSerializableTransactionError"})}}class W0 extends g{constructor(t,{account:n,docsPath:r,chain:s,data:a,gas:o,gasPrice:i,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:f,to:l,value:d}){const p=Et({chain:s&&`${s?.name} (id: ${s?.id})`,from:n?.address,to:l,value:typeof d<"u"&&`${Zs(d)} ${s?.nativeCurrency?.symbol||"ETH"}`,data:a,gas:o,gasPrice:typeof i<"u"&&`${X(i)} gwei`,maxFeePerGas:typeof c<"u"&&`${X(c)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${X(u)} gwei`,nonce:f});super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Request Arguments:",p].filter(Boolean),name:"TransactionExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}}class ri extends g{constructor({blockHash:t,blockNumber:n,blockTag:r,hash:s,index:a}){let o="Transaction";r&&a!==void 0&&(o=`Transaction at block time "${r}" at index "${a}"`),t&&a!==void 0&&(o=`Transaction at block hash "${t}" at index "${a}"`),n&&a!==void 0&&(o=`Transaction at block number "${n}" at index "${a}"`),s&&(o=`Transaction with hash "${s}"`),super(`${o} could not be found.`,{name:"TransactionNotFoundError"})}}class si extends g{constructor({hash:t}){super(`Transaction receipt with hash "${t}" could not be found. The Transaction may not be processed on a block yet.`,{name:"TransactionReceiptNotFoundError"})}}class Z0 extends g{constructor({receipt:t}){super(`Transaction with hash "${t.transactionHash}" reverted.`,{metaMessages:['The receipt marked the transaction as "reverted". This could mean that the function on the contract you are trying to call threw an error.'," ","You can attempt to extract the revert reason by:","- calling the `simulateContract` or `simulateCalls` Action with the `abi` and `functionName` of the contract","- using the `call` Action with raw `data`"],name:"TransactionReceiptRevertedError"}),Object.defineProperty(this,"receipt",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.receipt=t}}class K0 extends g{constructor({hash:t}){super(`Timed out while waiting for transaction with hash "${t}" to be confirmed.`,{name:"WaitForTransactionReceiptTimeoutError"})}}const Y0=e=>e,ln=e=>e;class ai extends g{constructor(t,{account:n,docsPath:r,chain:s,data:a,gas:o,gasPrice:i,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:f,to:l,value:d,stateOverride:p}){const m=n?V(n):void 0;let b=Et({from:m?.address,to:l,value:typeof d<"u"&&`${Zs(d)} ${s?.nativeCurrency?.symbol||"ETH"}`,data:a,gas:o,gasPrice:typeof i<"u"&&`${X(i)} gwei`,maxFeePerGas:typeof c<"u"&&`${X(c)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${X(u)} gwei`,nonce:f});p&&(b+=`
${H0(p)}`),super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Raw Call Arguments:",b].filter(Boolean),name:"CallExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}}class Ks extends g{constructor(t,{abi:n,args:r,contractAddress:s,docsPath:a,functionName:o,sender:i}){const c=nt({abi:n,args:r,name:o}),u=c?ti({abiItem:c,args:r,includeFunctionName:!1,includeName:!1}):void 0,f=c?he(c,{includeName:!0}):void 0,l=Et({address:s&&Y0(s),function:f,args:u&&u!=="()"&&`${[...Array(o?.length??0).keys()].map(()=>" ").join("")}${u}`,sender:i});super(t.shortMessage||`An unknown error occurred while executing the contract function "${o}".`,{cause:t,docsPath:a,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],l&&"Contract Call:",l].filter(Boolean),name:"ContractFunctionExecutionError"}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abi=n,this.args=r,this.cause=t,this.contractAddress=s,this.functionName=o,this.sender=i}}class On extends g{constructor({abi:t,data:n,functionName:r,message:s}){let a,o,i,c;if(n&&n!=="0x")try{o=Ws({abi:t,data:n});const{abiItem:f,errorName:l,args:d}=o;if(l==="Error")c=d[0];else if(l==="Panic"){const[p]=d;c=z0[p]}else{const p=f?he(f,{includeName:!0}):void 0,m=f&&d?ti({abiItem:f,args:d,includeFunctionName:!1,includeName:!1}):void 0;i=[p?`Error: ${p}`:"",m&&m!=="()"?`       ${[...Array(l?.length??0).keys()].map(()=>" ").join("")}${m}`:""]}}catch(f){a=f}else s&&(c=s);let u;a instanceof Co&&(u=a.signature,i=[`Unable to decode signature "${u}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${u}.`]),super(c&&c!=="execution reverted"||u?[`The contract function "${r}" reverted with the following ${u?"signature":"reason"}:`,c||u].join(`
`):`The contract function "${r}" reverted.`,{cause:a,metaMessages:i,name:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"raw",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=o,this.raw=n,this.reason=c,this.signature=u}}class oi extends g{constructor({functionName:t}){super(`The contract function "${t}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${t}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."],name:"ContractFunctionZeroDataError"})}}class X0 extends g{constructor({factory:t}){super(`Deployment for counterfactual contract call failed${t?` for factory "${t}".`:""}`,{metaMessages:["Please ensure:","- The `factory` is a valid contract deployment factory (ie. Create2 Factory, ERC-4337 Factory, etc).","- The `factoryData` is a valid encoded function call for contract deployment function on the factory."],name:"CounterfactualDeploymentFailedError"})}}class Xn extends g{constructor({data:t,message:n}){super(n||"",{name:"RawContractError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t}}function Ys(e){if(!(e instanceof g))return!1;const t=e.walk(n=>n instanceof On);return t instanceof On?t.data?.errorName==="HttpError"||t.data?.errorName==="ResolverError"||t.data?.errorName==="ResolverNotContract"||t.data?.errorName==="ResolverNotFound"||t.data?.errorName==="ReverseAddressMismatch"||t.data?.errorName==="UnsupportedResolverProfile":!1}function J0(e){const{abi:t,data:n}=e,r=ht(n,0,4),s=t.find(a=>a.type==="function"&&r===dn(he(a)));if(!s)throw new vu(r,{docsPath:"/docs/contract/decodeFunctionData"});return{functionName:s.name,args:"inputs"in s&&s.inputs&&s.inputs.length>0?fn(s.inputs,ht(n,4)):void 0}}const gr="/docs/contract/encodeErrorResult";function qa(e){const{abi:t,errorName:n,args:r}=e;let s=t[0];if(n){const c=nt({abi:t,args:r,name:n});if(!c)throw new Na(n,{docsPath:gr});s=c}if(s.type!=="error")throw new Na(void 0,{docsPath:gr});const a=he(s),o=dn(a);let i="0x";if(r&&r.length>0){if(!s.inputs)throw new wu(s.name,{docsPath:gr});i=de(s.inputs,r)}return Fe([o,i])}const wr="/docs/contract/encodeFunctionResult";function Q0(e){const{abi:t,functionName:n,result:r}=e;let s=t[0];if(n){const o=nt({abi:t,name:n});if(!o)throw new pt(n,{docsPath:wr});s=o}if(s.type!=="function")throw new pt(void 0,{docsPath:wr});if(!s.outputs)throw new No(s.name,{docsPath:wr});const a=(()=>{if(s.outputs.length===0)return[];if(s.outputs.length===1)return[r];if(Array.isArray(r))return r;throw new Ro(r)})();return de(s.outputs,a)}const pn="x-batch-gateway:true";async function ii(e){const{data:t,ccipRequest:n}=e,{args:[r]}=J0({abi:Lr,data:t}),s=[],a=[];return await Promise.all(r.map(async(o,i)=>{try{a[i]=o.urls.includes(pn)?await ii({data:o.data,ccipRequest:n}):await n(o),s[i]=!1}catch(c){s[i]=!0,a[i]=ef(c)}})),Q0({abi:Lr,functionName:"query",result:[s,a]})}function ef(e){return e.name==="HttpRequestError"&&e.status?qa({abi:Lr,errorName:"HttpError",args:[e.status,e.shortMessage]}):qa({abi:[ei],errorName:"Error",args:["shortMessage"in e?e.shortMessage:e.message]})}function ci(e){if(e.length!==66||e.indexOf("[")!==0||e.indexOf("]")!==65)return null;const t=`0x${e.slice(1,65)}`;return ye(t)?t:null}function qr(e){let t=new Uint8Array(32).fill(0);if(!e)return q(t);const n=e.split(".");for(let r=n.length-1;r>=0;r-=1){const s=ci(n[r]),a=s?xt(s):j(qe(n[r]),"bytes");t=j(K([t,a]),"bytes")}return q(t)}function tf(e){return`[${e.slice(2)}]`}function nf(e){const t=new Uint8Array(32).fill(0);return e?ci(e)||j(qe(e)):q(t)}function Xs(e){const t=e.replace(/^\.|\.$/gm,"");if(t.length===0)return new Uint8Array(1);const n=new Uint8Array(qe(t).byteLength+2);let r=0;const s=t.split(".");for(let a=0;a<s.length;a++){let o=qe(s[a]);o.byteLength>255&&(o=qe(tf(nf(s[a])))),n[r]=o.length,n.set(o,r+1),r+=o.length+1}return n.byteLength!==r+1?n.slice(0,r+1):n}function N(e,t,n){const r=e[t.name];if(typeof r=="function")return r;const s=e[n];return typeof s=="function"?s:a=>t(e,a)}class Ve extends g{constructor({body:t,cause:n,details:r,headers:s,status:a,url:o}){super("HTTP request failed.",{cause:n,details:r,metaMessages:[a&&`Status: ${a}`,`URL: ${ln(o)}`,t&&`Request body: ${H(t)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=t,this.headers=s,this.status=a,this.url=o}}class Js extends g{constructor({body:t,error:n,url:r}){super("RPC Request failed.",{cause:n,details:n.message,metaMessages:[`URL: ${ln(r)}`,`Request body: ${H(t)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=n.code,this.data=n.data}}class Va extends g{constructor({body:t,url:n}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${ln(n)}`,`Request body: ${H(t)}`],name:"TimeoutError"})}}const rf=-1;class ae extends g{constructor(t,{code:n,docsPath:r,metaMessages:s,name:a,shortMessage:o}){super(o,{cause:t,docsPath:r,metaMessages:s||t?.metaMessages,name:a||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=a||t.name,this.code=t instanceof Js?t.code:n??rf}}class ce extends ae{constructor(t,n){super(t,n),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=n.data}}class Mt extends ae{constructor(t){super(t,{code:Mt.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}}Object.defineProperty(Mt,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class zt extends ae{constructor(t){super(t,{code:zt.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}}Object.defineProperty(zt,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class Lt extends ae{constructor(t,{method:n}={}){super(t,{code:Lt.code,name:"MethodNotFoundRpcError",shortMessage:`The method${n?` "${n}"`:""} does not exist / is not available.`})}}Object.defineProperty(Lt,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class Ut extends ae{constructor(t){super(t,{code:Ut.code,name:"InvalidParamsRpcError",shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(Ut,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class Xe extends ae{constructor(t){super(t,{code:Xe.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}}Object.defineProperty(Xe,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class Je extends ae{constructor(t){super(t,{code:Je.code,name:"InvalidInputRpcError",shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(Je,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class Dt extends ae{constructor(t){super(t,{code:Dt.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(Dt,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class jt extends ae{constructor(t){super(t,{code:jt.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}}Object.defineProperty(jt,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class yt extends ae{constructor(t){super(t,{code:yt.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}}Object.defineProperty(yt,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class De extends ae{constructor(t,{method:n}={}){super(t,{code:De.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${n?` "${n}"`:""} is not supported.`})}}Object.defineProperty(De,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class gt extends ae{constructor(t){super(t,{code:gt.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}}Object.defineProperty(gt,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class _t extends ae{constructor(t){super(t,{code:_t.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}}Object.defineProperty(_t,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class We extends ce{constructor(t){super(t,{code:We.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}}Object.defineProperty(We,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class Ht extends ce{constructor(t){super(t,{code:Ht.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}}Object.defineProperty(Ht,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class qt extends ce{constructor(t,{method:n}={}){super(t,{code:qt.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${n?` " ${n}"`:""}.`})}}Object.defineProperty(qt,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class Vt extends ce{constructor(t){super(t,{code:Vt.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}}Object.defineProperty(Vt,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class Wt extends ce{constructor(t){super(t,{code:Wt.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}}Object.defineProperty(Wt,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class Zt extends ce{constructor(t){super(t,{code:Zt.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}}Object.defineProperty(Zt,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class Kt extends ce{constructor(t){super(t,{code:Kt.code,name:"UnsupportedNonOptionalCapabilityError",shortMessage:"This Wallet does not support a capability that was not marked as optional."})}}Object.defineProperty(Kt,"code",{enumerable:!0,configurable:!0,writable:!0,value:5700});class Yt extends ce{constructor(t){super(t,{code:Yt.code,name:"UnsupportedChainIdError",shortMessage:"This Wallet does not support the requested chain ID."})}}Object.defineProperty(Yt,"code",{enumerable:!0,configurable:!0,writable:!0,value:5710});class Xt extends ce{constructor(t){super(t,{code:Xt.code,name:"DuplicateIdError",shortMessage:"There is already a bundle submitted with this ID."})}}Object.defineProperty(Xt,"code",{enumerable:!0,configurable:!0,writable:!0,value:5720});class Jt extends ce{constructor(t){super(t,{code:Jt.code,name:"UnknownBundleIdError",shortMessage:"This bundle id is unknown / has not been submitted"})}}Object.defineProperty(Jt,"code",{enumerable:!0,configurable:!0,writable:!0,value:5730});class Qt extends ce{constructor(t){super(t,{code:Qt.code,name:"BundleTooLargeError",shortMessage:"The call bundle is too large for the Wallet to process."})}}Object.defineProperty(Qt,"code",{enumerable:!0,configurable:!0,writable:!0,value:5740});class en extends ce{constructor(t){super(t,{code:en.code,name:"AtomicReadyWalletRejectedUpgradeError",shortMessage:"The Wallet can support atomicity after an upgrade, but the user rejected the upgrade."})}}Object.defineProperty(en,"code",{enumerable:!0,configurable:!0,writable:!0,value:5750});class tn extends ce{constructor(t){super(t,{code:tn.code,name:"AtomicityNotSupportedError",shortMessage:"The wallet does not support atomic execution but the request requires it."})}}Object.defineProperty(tn,"code",{enumerable:!0,configurable:!0,writable:!0,value:5760});class sf extends ae{constructor(t){super(t,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}}const af=3;function Qe(e,{abi:t,address:n,args:r,docsPath:s,functionName:a,sender:o}){const i=e instanceof Xn?e:e instanceof g?e.walk(m=>"data"in m)||e.walk():{},{code:c,data:u,details:f,message:l,shortMessage:d}=i,p=e instanceof cn?new oi({functionName:a}):[af,Xe.code].includes(c)&&(u||f||l||d)?new On({abi:t,data:typeof u=="object"?u.data:u,functionName:a,message:i instanceof Js?f:d??l}):e;return new Ks(p,{abi:t,args:r,contractAddress:n,docsPath:s,functionName:a,sender:o})}const of="0x82ad56cb",ui="0x608060405234801561001057600080fd5b5060405161018e38038061018e83398101604081905261002f91610124565b6000808351602085016000f59050803b61004857600080fd5b6000808351602085016000855af16040513d6000823e81610067573d81fd5b3d81f35b634e487b7160e01b600052604160045260246000fd5b600082601f83011261009257600080fd5b81516001600160401b038111156100ab576100ab61006b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156100d9576100d961006b565b6040528181528382016020018510156100f157600080fd5b60005b82811015610110576020818601810151838301820152016100f4565b506000918101602001919091529392505050565b6000806040838503121561013757600080fd5b82516001600160401b0381111561014d57600080fd5b61015985828601610081565b602085015190935090506001600160401b0381111561017757600080fd5b61018385828601610081565b915050925092905056fe",cf="0x608060405234801561001057600080fd5b506040516102c03803806102c083398101604081905261002f916101e6565b836001600160a01b03163b6000036100e457600080836001600160a01b03168360405161005c9190610270565b6000604051808303816000865af19150503d8060008114610099576040519150601f19603f3d011682016040523d82523d6000602084013e61009e565b606091505b50915091508115806100b857506001600160a01b0386163b155b156100e1578060405163101bb98d60e01b81526004016100d8919061028c565b60405180910390fd5b50505b6000808451602086016000885af16040513d6000823e81610103573d81fd5b3d81f35b80516001600160a01b038116811461011e57600080fd5b919050565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561015457818101518382015260200161013c565b50506000910152565b600082601f83011261016e57600080fd5b81516001600160401b0381111561018757610187610123565b604051601f8201601f19908116603f011681016001600160401b03811182821017156101b5576101b5610123565b6040528181528382016020018510156101cd57600080fd5b6101de826020830160208701610139565b949350505050565b600080600080608085870312156101fc57600080fd5b61020585610107565b60208601519094506001600160401b0381111561022157600080fd5b61022d8782880161015d565b93505061023c60408601610107565b60608601519092506001600160401b0381111561025857600080fd5b6102648782880161015d565b91505092959194509250565b60008251610282818460208701610139565b9190910192915050565b60208152600082518060208401526102ab816040850160208701610139565b601f01601f1916919091016040019291505056fe",uf="0x608060405234801561001057600080fd5b5060405161069438038061069483398101604081905261002f9161051e565b600061003c848484610048565b9050806000526001601ff35b60007f64926492649264926492649264926492649264926492649264926492649264926100748361040c565b036101e7576000606080848060200190518101906100929190610577565b60405192955090935091506000906001600160a01b038516906100b69085906105dd565b6000604051808303816000865af19150503d80600081146100f3576040519150601f19603f3d011682016040523d82523d6000602084013e6100f8565b606091505b50509050876001600160a01b03163b60000361016057806101605760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90610190908b9087906004016105f9565b602060405180830381865afa1580156101ad573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101d19190610633565b6001600160e01b03191614945050505050610405565b6001600160a01b0384163b1561027a57604051630b135d3f60e11b808252906001600160a01b03861690631626ba7e9061022790879087906004016105f9565b602060405180830381865afa158015610244573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102689190610633565b6001600160e01b031916149050610405565b81516041146102df5760405162461bcd60e51b815260206004820152603a602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e6774680000000000006064820152608401610157565b6102e7610425565b5060208201516040808401518451859392600091859190811061030c5761030c61065d565b016020015160f81c9050601b811480159061032b57508060ff16601c14155b1561038c5760405162461bcd60e51b815260206004820152603b602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c756500000000006064820152608401610157565b60408051600081526020810180835289905260ff83169181019190915260608101849052608081018390526001600160a01b0389169060019060a0016020604051602081039080840390855afa1580156103ea573d6000803e3d6000fd5b505050602060405103516001600160a01b0316149450505050505b9392505050565b600060208251101561041d57600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b038116811461045857600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561048c578181015183820152602001610474565b50506000910152565b600082601f8301126104a657600080fd5b81516001600160401b038111156104bf576104bf61045b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156104ed576104ed61045b565b60405281815283820160200185101561050557600080fd5b610516826020830160208701610471565b949350505050565b60008060006060848603121561053357600080fd5b835161053e81610443565b6020850151604086015191945092506001600160401b0381111561056157600080fd5b61056d86828701610495565b9150509250925092565b60008060006060848603121561058c57600080fd5b835161059781610443565b60208501519093506001600160401b038111156105b357600080fd5b6105bf86828701610495565b604086015190935090506001600160401b0381111561056157600080fd5b600082516105ef818460208701610471565b9190910192915050565b828152604060208201526000825180604084015261061e816060850160208701610471565b601f01601f1916919091016060019392505050565b60006020828403121561064557600080fd5b81516001600160e01b03198116811461040557600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572",Qs="0x608060405234801561001057600080fd5b506115b9806100206000396000f3fe6080604052600436106100f35760003560e01c80634d2301cc1161008a578063a8b0574e11610059578063a8b0574e14610325578063bce38bd714610350578063c3077fa914610380578063ee82ac5e146103b2576100f3565b80634d2301cc1461026257806372425d9d1461029f57806382ad56cb146102ca57806386d516e8146102fa576100f3565b80633408e470116100c65780633408e470146101af578063399542e9146101da5780633e64a6961461020c57806342cbb15c14610237576100f3565b80630f28c97d146100f8578063174dea7114610123578063252dba421461015357806327e86d6e14610184575b600080fd5b34801561010457600080fd5b5061010d6103ef565b60405161011a9190610c0a565b60405180910390f35b61013d60048036038101906101389190610c94565b6103f7565b60405161014a9190610e94565b60405180910390f35b61016d60048036038101906101689190610f0c565b610615565b60405161017b92919061101b565b60405180910390f35b34801561019057600080fd5b506101996107ab565b6040516101a69190611064565b60405180910390f35b3480156101bb57600080fd5b506101c46107b7565b6040516101d19190610c0a565b60405180910390f35b6101f460048036038101906101ef91906110ab565b6107bf565b6040516102039392919061110b565b60405180910390f35b34801561021857600080fd5b506102216107e1565b60405161022e9190610c0a565b60405180910390f35b34801561024357600080fd5b5061024c6107e9565b6040516102599190610c0a565b60405180910390f35b34801561026e57600080fd5b50610289600480360381019061028491906111a7565b6107f1565b6040516102969190610c0a565b60405180910390f35b3480156102ab57600080fd5b506102b4610812565b6040516102c19190610c0a565b60405180910390f35b6102e460048036038101906102df919061122a565b61081a565b6040516102f19190610e94565b60405180910390f35b34801561030657600080fd5b5061030f6109e4565b60405161031c9190610c0a565b60405180910390f35b34801561033157600080fd5b5061033a6109ec565b6040516103479190611286565b60405180910390f35b61036a600480360381019061036591906110ab565b6109f4565b6040516103779190610e94565b60405180910390f35b61039a60048036038101906103959190610f0c565b610ba6565b6040516103a99392919061110b565b60405180910390f35b3480156103be57600080fd5b506103d960048036038101906103d491906112cd565b610bca565b6040516103e69190611064565b60405180910390f35b600042905090565b60606000808484905090508067ffffffffffffffff81111561041c5761041b6112fa565b5b60405190808252806020026020018201604052801561045557816020015b610442610bd5565b81526020019060019003908161043a5790505b5092503660005b828110156105c957600085828151811061047957610478611329565b5b6020026020010151905087878381811061049657610495611329565b5b90506020028101906104a89190611367565b925060008360400135905080860195508360000160208101906104cb91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16818580606001906104f2919061138f565b604051610500929190611431565b60006040518083038185875af1925050503d806000811461053d576040519150601f19603f3d011682016040523d82523d6000602084013e610542565b606091505b5083600001846020018290528215151515815250505081516020850135176105bc577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260846000fd5b826001019250505061045c565b5082341461060c576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610603906114a7565b60405180910390fd5b50505092915050565b6000606043915060008484905090508067ffffffffffffffff81111561063e5761063d6112fa565b5b60405190808252806020026020018201604052801561067157816020015b606081526020019060019003908161065c5790505b5091503660005b828110156107a157600087878381811061069557610694611329565b5b90506020028101906106a791906114c7565b92508260000160208101906106bc91906111a7565b73ffffffffffffffffffffffffffffffffffffffff168380602001906106e2919061138f565b6040516106f0929190611431565b6000604051808303816000865af19150503d806000811461072d576040519150601f19603f3d011682016040523d82523d6000602084013e610732565b606091505b5086848151811061074657610745611329565b5b60200260200101819052819250505080610795576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161078c9061153b565b60405180910390fd5b81600101915050610678565b5050509250929050565b60006001430340905090565b600046905090565b6000806060439250434091506107d68686866109f4565b905093509350939050565b600048905090565b600043905090565b60008173ffffffffffffffffffffffffffffffffffffffff16319050919050565b600044905090565b606060008383905090508067ffffffffffffffff81111561083e5761083d6112fa565b5b60405190808252806020026020018201604052801561087757816020015b610864610bd5565b81526020019060019003908161085c5790505b5091503660005b828110156109db57600084828151811061089b5761089a611329565b5b602002602001015190508686838181106108b8576108b7611329565b5b90506020028101906108ca919061155b565b92508260000160208101906108df91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060400190610905919061138f565b604051610913929190611431565b6000604051808303816000865af19150503d8060008114610950576040519150601f19603f3d011682016040523d82523d6000602084013e610955565b606091505b5082600001836020018290528215151515815250505080516020840135176109cf577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260646000fd5b8160010191505061087e565b50505092915050565b600045905090565b600041905090565b606060008383905090508067ffffffffffffffff811115610a1857610a176112fa565b5b604051908082528060200260200182016040528015610a5157816020015b610a3e610bd5565b815260200190600190039081610a365790505b5091503660005b82811015610b9c576000848281518110610a7557610a74611329565b5b60200260200101519050868683818110610a9257610a91611329565b5b9050602002810190610aa491906114c7565b9250826000016020810190610ab991906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060200190610adf919061138f565b604051610aed929190611431565b6000604051808303816000865af19150503d8060008114610b2a576040519150601f19603f3d011682016040523d82523d6000602084013e610b2f565b606091505b508260000183602001829052821515151581525050508715610b90578060000151610b8f576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610b869061153b565b60405180910390fd5b5b81600101915050610a58565b5050509392505050565b6000806060610bb7600186866107bf565b8093508194508295505050509250925092565b600081409050919050565b6040518060400160405280600015158152602001606081525090565b6000819050919050565b610c0481610bf1565b82525050565b6000602082019050610c1f6000830184610bfb565b92915050565b600080fd5b600080fd5b600080fd5b600080fd5b600080fd5b60008083601f840112610c5457610c53610c2f565b5b8235905067ffffffffffffffff811115610c7157610c70610c34565b5b602083019150836020820283011115610c8d57610c8c610c39565b5b9250929050565b60008060208385031215610cab57610caa610c25565b5b600083013567ffffffffffffffff811115610cc957610cc8610c2a565b5b610cd585828601610c3e565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b60008115159050919050565b610d2281610d0d565b82525050565b600081519050919050565b600082825260208201905092915050565b60005b83811015610d62578082015181840152602081019050610d47565b83811115610d71576000848401525b50505050565b6000601f19601f8301169050919050565b6000610d9382610d28565b610d9d8185610d33565b9350610dad818560208601610d44565b610db681610d77565b840191505092915050565b6000604083016000830151610dd96000860182610d19565b5060208301518482036020860152610df18282610d88565b9150508091505092915050565b6000610e0a8383610dc1565b905092915050565b6000602082019050919050565b6000610e2a82610ce1565b610e348185610cec565b935083602082028501610e4685610cfd565b8060005b85811015610e825784840389528151610e638582610dfe565b9450610e6e83610e12565b925060208a01995050600181019050610e4a565b50829750879550505050505092915050565b60006020820190508181036000830152610eae8184610e1f565b905092915050565b60008083601f840112610ecc57610ecb610c2f565b5b8235905067ffffffffffffffff811115610ee957610ee8610c34565b5b602083019150836020820283011115610f0557610f04610c39565b5b9250929050565b60008060208385031215610f2357610f22610c25565b5b600083013567ffffffffffffffff811115610f4157610f40610c2a565b5b610f4d85828601610eb6565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b6000610f918383610d88565b905092915050565b6000602082019050919050565b6000610fb182610f59565b610fbb8185610f64565b935083602082028501610fcd85610f75565b8060005b858110156110095784840389528151610fea8582610f85565b9450610ff583610f99565b925060208a01995050600181019050610fd1565b50829750879550505050505092915050565b60006040820190506110306000830185610bfb565b81810360208301526110428184610fa6565b90509392505050565b6000819050919050565b61105e8161104b565b82525050565b60006020820190506110796000830184611055565b92915050565b61108881610d0d565b811461109357600080fd5b50565b6000813590506110a58161107f565b92915050565b6000806000604084860312156110c4576110c3610c25565b5b60006110d286828701611096565b935050602084013567ffffffffffffffff8111156110f3576110f2610c2a565b5b6110ff86828701610eb6565b92509250509250925092565b60006060820190506111206000830186610bfb565b61112d6020830185611055565b818103604083015261113f8184610e1f565b9050949350505050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b600061117482611149565b9050919050565b61118481611169565b811461118f57600080fd5b50565b6000813590506111a18161117b565b92915050565b6000602082840312156111bd576111bc610c25565b5b60006111cb84828501611192565b91505092915050565b60008083601f8401126111ea576111e9610c2f565b5b8235905067ffffffffffffffff81111561120757611206610c34565b5b60208301915083602082028301111561122357611222610c39565b5b9250929050565b6000806020838503121561124157611240610c25565b5b600083013567ffffffffffffffff81111561125f5761125e610c2a565b5b61126b858286016111d4565b92509250509250929050565b61128081611169565b82525050565b600060208201905061129b6000830184611277565b92915050565b6112aa81610bf1565b81146112b557600080fd5b50565b6000813590506112c7816112a1565b92915050565b6000602082840312156112e3576112e2610c25565b5b60006112f1848285016112b8565b91505092915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b600080fd5b600080fd5b600080fd5b60008235600160800383360303811261138357611382611358565b5b80830191505092915050565b600080833560016020038436030381126113ac576113ab611358565b5b80840192508235915067ffffffffffffffff8211156113ce576113cd61135d565b5b6020830192506001820236038313156113ea576113e9611362565b5b509250929050565b600081905092915050565b82818337600083830152505050565b600061141883856113f2565b93506114258385846113fd565b82840190509392505050565b600061143e82848661140c565b91508190509392505050565b600082825260208201905092915050565b7f4d756c746963616c6c333a2076616c7565206d69736d61746368000000000000600082015250565b6000611491601a8361144a565b915061149c8261145b565b602082019050919050565b600060208201905081810360008301526114c081611484565b9050919050565b6000823560016040038336030381126114e3576114e2611358565b5b80830191505092915050565b7f4d756c746963616c6c333a2063616c6c206661696c6564000000000000000000600082015250565b600061152560178361144a565b9150611530826114ef565b602082019050919050565b6000602082019050818103600083015261155481611518565b9050919050565b60008235600160600383360303811261157757611576611358565b5b8083019150509291505056fea264697066735822122020c1bc9aacf8e4a6507193432a895a8e77094f45a1395583f07b24e860ef06cd64736f6c634300080c0033",xr="/docs/contract/encodeDeployData";function ea(e){const{abi:t,args:n,bytecode:r}=e;if(!n||n.length===0)return r;const s=t.find(o=>"type"in o&&o.type==="constructor");if(!s)throw new hu({docsPath:xr});if(!("inputs"in s))throw new ka({docsPath:xr});if(!s.inputs||s.inputs.length===0)throw new ka({docsPath:xr});const a=de(s.inputs,n);return Fe([r,a])}let je=class extends g{constructor({cause:t,message:n}={}){const r=n?.replace("execution reverted: ","")?.replace("execution reverted","");super(`Execution reverted ${r?`with reason: ${r}`:"for an unknown reason"}.`,{cause:t,name:"ExecutionRevertedError"})}};Object.defineProperty(je,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty(je,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});class Tn extends g{constructor({cause:t,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${X(n)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:t,name:"FeeCapTooHighError"})}}Object.defineProperty(Tn,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class Vr extends g{constructor({cause:t,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${X(n)}`:""} gwei) cannot be lower than the block base fee.`,{cause:t,name:"FeeCapTooLowError"})}}Object.defineProperty(Vr,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class Wr extends g{constructor({cause:t,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}is higher than the next one expected.`,{cause:t,name:"NonceTooHighError"})}}Object.defineProperty(Wr,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class Zr extends g{constructor({cause:t,nonce:n}={}){super([`Nonce provided for the transaction ${n?`(${n}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join(`
`),{cause:t,name:"NonceTooLowError"})}}Object.defineProperty(Zr,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class Kr extends g{constructor({cause:t,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}exceeds the maximum allowed nonce.`,{cause:t,name:"NonceMaxValueError"})}}Object.defineProperty(Kr,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class Yr extends g{constructor({cause:t}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join(`
`),{cause:t,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."],name:"InsufficientFundsError"})}}Object.defineProperty(Yr,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds|exceeds transaction sender account balance/});class Xr extends g{constructor({cause:t,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:t,name:"IntrinsicGasTooHighError"})}}Object.defineProperty(Xr,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class Jr extends g{constructor({cause:t,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction is too low.`,{cause:t,name:"IntrinsicGasTooLowError"})}}Object.defineProperty(Jr,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class Qr extends g{constructor({cause:t}){super("The transaction type is not supported for this chain.",{cause:t,name:"TransactionTypeNotSupportedError"})}}Object.defineProperty(Qr,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class Sn extends g{constructor({cause:t,maxPriorityFeePerGas:n,maxFeePerGas:r}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${n?` = ${X(n)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${r?` = ${X(r)} gwei`:""}).`].join(`
`),{cause:t,name:"TipAboveFeeCapError"})}}Object.defineProperty(Sn,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class bn extends g{constructor({cause:t}){super(`An error occurred while executing: ${t?.shortMessage}`,{cause:t,name:"UnknownNodeError"})}}function Jn(e,t){const n=(e.details||"").toLowerCase(),r=e instanceof g?e.walk(s=>s?.code===je.code):e;return r instanceof g?new je({cause:e,message:r.details}):je.nodeMessage.test(n)?new je({cause:e,message:e.details}):Tn.nodeMessage.test(n)?new Tn({cause:e,maxFeePerGas:t?.maxFeePerGas}):Vr.nodeMessage.test(n)?new Vr({cause:e,maxFeePerGas:t?.maxFeePerGas}):Wr.nodeMessage.test(n)?new Wr({cause:e,nonce:t?.nonce}):Zr.nodeMessage.test(n)?new Zr({cause:e,nonce:t?.nonce}):Kr.nodeMessage.test(n)?new Kr({cause:e,nonce:t?.nonce}):Yr.nodeMessage.test(n)?new Yr({cause:e}):Xr.nodeMessage.test(n)?new Xr({cause:e,gas:t?.gas}):Jr.nodeMessage.test(n)?new Jr({cause:e,gas:t?.gas}):Qr.nodeMessage.test(n)?new Qr({cause:e}):Sn.nodeMessage.test(n)?new Sn({cause:e,maxFeePerGas:t?.maxFeePerGas,maxPriorityFeePerGas:t?.maxPriorityFeePerGas}):new bn({cause:e})}function fi(e,{docsPath:t,...n}){const r=(()=>{const s=Jn(e,n);return s instanceof bn?e:s})();return new ai(r,{docsPath:t,...n})}function Qn(e,{format:t}){if(!t)return{};const n={};function r(a){const o=Object.keys(a);for(const i of o)i in e&&(n[i]=e[i]),a[i]&&typeof a[i]=="object"&&!Array.isArray(a[i])&&r(a[i])}const s=t(e||{});return r(s),n}const ff={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3",eip7702:"0x4"};function mn(e,t){const n={};return typeof e.authorizationList<"u"&&(n.authorizationList=df(e.authorizationList)),typeof e.accessList<"u"&&(n.accessList=e.accessList),typeof e.blobVersionedHashes<"u"&&(n.blobVersionedHashes=e.blobVersionedHashes),typeof e.blobs<"u"&&(typeof e.blobs[0]!="string"?n.blobs=e.blobs.map(r=>q(r)):n.blobs=e.blobs),typeof e.data<"u"&&(n.data=e.data),typeof e.from<"u"&&(n.from=e.from),typeof e.gas<"u"&&(n.gas=T(e.gas)),typeof e.gasPrice<"u"&&(n.gasPrice=T(e.gasPrice)),typeof e.maxFeePerBlobGas<"u"&&(n.maxFeePerBlobGas=T(e.maxFeePerBlobGas)),typeof e.maxFeePerGas<"u"&&(n.maxFeePerGas=T(e.maxFeePerGas)),typeof e.maxPriorityFeePerGas<"u"&&(n.maxPriorityFeePerGas=T(e.maxPriorityFeePerGas)),typeof e.nonce<"u"&&(n.nonce=T(e.nonce)),typeof e.to<"u"&&(n.to=e.to),typeof e.type<"u"&&(n.type=ff[e.type]),typeof e.value<"u"&&(n.value=T(e.value)),n}function df(e){return e.map(t=>({address:t.address,r:t.r?T(BigInt(t.r)):t.r,s:t.s?T(BigInt(t.s)):t.s,chainId:T(t.chainId),nonce:T(t.nonce),...typeof t.yParity<"u"?{yParity:T(t.yParity)}:{},...typeof t.v<"u"&&typeof t.yParity>"u"?{v:T(t.v)}:{}}))}function ta(){let e=()=>{},t=()=>{};return{promise:new Promise((r,s)=>{e=r,t=s}),resolve:e,reject:t}}const vr=new Map;function di({fn:e,id:t,shouldSplitBatch:n,wait:r=0,sort:s}){const a=async()=>{const f=c();o();const l=f.map(({args:d})=>d);l.length!==0&&e(l).then(d=>{s&&Array.isArray(d)&&d.sort(s);for(let p=0;p<f.length;p++){const{resolve:m}=f[p];m?.([d[p],d])}}).catch(d=>{for(let p=0;p<f.length;p++){const{reject:m}=f[p];m?.(d)}})},o=()=>vr.delete(t),i=()=>c().map(({args:f})=>f),c=()=>vr.get(t)||[],u=f=>vr.set(t,[...c(),f]);return{flush:o,async schedule(f){const{promise:l,resolve:d,reject:p}=ta();return n?.([...i(),f])&&a(),c().length>0?(u({args:f,resolve:d,reject:p}),l):(u({args:f,resolve:d,reject:p}),setTimeout(a,r),l)}}}function Wa(e){if(!(!e||e.length===0))return e.reduce((t,{slot:n,value:r})=>{if(n.length!==66)throw new Ra({size:n.length,targetSize:66,type:"hex"});if(r.length!==66)throw new Ra({size:r.length,targetSize:66,type:"hex"});return t[n]=r,t},{})}function lf(e){const{balance:t,nonce:n,state:r,stateDiff:s,code:a}=e,o={};if(a!==void 0&&(o.code=a),t!==void 0&&(o.balance=T(t)),n!==void 0&&(o.nonce=T(n)),r!==void 0&&(o.state=Wa(r)),s!==void 0){if(o.state)throw new _0;o.stateDiff=Wa(s)}return o}function er(e){if(!e)return;const t={};for(const{address:n,...r}of e){if(!oe(n,{strict:!1}))throw new ke({address:n});if(t[n])throw new j0({address:n});t[n]=lf(r)}return t}const pf=2n**256n-1n;function Pt(e){const{account:t,gasPrice:n,maxFeePerGas:r,maxPriorityFeePerGas:s,to:a}=e,o=t?V(t):void 0;if(o&&!oe(o.address))throw new ke({address:o.address});if(a&&!oe(a))throw new ke({address:a});if(typeof n<"u"&&(typeof r<"u"||typeof s<"u"))throw new q0;if(r&&r>pf)throw new Tn({maxFeePerGas:r});if(s&&r&&s>r)throw new Sn({maxFeePerGas:r,maxPriorityFeePerGas:s})}async function hn(e,t){const{account:n=e.account,authorizationList:r,batch:s=!!e.batch?.multicall,blockNumber:a,blockTag:o=e.experimental_blockTag??"latest",accessList:i,blobs:c,blockOverrides:u,code:f,data:l,factory:d,factoryData:p,gas:m,gasPrice:b,maxFeePerBlobGas:y,maxFeePerGas:w,maxPriorityFeePerGas:A,nonce:x,to:h,value:E,stateOverride:v,...P}=t,O=n?V(n):void 0;if(f&&(d||p))throw new g("Cannot provide both `code` & `factory`/`factoryData` as parameters.");if(f&&h)throw new g("Cannot provide both `code` & `to` as parameters.");const F=f&&l,S=d&&p&&h&&l,C=F||S,k=F?li({code:f,data:l}):S?hf({data:l,factory:d,factoryData:p,to:h}):l;try{Pt(t);const U=(typeof a=="bigint"?T(a):void 0)||o,$=u?vo(u):void 0,B=er(v),R=e.chain?.formatters?.transactionRequest?.format,G=(R||mn)({...Qn(P,{format:R}),from:O?.address,accessList:i,authorizationList:r,blobs:c,data:k,gas:m,gasPrice:b,maxFeePerBlobGas:y,maxFeePerGas:w,maxPriorityFeePerGas:A,nonce:x,to:C?void 0:h,value:E},"call");if(s&&bf({request:G})&&!B&&!$)try{return await mf(e,{...G,blockNumber:a,blockTag:o})}catch(D){if(!(D instanceof Qo)&&!(D instanceof Hr))throw D}const z=(()=>{const D=[G,U];return B&&$?[...D,B,$]:B?[...D,B]:$?[...D,{},$]:D})(),L=await e.request({method:"eth_call",params:z});return L==="0x"?{data:void 0}:{data:L}}catch(M){const U=yf(M),{offchainLookup:$,offchainLookupSignature:B}=await qn(async()=>{const{offchainLookup:R,offchainLookupSignature:I}=await Promise.resolve().then(()=>Rd);return{offchainLookup:R,offchainLookupSignature:I}},void 0);if(e.ccipRead!==!1&&U?.slice(0,10)===B&&h)return{data:await $(e,{data:U,to:h})};throw C&&U?.slice(0,10)==="0x101bb98d"?new X0({factory:d}):fi(M,{...t,account:O,chain:e.chain})}}function bf({request:e}){const{data:t,to:n,...r}=e;return!(!t||t.startsWith(of)||!n||Object.values(r).filter(s=>typeof s<"u").length>0)}async function mf(e,t){const{batchSize:n=1024,deployless:r=!1,wait:s=0}=typeof e.batch?.multicall=="object"?e.batch.multicall:{},{blockNumber:a,blockTag:o=e.experimental_blockTag??"latest",data:i,to:c}=t,u=(()=>{if(r)return null;if(t.multicallAddress)return t.multicallAddress;if(e.chain)return vt({blockNumber:a,chain:e.chain,contract:"multicall3"});throw new Qo})(),l=(typeof a=="bigint"?T(a):void 0)||o,{schedule:d}=di({id:`${e.uid}.${l}`,wait:s,shouldSplitBatch(b){return b.reduce((w,{data:A})=>w+(A.length-2),0)>n*2},fn:async b=>{const y=b.map(x=>({allowFailure:!0,callData:x.data,target:x.to})),w=ie({abi:In,args:[y],functionName:"aggregate3"}),A=await e.request({method:"eth_call",params:[{...u===null?{data:li({code:Qs,data:w})}:{to:u,data:w}},l]});return rt({abi:In,args:[y],functionName:"aggregate3",data:A||"0x"})}}),[{returnData:p,success:m}]=await d({data:i,to:c});if(!m)throw new Xn({data:p});return p==="0x"?{data:void 0}:{data:p}}function li(e){const{code:t,data:n}=e;return ea({abi:zs(["constructor(bytes, bytes)"]),bytecode:ui,args:[t,n]})}function hf(e){const{data:t,factory:n,factoryData:r,to:s}=e;return ea({abi:zs(["constructor(address, bytes, address, bytes)"]),bytecode:cf,args:[s,t,n,r]})}function yf(e){if(!(e instanceof g))return;const t=e.walk();return typeof t?.data=="object"?t.data?.data:t.data}async function pe(e,t){const{abi:n,address:r,args:s,functionName:a,...o}=t,i=ie({abi:n,args:s,functionName:a});try{const{data:c}=await N(e,hn,"call")({...o,data:i,to:r});return rt({abi:n,args:s,functionName:a,data:c||"0x"})}catch(c){throw Qe(c,{abi:n,address:r,args:s,docsPath:"/docs/contract/readContract",functionName:a})}}async function gf(e,t){const{blockNumber:n,blockTag:r,coinType:s,name:a,gatewayUrls:o,strict:i}=t,{chain:c}=e,u=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return vt({blockNumber:n,chain:c,contract:"ensUniversalResolver"})})(),f=c?.ensTlds;if(f&&!f.some(d=>a.endsWith(d)))return null;const l=s!=null?[qr(a),BigInt(s)]:[qr(a)];try{const d=ie({abi:Sa,functionName:"addr",args:l}),p={address:u,abi:Bo,functionName:"resolveWithGateways",args:[Ne(Xs(a)),d,o??[pn]],blockNumber:n,blockTag:r},b=await N(e,pe,"readContract")(p);if(b[0]==="0x")return null;const y=rt({abi:Sa,args:l,functionName:"addr",data:b[0]});return y==="0x"||Se(y)==="0x00"?null:y}catch(d){if(i)throw d;if(Ys(d))return null;throw d}}class wf extends g{constructor({data:t}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(t)}`],name:"EnsAvatarInvalidMetadataError"})}}class Nt extends g{constructor({reason:t}){super(`ENS NFT avatar URI is invalid. ${t}`,{name:"EnsAvatarInvalidNftUriError"})}}class na extends g{constructor({uri:t}){super(`Unable to resolve ENS avatar URI "${t}". The URI may be malformed, invalid, or does not respond with a valid image.`,{name:"EnsAvatarUriResolutionError"})}}class xf extends g{constructor({namespace:t}){super(`ENS NFT avatar namespace "${t}" is not supported. Must be "erc721" or "erc1155".`,{name:"EnsAvatarUnsupportedNamespaceError"})}}const vf=/(?<protocol>https?:\/\/[^/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,Ef=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,Pf=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,Af=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;async function Bf(e){try{const t=await fetch(e,{method:"HEAD"});return t.status===200?t.headers.get("content-type")?.startsWith("image/"):!1}catch(t){return typeof t=="object"&&typeof t.response<"u"||!Object.hasOwn(globalThis,"Image")?!1:new Promise(n=>{const r=new Image;r.onload=()=>{n(!0)},r.onerror=()=>{n(!1)},r.src=e})}}function Za(e,t){return e?e.endsWith("/")?e.slice(0,-1):e:t}function pi({uri:e,gatewayUrls:t}){const n=Pf.test(e);if(n)return{uri:e,isOnChain:!0,isEncoded:n};const r=Za(t?.ipfs,"https://ipfs.io"),s=Za(t?.arweave,"https://arweave.net"),a=e.match(vf),{protocol:o,subpath:i,target:c,subtarget:u=""}=a?.groups||{},f=o==="ipns:/"||i==="ipns/",l=o==="ipfs:/"||i==="ipfs/"||Ef.test(e);if(e.startsWith("http")&&!f&&!l){let p=e;return t?.arweave&&(p=e.replace(/https:\/\/arweave.net/g,t?.arweave)),{uri:p,isOnChain:!1,isEncoded:!1}}if((f||l)&&c)return{uri:`${r}/${f?"ipns":"ipfs"}/${c}${u}`,isOnChain:!1,isEncoded:!1};if(o==="ar:/"&&c)return{uri:`${s}/${c}${u||""}`,isOnChain:!1,isEncoded:!1};let d=e.replace(Af,"");if(d.startsWith("<svg")&&(d=`data:image/svg+xml;base64,${btoa(d)}`),d.startsWith("data:")||d.startsWith("{"))return{uri:d,isOnChain:!0,isEncoded:!1};throw new na({uri:e})}function bi(e){if(typeof e!="object"||!("image"in e)&&!("image_url"in e)&&!("image_data"in e))throw new wf({data:e});return e.image||e.image_url||e.image_data}async function $f({gatewayUrls:e,uri:t}){try{const n=await fetch(t).then(s=>s.json());return await ra({gatewayUrls:e,uri:bi(n)})}catch{throw new na({uri:t})}}async function ra({gatewayUrls:e,uri:t}){const{uri:n,isOnChain:r}=pi({uri:t,gatewayUrls:e});if(r||await Bf(n))return n;throw new na({uri:t})}function If(e){let t=e;t.startsWith("did:nft:")&&(t=t.replace("did:nft:","").replace(/_/g,"/"));const[n,r,s]=t.split("/"),[a,o]=n.split(":"),[i,c]=r.split(":");if(!a||a.toLowerCase()!=="eip155")throw new Nt({reason:"Only EIP-155 supported"});if(!o)throw new Nt({reason:"Chain ID not found"});if(!c)throw new Nt({reason:"Contract address not found"});if(!s)throw new Nt({reason:"Token ID not found"});if(!i)throw new Nt({reason:"ERC namespace not found"});return{chainID:Number.parseInt(o,10),namespace:i.toLowerCase(),contractAddress:c,tokenID:s}}async function Of(e,{nft:t}){if(t.namespace==="erc721")return pe(e,{address:t.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(t.tokenID)]});if(t.namespace==="erc1155")return pe(e,{address:t.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(t.tokenID)]});throw new xf({namespace:t.namespace})}async function Tf(e,{gatewayUrls:t,record:n}){return/eip155:/i.test(n)?Sf(e,{gatewayUrls:t,record:n}):ra({uri:n,gatewayUrls:t})}async function Sf(e,{gatewayUrls:t,record:n}){const r=If(n),s=await Of(e,{nft:r}),{uri:a,isOnChain:o,isEncoded:i}=pi({uri:s,gatewayUrls:t});if(o&&(a.includes("data:application/json;base64,")||a.startsWith("{"))){const u=i?atob(a.replace("data:application/json;base64,","")):a,f=JSON.parse(u);return ra({uri:bi(f),gatewayUrls:t})}let c=r.tokenID;return r.namespace==="erc1155"&&(c=c.replace("0x","").padStart(64,"0")),$f({gatewayUrls:t,uri:a.replace(/(?:0x)?{id}/,c)})}async function mi(e,t){const{blockNumber:n,blockTag:r,key:s,name:a,gatewayUrls:o,strict:i}=t,{chain:c}=e,u=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return vt({blockNumber:n,chain:c,contract:"ensUniversalResolver"})})(),f=c?.ensTlds;if(f&&!f.some(l=>a.endsWith(l)))return null;try{const l={address:u,abi:Bo,args:[Ne(Xs(a)),ie({abi:Ta,functionName:"text",args:[qr(a),s]}),o??[pn]],functionName:"resolveWithGateways",blockNumber:n,blockTag:r},p=await N(e,pe,"readContract")(l);if(p[0]==="0x")return null;const m=rt({abi:Ta,functionName:"text",data:p[0]});return m===""?null:m}catch(l){if(i)throw l;if(Ys(l))return null;throw l}}async function Cf(e,{blockNumber:t,blockTag:n,assetGatewayUrls:r,name:s,gatewayUrls:a,strict:o,universalResolverAddress:i}){const c=await N(e,mi,"getEnsText")({blockNumber:t,blockTag:n,key:"avatar",name:s,universalResolverAddress:i,gatewayUrls:a,strict:o});if(!c)return null;try{return await Tf(e,{record:c,gatewayUrls:r})}catch{return null}}async function kf(e,t){const{address:n,blockNumber:r,blockTag:s,coinType:a=60n,gatewayUrls:o,strict:i}=t,{chain:c}=e,u=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return vt({blockNumber:r,chain:c,contract:"ensUniversalResolver"})})();try{const f={address:u,abi:bu,args:[n,a,o??[pn]],functionName:"reverseWithGateways",blockNumber:r,blockTag:s},l=N(e,pe,"readContract"),[d]=await l(f);return d||null}catch(f){if(i)throw f;if(Ys(f))return null;throw f}}async function Nf(e,t){const{blockNumber:n,blockTag:r,name:s}=t,{chain:a}=e,o=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!a)throw new Error("client chain not configured. universalResolverAddress is required.");return vt({blockNumber:n,chain:a,contract:"ensUniversalResolver"})})(),i=a?.ensTlds;if(i&&!i.some(u=>s.endsWith(u)))throw new Error(`${s} is not a valid ENS TLD (${i?.join(", ")}) for chain "${a.name}" (id: ${a.id}).`);const[c]=await N(e,pe,"readContract")({address:o,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"},{type:"uint256"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[Ne(Xs(s))],blockNumber:n,blockTag:r});return c}async function hi(e,t){const{account:n=e.account,blockNumber:r,blockTag:s="latest",blobs:a,data:o,gas:i,gasPrice:c,maxFeePerBlobGas:u,maxFeePerGas:f,maxPriorityFeePerGas:l,to:d,value:p,...m}=t,b=n?V(n):void 0;try{Pt(t);const w=(typeof r=="bigint"?T(r):void 0)||s,A=e.chain?.formatters?.transactionRequest?.format,h=(A||mn)({...Qn(m,{format:A}),from:b?.address,blobs:a,data:o,gas:i,gasPrice:c,maxFeePerBlobGas:u,maxFeePerGas:f,maxPriorityFeePerGas:l,to:d,value:p},"createAccessList"),E=await e.request({method:"eth_createAccessList",params:[h,w]});return{accessList:E.accessList,gasUsed:BigInt(E.gasUsed)}}catch(y){throw fi(y,{...t,account:b,chain:e.chain})}}function tr(e,{method:t}){const n={};return e.transport.type==="fallback"&&e.transport.onResponse?.(({method:r,response:s,status:a,transport:o})=>{a==="success"&&t===r&&(n[s]=o.request)}),r=>n[r]||e.request}async function Ff(e){const t=tr(e,{method:"eth_newBlockFilter"}),n=await e.request({method:"eth_newBlockFilter"});return{id:n,request:t(n),type:"block"}}class Rf extends g{constructor(t){super(`Filter type "${t}" is not supported.`,{name:"FilterTypeNotSupportedError"})}}const Ka="/docs/contract/encodeEventTopics";function yn(e){const{abi:t,eventName:n,args:r}=e;let s=t[0];if(n){const c=nt({abi:t,name:n});if(!c)throw new Fa(n,{docsPath:Ka});s=c}if(s.type!=="event")throw new Fa(void 0,{docsPath:Ka});const a=he(s),o=Yn(a);let i=[];if(r&&"inputs"in s){const c=s.inputs?.filter(f=>"indexed"in f&&f.indexed),u=Array.isArray(r)?r:Object.values(r).length>0?c?.map(f=>r[f.name])??[]:[];u.length>0&&(i=c?.map((f,l)=>Array.isArray(u[l])?u[l].map((d,p)=>Ya({param:f,value:u[l][p]})):typeof u[l]<"u"&&u[l]!==null?Ya({param:f,value:u[l]}):null)??[])}return[o,...i]}function Ya({param:e,value:t}){if(e.type==="string"||e.type==="bytes")return j(xt(t));if(e.type==="tuple"||e.type.match(/^(.*)\[(\d+)?\]$/))throw new Rf(e.type);return de([e],[t])}async function yi(e,t){const{address:n,abi:r,args:s,eventName:a,fromBlock:o,strict:i,toBlock:c}=t,u=tr(e,{method:"eth_newFilter"}),f=a?yn({abi:r,args:s,eventName:a}):void 0,l=await e.request({method:"eth_newFilter",params:[{address:n,fromBlock:typeof o=="bigint"?T(o):o,toBlock:typeof c=="bigint"?T(c):c,topics:f}]});return{abi:r,args:s,eventName:a,id:l,request:u(l),strict:!!i,type:"event"}}async function gi(e,{address:t,args:n,event:r,events:s,fromBlock:a,strict:o,toBlock:i}={}){const c=s??(r?[r]:void 0),u=tr(e,{method:"eth_newFilter"});let f=[];c&&(f=[c.flatMap(p=>yn({abi:[p],eventName:p.name,args:n}))],r&&(f=f[0]));const l=await e.request({method:"eth_newFilter",params:[{address:t,fromBlock:typeof a=="bigint"?T(a):a,toBlock:typeof i=="bigint"?T(i):i,...f.length?{topics:f}:{}}]});return{abi:c,args:n,eventName:r?r.name:void 0,fromBlock:a,id:l,request:u(l),strict:!!o,toBlock:i,type:"event"}}async function wi(e){const t=tr(e,{method:"eth_newPendingTransactionFilter"}),n=await e.request({method:"eth_newPendingTransactionFilter"});return{id:n,request:t(n),type:"transaction"}}function Gf(e){const t=j(`0x${e.substring(4)}`).substring(26);return Kn(`0x${t}`)}async function Mf({hash:e,signature:t}){const n=ye(e)?e:Ne(e),{secp256k1:r}=await qn(async()=>{const{secp256k1:o}=await Promise.resolve().then(()=>Ml);return{secp256k1:o}},void 0);return`0x${(()=>{if(typeof t=="object"&&"r"in t&&"s"in t){const{r:u,s:f,v:l,yParity:d}=t,p=Number(d??l),m=Xa(p);return new r.Signature(J(u),J(f)).addRecoveryBit(m)}const o=ye(t)?t:Ne(t);if(_(o)!==65)throw new Error("invalid signature length");const i=ge(`0x${o.slice(130)}`),c=Xa(i);return r.Signature.fromCompact(o.substring(2,130)).addRecoveryBit(c)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}function Xa(e){if(e===0||e===1)return e;if(e===27)return 0;if(e===28)return 1;throw new Error("Invalid yParityOrV value")}async function xi({hash:e,signature:t}){return Gf(await Mf({hash:e,signature:t}))}function zf(e,t="hex"){const n=vi(e),r=js(new Uint8Array(n.length));return n.encode(r),t==="hex"?q(r.bytes):r.bytes}function vi(e){return Array.isArray(e)?Lf(e.map(t=>vi(t))):Uf(e)}function Lf(e){const t=e.reduce((s,a)=>s+a.length,0),n=Ei(t);return{length:t<=55?1+t:1+n+t,encode(s){t<=55?s.pushByte(192+t):(s.pushByte(247+n),n===1?s.pushUint8(t):n===2?s.pushUint16(t):n===3?s.pushUint24(t):s.pushUint32(t));for(const{encode:a}of e)a(s)}}}function Uf(e){const t=typeof e=="string"?le(e):e,n=Ei(t.length);return{length:t.length===1&&t[0]<128?1:t.length<=55?1+t.length:1+n+t.length,encode(s){t.length===1&&t[0]<128?s.pushBytes(t):t.length<=55?(s.pushByte(128+t.length),s.pushBytes(t)):(s.pushByte(183+n),n===1?s.pushUint8(t.length):n===2?s.pushUint16(t.length):n===3?s.pushUint24(t.length):s.pushUint32(t.length),s.pushBytes(t))}}}function Ei(e){if(e<2**8)return 1;if(e<2**16)return 2;if(e<2**24)return 3;if(e<2**32)return 4;throw new g("Length is too large.")}function Df(e){const{chainId:t,nonce:n,to:r}=e,s=e.contractAddress??e.address,a=j(Fe(["0x05",zf([t?T(t):"0x",s,n?T(n):"0x"])]));return r==="bytes"?le(a):a}async function sa(e){const{authorization:t,signature:n}=e;return xi({hash:Df(t),signature:n??t})}class jf extends g{constructor(t,{account:n,docsPath:r,chain:s,data:a,gas:o,gasPrice:i,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:f,to:l,value:d}){const p=Et({from:n?.address,to:l,value:typeof d<"u"&&`${Zs(d)} ${s?.nativeCurrency?.symbol||"ETH"}`,data:a,gas:o,gasPrice:typeof i<"u"&&`${X(i)} gwei`,maxFeePerGas:typeof c<"u"&&`${X(c)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${X(u)} gwei`,nonce:f});super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Estimate Gas Arguments:",p].filter(Boolean),name:"EstimateGasExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}}function _f(e,{docsPath:t,...n}){const r=(()=>{const s=Jn(e,n);return s instanceof bn?e:s})();return new jf(r,{docsPath:t,...n})}class Hf extends g{constructor(){super("`baseFeeMultiplier` must be greater than 1.",{name:"BaseFeeScalarError"})}}class aa extends g{constructor(){super("Chain does not support EIP-1559 fees.",{name:"Eip1559FeesNotSupportedError"})}}class qf extends g{constructor({maxPriorityFeePerGas:t}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${X(t)} gwei).`,{name:"MaxFeePerGasTooLowError"})}}class Pi extends g{constructor({blockHash:t,blockNumber:n}){let r="Block";t&&(r=`Block at hash "${t}"`),n&&(r=`Block at number "${n}"`),super(`${r} could not be found.`,{name:"BlockNotFoundError"})}}const Ai={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844","0x4":"eip7702"};function Bi(e,t){const n={...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,chainId:e.chainId?ge(e.chainId):void 0,gas:e.gas?BigInt(e.gas):void 0,gasPrice:e.gasPrice?BigInt(e.gasPrice):void 0,maxFeePerBlobGas:e.maxFeePerBlobGas?BigInt(e.maxFeePerBlobGas):void 0,maxFeePerGas:e.maxFeePerGas?BigInt(e.maxFeePerGas):void 0,maxPriorityFeePerGas:e.maxPriorityFeePerGas?BigInt(e.maxPriorityFeePerGas):void 0,nonce:e.nonce?ge(e.nonce):void 0,to:e.to?e.to:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,type:e.type?Ai[e.type]:void 0,typeHex:e.type?e.type:void 0,value:e.value?BigInt(e.value):void 0,v:e.v?BigInt(e.v):void 0};return e.authorizationList&&(n.authorizationList=Vf(e.authorizationList)),n.yParity=(()=>{if(e.yParity)return Number(e.yParity);if(typeof n.v=="bigint"){if(n.v===0n||n.v===27n)return 0;if(n.v===1n||n.v===28n)return 1;if(n.v>=35n)return n.v%2n===0n?1:0}})(),n.type==="legacy"&&(delete n.accessList,delete n.maxFeePerBlobGas,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas,delete n.yParity),n.type==="eip2930"&&(delete n.maxFeePerBlobGas,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas),n.type==="eip1559"&&delete n.maxFeePerBlobGas,n}function Vf(e){return e.map(t=>({address:t.address,chainId:Number(t.chainId),nonce:Number(t.nonce),r:t.r,s:t.s,yParity:Number(t.yParity)}))}function $i(e,t){const n=(e.transactions??[]).map(r=>typeof r=="string"?r:Bi(r));return{...e,baseFeePerGas:e.baseFeePerGas?BigInt(e.baseFeePerGas):null,blobGasUsed:e.blobGasUsed?BigInt(e.blobGasUsed):void 0,difficulty:e.difficulty?BigInt(e.difficulty):void 0,excessBlobGas:e.excessBlobGas?BigInt(e.excessBlobGas):void 0,gasLimit:e.gasLimit?BigInt(e.gasLimit):void 0,gasUsed:e.gasUsed?BigInt(e.gasUsed):void 0,hash:e.hash?e.hash:null,logsBloom:e.logsBloom?e.logsBloom:null,nonce:e.nonce?e.nonce:null,number:e.number?BigInt(e.number):null,size:e.size?BigInt(e.size):void 0,timestamp:e.timestamp?BigInt(e.timestamp):void 0,transactions:n,totalDifficulty:e.totalDifficulty?BigInt(e.totalDifficulty):null}}async function ve(e,{blockHash:t,blockNumber:n,blockTag:r=e.experimental_blockTag??"latest",includeTransactions:s}={}){const a=s??!1,o=n!==void 0?T(n):void 0;let i=null;if(t?i=await e.request({method:"eth_getBlockByHash",params:[t,a]},{dedupe:!0}):i=await e.request({method:"eth_getBlockByNumber",params:[o||r,a]},{dedupe:!!o}),!i)throw new Pi({blockHash:t,blockNumber:n});return(e.chain?.formatters?.block?.format||$i)(i,"getBlock")}async function oa(e){const t=await e.request({method:"eth_gasPrice"});return BigInt(t)}async function Wf(e,t){return Ii(e,t)}async function Ii(e,t){const{block:n,chain:r=e.chain,request:s}=t||{};try{const a=r?.fees?.maxPriorityFeePerGas??r?.fees?.defaultPriorityFee;if(typeof a=="function"){const i=n||await N(e,ve,"getBlock")({}),c=await a({block:i,client:e,request:s});if(c===null)throw new Error;return c}if(typeof a<"u")return a;const o=await e.request({method:"eth_maxPriorityFeePerGas"});return J(o)}catch{const[a,o]=await Promise.all([n?Promise.resolve(n):N(e,ve,"getBlock")({}),N(e,oa,"getGasPrice")({})]);if(typeof a.baseFeePerGas!="bigint")throw new aa;const i=o-a.baseFeePerGas;return i<0n?0n:i}}async function Oi(e,t){return es(e,t)}async function es(e,t){const{block:n,chain:r=e.chain,request:s,type:a="eip1559"}=t||{},o=await(async()=>typeof r?.fees?.baseFeeMultiplier=="function"?r.fees.baseFeeMultiplier({block:n,client:e,request:s}):r?.fees?.baseFeeMultiplier??1.2)();if(o<1)throw new Hf;const c=10**(o.toString().split(".")[1]?.length??0),u=d=>d*BigInt(Math.ceil(o*c))/BigInt(c),f=n||await N(e,ve,"getBlock")({});if(typeof r?.fees?.estimateFeesPerGas=="function"){const d=await r.fees.estimateFeesPerGas({block:n,client:e,multiply:u,request:s,type:a});if(d!==null)return d}if(a==="eip1559"){if(typeof f.baseFeePerGas!="bigint")throw new aa;const d=typeof s?.maxPriorityFeePerGas=="bigint"?s.maxPriorityFeePerGas:await Ii(e,{block:f,chain:r,request:s}),p=u(f.baseFeePerGas);return{maxFeePerGas:s?.maxFeePerGas??p+d,maxPriorityFeePerGas:d}}return{gasPrice:s?.gasPrice??u(await N(e,oa,"getGasPrice")({}))}}async function ia(e,{address:t,blockTag:n="latest",blockNumber:r}){const s=await e.request({method:"eth_getTransactionCount",params:[t,typeof r=="bigint"?T(r):n]},{dedupe:!!r});return ge(s)}function Ti(e){const{kzg:t}=e,n=e.to??(typeof e.blobs[0]=="string"?"hex":"bytes"),r=typeof e.blobs[0]=="string"?e.blobs.map(a=>le(a)):e.blobs,s=[];for(const a of r)s.push(Uint8Array.from(t.blobToKzgCommitment(a)));return n==="bytes"?s:s.map(a=>q(a))}function Si(e){const{kzg:t}=e,n=e.to??(typeof e.blobs[0]=="string"?"hex":"bytes"),r=typeof e.blobs[0]=="string"?e.blobs.map(o=>le(o)):e.blobs,s=typeof e.commitments[0]=="string"?e.commitments.map(o=>le(o)):e.commitments,a=[];for(let o=0;o<r.length;o++){const i=r[o],c=s[o];a.push(Uint8Array.from(t.computeBlobKzgProof(i,c)))}return n==="bytes"?a:a.map(o=>q(o))}function Zf(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);const s=BigInt(32),a=BigInt(4294967295),o=Number(n>>s&a),i=Number(n&a),c=r?4:0,u=r?0:4;e.setUint32(t+c,o,r),e.setUint32(t+u,i,r)}function Kf(e,t,n){return e&t^~e&n}function Yf(e,t,n){return e&t^e&n^t&n}class Xf extends Us{constructor(t,n,r,s){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=t,this.outputLen=n,this.padOffset=r,this.isLE=s,this.buffer=new Uint8Array(t),this.view=br(this.buffer)}update(t){bt(this),t=Zn(t),Ye(t);const{view:n,buffer:r,blockLen:s}=this,a=t.length;for(let o=0;o<a;){const i=Math.min(s-this.pos,a-o);if(i===s){const c=br(t);for(;s<=a-o;o+=s)this.process(c,o);continue}r.set(t.subarray(o,o+i),this.pos),this.pos+=i,o+=i,this.pos===s&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){bt(this),Lo(t,this),this.finished=!0;const{buffer:n,view:r,blockLen:s,isLE:a}=this;let{pos:o}=this;n[o++]=128,mt(this.buffer.subarray(o)),this.padOffset>s-o&&(this.process(r,0),o=0);for(let l=o;l<s;l++)n[l]=0;Zf(r,s-8,BigInt(this.length*8),a),this.process(r,0);const i=br(t),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,f=this.get();if(u>f.length)throw new Error("_sha2: outputLen bigger than state");for(let l=0;l<u;l++)i.setUint32(4*l,f[l],a)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:r,length:s,finished:a,destroyed:o,pos:i}=this;return t.destroyed=o,t.finished=a,t.length=s,t.pos=i,s%n&&t.buffer.set(r),t}clone(){return this._cloneInto()}}const Ge=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Jf=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Me=new Uint32Array(64);class Qf extends Xf{constructor(t=32){super(64,t,8,!1),this.A=Ge[0]|0,this.B=Ge[1]|0,this.C=Ge[2]|0,this.D=Ge[3]|0,this.E=Ge[4]|0,this.F=Ge[5]|0,this.G=Ge[6]|0,this.H=Ge[7]|0}get(){const{A:t,B:n,C:r,D:s,E:a,F:o,G:i,H:c}=this;return[t,n,r,s,a,o,i,c]}set(t,n,r,s,a,o,i,c){this.A=t|0,this.B=n|0,this.C=r|0,this.D=s|0,this.E=a|0,this.F=o|0,this.G=i|0,this.H=c|0}process(t,n){for(let l=0;l<16;l++,n+=4)Me[l]=t.getUint32(n,!1);for(let l=16;l<64;l++){const d=Me[l-15],p=Me[l-2],m=we(d,7)^we(d,18)^d>>>3,b=we(p,17)^we(p,19)^p>>>10;Me[l]=b+Me[l-7]+m+Me[l-16]|0}let{A:r,B:s,C:a,D:o,E:i,F:c,G:u,H:f}=this;for(let l=0;l<64;l++){const d=we(i,6)^we(i,11)^we(i,25),p=f+d+Kf(i,c,u)+Jf[l]+Me[l]|0,b=(we(r,2)^we(r,13)^we(r,22))+Yf(r,s,a)|0;f=u,u=c,c=i,i=o+p|0,o=a,a=s,s=r,r=p+b|0}r=r+this.A|0,s=s+this.B|0,a=a+this.C|0,o=o+this.D|0,i=i+this.E|0,c=c+this.F|0,u=u+this.G|0,f=f+this.H|0,this.set(r,s,a,o,i,c,u,f)}roundClean(){mt(Me)}destroy(){this.set(0,0,0,0,0,0,0,0),mt(this.buffer)}}const Ci=Uo(()=>new Qf),ed=Ci;function td(e,t){return ed(ye(e,{strict:!1})?xt(e):e)}function nd(e){const{commitment:t,version:n=1}=e,r=e.to??(typeof t=="string"?"hex":"bytes"),s=td(t);return s.set([n],0),r==="bytes"?s:q(s)}function rd(e){const{commitments:t,version:n}=e,r=e.to,s=[];for(const a of t)s.push(nd({commitment:a,to:r,version:n}));return s}const Ja=6,ki=32,ca=4096,Ni=ki*ca,Qa=Ni*Ja-1-1*ca*Ja;class sd extends g{constructor({maxSize:t,size:n}){super("Blob size is too large.",{metaMessages:[`Max: ${t} bytes`,`Given: ${n} bytes`],name:"BlobSizeTooLargeError"})}}class ad extends g{constructor(){super("Blob data must not be empty.",{name:"EmptyBlobError"})}}function od(e){const t=typeof e.data=="string"?le(e.data):e.data,n=_(t);if(!n)throw new ad;if(n>Qa)throw new sd({maxSize:Qa,size:n});const r=[];let s=!0,a=0;for(;s;){const o=js(new Uint8Array(Ni));let i=0;for(;i<ca;){const c=t.slice(a,a+(ki-1));if(o.pushByte(0),o.pushBytes(c),c.length<31){o.pushByte(128),s=!1;break}i++,a+=31}r.push(o)}return r.map(o=>q(o.bytes))}function id(e){const{data:t,kzg:n,to:r}=e,s=e.blobs??od({data:t}),a=e.commitments??Ti({blobs:s,kzg:n,to:r}),o=e.proofs??Si({blobs:s,commitments:a,kzg:n,to:r}),i=[];for(let c=0;c<s.length;c++)i.push({blob:s[c],commitment:a[c],proof:o[c]});return i}function cd(e){if(e.type)return e.type;if(typeof e.authorizationList<"u")return"eip7702";if(typeof e.blobs<"u"||typeof e.blobVersionedHashes<"u"||typeof e.maxFeePerBlobGas<"u"||typeof e.sidecars<"u")return"eip4844";if(typeof e.maxFeePerGas<"u"||typeof e.maxPriorityFeePerGas<"u")return"eip1559";if(typeof e.gasPrice<"u")return typeof e.accessList<"u"?"eip2930":"legacy";throw new V0({transaction:e})}async function At(e){const t=await e.request({method:"eth_chainId"},{dedupe:!0});return ge(t)}const Fi=["blobVersionedHashes","chainId","fees","gas","nonce","type"],eo=new Map;async function ua(e,t){const{account:n=e.account,blobs:r,chain:s,gas:a,kzg:o,nonce:i,nonceManager:c,parameters:u=Fi,type:f}=t,l=n&&V(n),d={...t,...l?{from:l?.address}:{}};let p;async function m(){return p||(p=await N(e,ve,"getBlock")({blockTag:"latest"}),p)}let b;async function y(){return b||(s?s.id:typeof t.chainId<"u"?t.chainId:(b=await N(e,At,"getChainId")({}),b))}if(u.includes("nonce")&&typeof i>"u"&&l)if(c){const w=await y();d.nonce=await c.consume({address:l.address,chainId:w,client:e})}else d.nonce=await N(e,ia,"getTransactionCount")({address:l.address,blockTag:"pending"});if((u.includes("blobVersionedHashes")||u.includes("sidecars"))&&r&&o){const w=Ti({blobs:r,kzg:o});if(u.includes("blobVersionedHashes")){const A=rd({commitments:w,to:"hex"});d.blobVersionedHashes=A}if(u.includes("sidecars")){const A=Si({blobs:r,commitments:w,kzg:o}),x=id({blobs:r,commitments:w,proofs:A,to:"hex"});d.sidecars=x}}if(u.includes("chainId")&&(d.chainId=await y()),(u.includes("fees")||u.includes("type"))&&typeof f>"u")try{d.type=cd(d)}catch{let w=eo.get(e.uid);typeof w>"u"&&(w=typeof(await m())?.baseFeePerGas=="bigint",eo.set(e.uid,w)),d.type=w?"eip1559":"legacy"}if(u.includes("fees"))if(d.type!=="legacy"&&d.type!=="eip2930"){if(typeof d.maxFeePerGas>"u"||typeof d.maxPriorityFeePerGas>"u"){const w=await m(),{maxFeePerGas:A,maxPriorityFeePerGas:x}=await es(e,{block:w,chain:s,request:d});if(typeof t.maxPriorityFeePerGas>"u"&&t.maxFeePerGas&&t.maxFeePerGas<x)throw new qf({maxPriorityFeePerGas:x});d.maxPriorityFeePerGas=x,d.maxFeePerGas=A}}else{if(typeof t.maxFeePerGas<"u"||typeof t.maxPriorityFeePerGas<"u")throw new aa;if(typeof t.gasPrice>"u"){const w=await m(),{gasPrice:A}=await es(e,{block:w,chain:s,request:d,type:"legacy"});d.gasPrice=A}}return u.includes("gas")&&typeof a>"u"&&(d.gas=await N(e,fa,"estimateGas")({...d,account:l&&{address:l.address,type:"json-rpc"}})),Pt(d),delete d.parameters,d}async function fa(e,t){const{account:n=e.account}=t,r=n?V(n):void 0;try{const{accessList:s,authorizationList:a,blobs:o,blobVersionedHashes:i,blockNumber:c,blockTag:u,data:f,gas:l,gasPrice:d,maxFeePerBlobGas:p,maxFeePerGas:m,maxPriorityFeePerGas:b,nonce:y,value:w,stateOverride:A,...x}=await ua(e,{...t,parameters:r?.type==="local"?void 0:["blobVersionedHashes"]}),E=(typeof c=="bigint"?T(c):void 0)||u,v=er(A),P=await(async()=>{if(x.to)return x.to;if(a&&a.length>0)return await sa({authorization:a[0]}).catch(()=>{throw new g("`to` is required. Could not infer from `authorizationList`")})})();Pt(t);const O=e.chain?.formatters?.transactionRequest?.format,S=(O||mn)({...Qn(x,{format:O}),from:r?.address,accessList:s,authorizationList:a,blobs:o,blobVersionedHashes:i,data:f,gas:l,gasPrice:d,maxFeePerBlobGas:p,maxFeePerGas:m,maxPriorityFeePerGas:b,nonce:y,to:P,value:w},"estimateGas");return BigInt(await e.request({method:"eth_estimateGas",params:v?[S,E??e.experimental_blockTag??"latest",v]:E?[S,E]:[S]}))}catch(s){throw _f(s,{...t,account:r,chain:e.chain})}}async function ud(e,t){const{abi:n,address:r,args:s,functionName:a,dataSuffix:o,...i}=t,c=ie({abi:n,args:s,functionName:a});try{return await N(e,fa,"estimateGas")({data:`${c}${o?o.replace("0x",""):""}`,to:r,...i})}catch(u){const f=i.account?V(i.account):void 0;throw Qe(u,{abi:n,address:r,args:s,docsPath:"/docs/contract/estimateContractGas",functionName:a,sender:f?.address})}}async function fd(e,{address:t,blockNumber:n,blockTag:r=e.experimental_blockTag??"latest"}){const s=typeof n=="bigint"?T(n):void 0,a=await e.request({method:"eth_getBalance",params:[t,s||r]});return BigInt(a)}async function dd(e){const t=await e.request({method:"eth_blobBaseFee"});return BigInt(t)}const ld=new Map,pd=new Map;function bd(e){const t=(s,a)=>({clear:()=>a.delete(s),get:()=>a.get(s),set:o=>a.set(s,o)}),n=t(e,ld),r=t(e,pd);return{clear:()=>{n.clear(),r.clear()},promise:n,response:r}}async function md(e,{cacheKey:t,cacheTime:n=Number.POSITIVE_INFINITY}){const r=bd(t),s=r.response.get();if(s&&n>0&&Date.now()-s.created.getTime()<n)return s.data;let a=r.promise.get();a||(a=e(),r.promise.set(a));try{const o=await a;return r.response.set({created:new Date,data:o}),o}finally{r.promise.clear()}}const hd=e=>`blockNumber.${e}`;async function gn(e,{cacheTime:t=e.cacheTime}={}){const n=await md(()=>e.request({method:"eth_blockNumber"}),{cacheKey:hd(e.uid),cacheTime:t});return BigInt(n)}async function yd(e,{blockHash:t,blockNumber:n,blockTag:r="latest"}={}){const s=n!==void 0?T(n):void 0;let a;return t?a=await e.request({method:"eth_getBlockTransactionCountByHash",params:[t]},{dedupe:!0}):a=await e.request({method:"eth_getBlockTransactionCountByNumber",params:[s||r]},{dedupe:!!s}),ge(a)}async function Cn(e,{address:t,blockNumber:n,blockTag:r="latest"}){const s=n!==void 0?T(n):void 0,a=await e.request({method:"eth_getCode",params:[t,s||r]},{dedupe:!!s});if(a!=="0x")return a}function Bt(e,t){if(!oe(e,{strict:!1}))throw new ke({address:e});if(!oe(t,{strict:!1}))throw new ke({address:t});return e.toLowerCase()===t.toLowerCase()}const to="/docs/contract/decodeEventLog";function da(e){const{abi:t,data:n,strict:r,topics:s}=e,a=r??!0,[o,...i]=s;if(!o)throw new xu({docsPath:to});const c=t.find(b=>b.type==="event"&&o===Yn(he(b)));if(!(c&&"name"in c)||c.type!=="event")throw new ko(o,{docsPath:to});const{name:u,inputs:f}=c,l=f?.some(b=>!("name"in b&&b.name)),d=l?[]:{},p=f.map((b,y)=>[b,y]).filter(([b])=>"indexed"in b&&b.indexed);for(let b=0;b<p.length;b++){const[y,w]=p[b],A=i[b];if(!A)throw new Wn({abiItem:c,param:y});d[l?w:y.name||w]=gd({param:y,value:A})}const m=f.filter(b=>!("indexed"in b&&b.indexed));if(m.length>0){if(n&&n!=="0x")try{const b=fn(m,n);if(b)if(l)for(let y=0;y<f.length;y++)d[y]=d[y]??b.shift();else for(let y=0;y<m.length;y++)d[m[y].name]=b[y]}catch(b){if(a)throw b instanceof To||b instanceof Vo?new Ft({abiItem:c,data:n,params:m,size:_(n)}):b}else if(a)throw new Ft({abiItem:c,data:"0x",params:m,size:0})}return{eventName:u,args:Object.values(d).length>0?d:void 0}}function gd({param:e,value:t}){return e.type==="string"||e.type==="bytes"||e.type==="tuple"||e.type.match(/^(.*)\[(\d+)?\]$/)?t:(fn([e],t)||[])[0]}function la(e){const{abi:t,args:n,logs:r,strict:s=!0}=e,a=(()=>{if(e.eventName)return Array.isArray(e.eventName)?e.eventName:[e.eventName]})();return r.map(o=>{try{const i=t.find(u=>u.type==="event"&&o.topics[0]===Yn(u));if(!i)return null;const c=da({...o,abi:[i],strict:s});return a&&!a.includes(c.eventName)||!wd({args:c.args,inputs:i.inputs,matchArgs:n})?null:{...c,...o}}catch(i){let c,u;if(i instanceof ko)return null;if(i instanceof Ft||i instanceof Wn){if(s)return null;c=i.abiItem.name,u=i.abiItem.inputs?.some(f=>!("name"in f&&f.name))}return{...o,args:u?[]:{},eventName:c}}}).filter(Boolean)}function wd(e){const{args:t,inputs:n,matchArgs:r}=e;if(!r)return!0;if(!t)return!1;function s(a,o,i){try{return a.type==="address"?Bt(o,i):a.type==="string"||a.type==="bytes"?j(xt(o))===i:o===i}catch{return!1}}return Array.isArray(t)&&Array.isArray(r)?r.every((a,o)=>{if(a==null)return!0;const i=n[o];return i?(Array.isArray(a)?a:[a]).some(u=>s(i,u,t[o])):!1}):typeof t=="object"&&!Array.isArray(t)&&typeof r=="object"&&!Array.isArray(r)?Object.entries(r).every(([a,o])=>{if(o==null)return!0;const i=n.find(u=>u.name===a);return i?(Array.isArray(o)?o:[o]).some(u=>s(i,u,t[a])):!1}):!1}function Ee(e,{args:t,eventName:n}={}){return{...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,logIndex:e.logIndex?Number(e.logIndex):null,transactionHash:e.transactionHash?e.transactionHash:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,...n?{args:t,eventName:n}:{}}}async function pa(e,{address:t,blockHash:n,fromBlock:r,toBlock:s,event:a,events:o,args:i,strict:c}={}){const u=c??!1,f=o??(a?[a]:void 0);let l=[];f&&(l=[f.flatMap(b=>yn({abi:[b],eventName:b.name,args:o?void 0:i}))],a&&(l=l[0]));let d;n?d=await e.request({method:"eth_getLogs",params:[{address:t,topics:l,blockHash:n}]}):d=await e.request({method:"eth_getLogs",params:[{address:t,topics:l,fromBlock:typeof r=="bigint"?T(r):r,toBlock:typeof s=="bigint"?T(s):s}]});const p=d.map(m=>Ee(m));return f?la({abi:f,args:i,logs:p,strict:u}):p}async function Ri(e,t){const{abi:n,address:r,args:s,blockHash:a,eventName:o,fromBlock:i,toBlock:c,strict:u}=t,f=o?nt({abi:n,name:o}):void 0,l=f?void 0:n.filter(d=>d.type==="event");return N(e,pa,"getLogs")({address:r,args:s,blockHash:a,event:f,events:l,fromBlock:i,toBlock:c,strict:u})}class xd extends g{constructor({address:t}){super(`No EIP-712 domain found on contract "${t}".`,{metaMessages:["Ensure that:",`- The contract is deployed at the address "${t}".`,"- `eip712Domain()` function exists on the contract.","- `eip712Domain()` function matches signature to ERC-5267 specification."],name:"Eip712DomainNotFoundError"})}}async function vd(e,t){const{address:n,factory:r,factoryData:s}=t;try{const[a,o,i,c,u,f,l]=await N(e,pe,"readContract")({abi:Ed,address:n,functionName:"eip712Domain",factory:r,factoryData:s});return{domain:{name:o,version:i,chainId:Number(c),verifyingContract:u,salt:f},extensions:l,fields:a}}catch(a){const o=a;throw o.name==="ContractFunctionExecutionError"&&o.cause.name==="ContractFunctionZeroDataError"?new xd({address:n}):o}}const Ed=[{inputs:[],name:"eip712Domain",outputs:[{name:"fields",type:"bytes1"},{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"},{name:"salt",type:"bytes32"},{name:"extensions",type:"uint256[]"}],stateMutability:"view",type:"function"}];function Pd(e){return{baseFeePerGas:e.baseFeePerGas.map(t=>BigInt(t)),gasUsedRatio:e.gasUsedRatio,oldestBlock:BigInt(e.oldestBlock),reward:e.reward?.map(t=>t.map(n=>BigInt(n)))}}async function Ad(e,{blockCount:t,blockNumber:n,blockTag:r="latest",rewardPercentiles:s}){const a=typeof n=="bigint"?T(n):void 0,o=await e.request({method:"eth_feeHistory",params:[T(t),a||r,s]},{dedupe:!!a});return Pd(o)}async function nr(e,{filter:t}){const n="strict"in t&&t.strict,r=await t.request({method:"eth_getFilterChanges",params:[t.id]});if(typeof r[0]=="string")return r;const s=r.map(a=>Ee(a));return!("abi"in t)||!t.abi?s:la({abi:t.abi,logs:s,strict:n})}async function Bd(e,{filter:t}){const n=t.strict??!1,s=(await t.request({method:"eth_getFilterLogs",params:[t.id]})).map(a=>Ee(a));return t.abi?la({abi:t.abi,logs:s,strict:n}):s}function R1(e,t){if(e.length!==t.length)throw new So({expectedLength:e.length,givenLength:t.length});const n=[];for(let r=0;r<e.length;r++){const s=e[r],a=t[r];n.push(Gi(s,a))}return Fe(n)}function Gi(e,t,n=!1){if(e==="address"){const o=t;if(!oe(o))throw new ke({address:o});return Z(o.toLowerCase(),{size:n?32:null})}if(e==="string")return Ke(t);if(e==="bytes")return t;if(e==="bool")return Z(Ls(t),{size:n?32:1});const r=e.match(_s);if(r){const[o,i,c="256"]=r,u=Number.parseInt(c,10)/8;return T(t,{size:n?32:u,signed:i==="int"})}const s=e.match(Yo);if(s){const[o,i]=s;if(Number.parseInt(i,10)!==(t.length-2)/2)throw new Fo({expectedSize:Number.parseInt(i,10),givenSize:(t.length-2)/2});return Z(t,{dir:"right",size:n?32:null})}const a=e.match(m0);if(a&&Array.isArray(t)){const[o,i]=a,c=[];for(let u=0;u<t.length;u++)c.push(Gi(i,t[u],!0));return c.length===0?"0x":Fe(c)}throw new $u(e)}async function $d({address:e,authorization:t,signature:n}){return Bt(qo(e),await sa({authorization:t,signature:n}))}const En=new un(8192);function Id(e,{enabled:t=!0,id:n}){if(!t||!n)return e();if(En.get(n))return En.get(n);const r=e().finally(()=>En.delete(n));return En.set(n,r),r}async function kn(e){return new Promise(t=>setTimeout(t,e))}function Nn(e,{delay:t=100,retryCount:n=2,shouldRetry:r=()=>!0}={}){return new Promise((s,a)=>{const o=async({count:i=0}={})=>{const c=async({error:u})=>{const f=typeof t=="function"?t({count:i,error:u}):t;f&&await kn(f),o({count:i+1})};try{const u=await e();s(u)}catch(u){if(i<n&&await r({count:i,error:u}))return c({error:u});a(u)}};o()})}function Od(e,t={}){return async(n,r={})=>{const{dedupe:s=!1,methods:a,retryDelay:o=150,retryCount:i=3,uid:c}={...t,...r},{method:u}=n;if(a?.exclude?.includes(u))throw new De(new Error("method not supported"),{method:u});if(a?.include&&!a.include.includes(u))throw new De(new Error("method not supported"),{method:u});const f=s?Ke(`${c}.${H(n)}`):void 0;return Id(()=>Nn(async()=>{try{return await e(n)}catch(l){const d=l;switch(d.code){case Mt.code:throw new Mt(d);case zt.code:throw new zt(d);case Lt.code:throw new Lt(d,{method:n.method});case Ut.code:throw new Ut(d);case Xe.code:throw new Xe(d);case Je.code:throw new Je(d);case Dt.code:throw new Dt(d);case jt.code:throw new jt(d);case yt.code:throw new yt(d);case De.code:throw new De(d,{method:n.method});case gt.code:throw new gt(d);case _t.code:throw new _t(d);case We.code:throw new We(d);case Ht.code:throw new Ht(d);case qt.code:throw new qt(d);case Vt.code:throw new Vt(d);case Wt.code:throw new Wt(d);case Zt.code:throw new Zt(d);case Kt.code:throw new Kt(d);case Yt.code:throw new Yt(d);case Xt.code:throw new Xt(d);case Jt.code:throw new Jt(d);case Qt.code:throw new Qt(d);case en.code:throw new en(d);case tn.code:throw new tn(d);case 5e3:throw new We(d);default:throw l instanceof g?l:new sf(d)}}},{delay:({count:l,error:d})=>{if(d&&d instanceof Ve){const p=d?.headers?.get("Retry-After");if(p?.match(/\d/))return Number.parseInt(p,10)*1e3}return~~(1<<l)*o},retryCount:i,shouldRetry:({error:l})=>Td(l)}),{enabled:s,id:f})}}function Td(e){return"code"in e&&typeof e.code=="number"?e.code===-1||e.code===gt.code||e.code===Xe.code:e instanceof Ve&&e.status?e.status===403||e.status===408||e.status===413||e.status===429||e.status===500||e.status===502||e.status===503||e.status===504:!0}class Sd extends g{constructor({callbackSelector:t,cause:n,data:r,extraData:s,sender:a,urls:o}){super(n.shortMessage||"An error occurred while fetching for an offchain result.",{cause:n,metaMessages:[...n.metaMessages||[],n.metaMessages?.length?"":[],"Offchain Gateway Call:",o&&["  Gateway URL(s):",...o.map(i=>`    ${ln(i)}`)],`  Sender: ${a}`,`  Data: ${r}`,`  Callback selector: ${t}`,`  Extra data: ${s}`].flat(),name:"OffchainLookupError"})}}class Cd extends g{constructor({result:t,url:n}){super("Offchain gateway response is malformed. Response data must be a hex value.",{metaMessages:[`Gateway URL: ${ln(n)}`,`Response: ${H(t)}`],name:"OffchainLookupResponseMalformedError"})}}class kd extends g{constructor({sender:t,to:n}){super("Reverted sender address does not match target contract address (`to`).",{metaMessages:[`Contract address: ${n}`,`OffchainLookup sender address: ${t}`],name:"OffchainLookupSenderMismatchError"})}}const Nd="0x556f1830",Mi={name:"OffchainLookup",type:"error",inputs:[{name:"sender",type:"address"},{name:"urls",type:"string[]"},{name:"callData",type:"bytes"},{name:"callbackFunction",type:"bytes4"},{name:"extraData",type:"bytes"}]};async function Fd(e,{blockNumber:t,blockTag:n,data:r,to:s}){const{args:a}=Ws({data:r,abi:[Mi]}),[o,i,c,u,f]=a,{ccipRead:l}=e,d=l&&typeof l?.request=="function"?l.request:zi;try{if(!Bt(s,o))throw new kd({sender:o,to:s});const p=i.includes(pn)?await ii({data:c,ccipRequest:d}):await d({data:c,sender:o,urls:i}),{data:m}=await hn(e,{blockNumber:t,blockTag:n,data:K([u,de([{type:"bytes"},{type:"bytes"}],[p,f])]),to:s});return m}catch(p){throw new Sd({callbackSelector:u,cause:p,data:r,extraData:f,sender:o,urls:i})}}async function zi({data:e,sender:t,urls:n}){let r=new Error("An unknown error occurred.");for(let s=0;s<n.length;s++){const a=n[s],o=a.includes("{data}")?"GET":"POST",i=o==="POST"?{data:e,sender:t}:void 0,c=o==="POST"?{"Content-Type":"application/json"}:{};try{const u=await fetch(a.replace("{sender}",t.toLowerCase()).replace("{data}",e),{body:JSON.stringify(i),headers:c,method:o});let f;if(u.headers.get("Content-Type")?.startsWith("application/json")?f=(await u.json()).data:f=await u.text(),!u.ok){r=new Ve({body:i,details:f?.error?H(f.error):u.statusText,headers:u.headers,status:u.status,url:a});continue}if(!ye(f)){r=new Cd({result:f,url:a});continue}return f}catch(u){r=new Ve({body:i,details:u.message,url:a})}}throw r}const Rd=Object.freeze(Object.defineProperty({__proto__:null,ccipRequest:zi,offchainLookup:Fd,offchainLookupAbiItem:Mi,offchainLookupSignature:Nd},Symbol.toStringTag,{value:"Module"}));function Gd({chain:e,currentChainId:t}){if(!e)throw new M0;if(t!==e.id)throw new G0({chain:e,currentChainId:t})}function Li(e){return{formatters:void 0,fees:void 0,serializers:void 0,...e}}function Md(e,{docsPath:t,...n}){const r=(()=>{const s=Jn(e,n);return s instanceof bn?e:s})();return new W0(r,{docsPath:t,...n})}const Ui={"0x0":"reverted","0x1":"success"};function ba(e,t){const n={...e,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,contractAddress:e.contractAddress?e.contractAddress:null,cumulativeGasUsed:e.cumulativeGasUsed?BigInt(e.cumulativeGasUsed):null,effectiveGasPrice:e.effectiveGasPrice?BigInt(e.effectiveGasPrice):null,gasUsed:e.gasUsed?BigInt(e.gasUsed):null,logs:e.logs?e.logs.map(r=>Ee(r)):null,to:e.to?e.to:null,transactionIndex:e.transactionIndex?ge(e.transactionIndex):null,status:e.status?Ui[e.status]:null,type:e.type?Ai[e.type]||e.type:null};return e.blobGasPrice&&(n.blobGasPrice=BigInt(e.blobGasPrice)),e.blobGasUsed&&(n.blobGasUsed=BigInt(e.blobGasUsed)),n}function zd(e){const{source:t}=e,n=new Map,r=new un(8192),s=new Map,a=({address:o,chainId:i})=>`${o}.${i}`;return{async consume({address:o,chainId:i,client:c}){const u=a({address:o,chainId:i}),f=this.get({address:o,chainId:i,client:c});this.increment({address:o,chainId:i});const l=await f;return await t.set({address:o,chainId:i},l),r.set(u,l),l},async increment({address:o,chainId:i}){const c=a({address:o,chainId:i}),u=n.get(c)??0;n.set(c,u+1)},async get({address:o,chainId:i,client:c}){const u=a({address:o,chainId:i});let f=s.get(u);return f||(f=(async()=>{try{const d=await t.get({address:o,chainId:i,client:c}),p=r.get(u)??0;return p>0&&d<=p?p+1:(r.delete(u),d)}finally{this.reset({address:o,chainId:i})}})(),s.set(u,f)),(n.get(u)??0)+await f},reset({address:o,chainId:i}){const c=a({address:o,chainId:i});n.delete(c),s.delete(c)}}}function Ld(e,{errorInstance:t=new Error("timed out"),timeout:n,signal:r}){return new Promise((s,a)=>{(async()=>{let o;try{const i=new AbortController;n>0&&(o=setTimeout(()=>{r?i.abort():a(t)},n)),s(await e({signal:i?.signal||null}))}catch(i){i?.name==="AbortError"&&a(t),a(i)}finally{clearTimeout(o)}})()})}function Ud(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const no=Ud();function Dd(e,t={}){return{async request(n){const{body:r,fetchFn:s=t.fetchFn??fetch,onRequest:a=t.onRequest,onResponse:o=t.onResponse,timeout:i=t.timeout??1e4}=n,c={...t.fetchOptions??{},...n.fetchOptions??{}},{headers:u,method:f,signal:l}=c;try{const d=await Ld(async({signal:m})=>{const b={...c,body:Array.isArray(r)?H(r.map(x=>({jsonrpc:"2.0",id:x.id??no.take(),...x}))):H({jsonrpc:"2.0",id:r.id??no.take(),...r}),headers:{"Content-Type":"application/json",...u},method:f||"POST",signal:l||(i>0?m:null)},y=new Request(e,b),w=await a?.(y,b)??{...b,url:e};return await s(w.url??e,w)},{errorInstance:new Va({body:r,url:e}),timeout:i,signal:!0});o&&await o(d);let p;if(d.headers.get("Content-Type")?.startsWith("application/json"))p=await d.json();else{p=await d.text();try{p=JSON.parse(p||"{}")}catch(m){if(d.ok)throw m;p={error:p}}}if(!d.ok)throw new Ve({body:r,details:H(p.error)||d.statusText,headers:d.headers,status:d.status,url:e});return p}catch(d){throw d instanceof Ve||d instanceof Va?d:new Ve({body:r,cause:d,url:e})}}}}const jd=`Ethereum Signed Message:
`;function _d(e){const t=typeof e=="string"?Ke(e):typeof e.raw=="string"?e.raw:q(e.raw),n=Ke(`${jd}${_(t)}`);return K([n,t])}function Di(e,t){return j(_d(e),t)}class Hd extends g{constructor({domain:t}){super(`Invalid domain "${H(t)}".`,{metaMessages:["Must be a valid EIP-712 domain."]})}}class qd extends g{constructor({primaryType:t,types:n}){super(`Invalid primary type \`${t}\` must be one of \`${JSON.stringify(Object.keys(n))}\`.`,{docsPath:"/api/glossary/Errors#typeddatainvalidprimarytypeerror",metaMessages:["Check that the primary type is a key in `types`."]})}}class Vd extends g{constructor({type:t}){super(`Struct type "${t}" is invalid.`,{metaMessages:["Struct type must not be a Solidity type."],name:"InvalidStructTypeError"})}}function Wd(e){const{domain:t,message:n,primaryType:r,types:s}=e,a=(o,i)=>{for(const c of o){const{name:u,type:f}=c,l=i[u],d=f.match(_s);if(d&&(typeof l=="number"||typeof l=="bigint")){const[b,y,w]=d;T(l,{signed:y==="int",size:Number.parseInt(w,10)/8})}if(f==="address"&&typeof l=="string"&&!oe(l))throw new ke({address:l});const p=f.match(Yo);if(p){const[b,y]=p;if(y&&_(l)!==Number.parseInt(y,10))throw new Fo({expectedSize:Number.parseInt(y,10),givenSize:_(l)})}const m=s[f];m&&(Kd(f),a(m,l))}};if(s.EIP712Domain&&t){if(typeof t!="object")throw new Hd({domain:t});a(s.EIP712Domain,t)}if(r!=="EIP712Domain")if(s[r])a(s[r],n);else throw new qd({primaryType:r,types:s})}function Zd({domain:e}){return[typeof e?.name=="string"&&{name:"name",type:"string"},e?.version&&{name:"version",type:"string"},(typeof e?.chainId=="number"||typeof e?.chainId=="bigint")&&{name:"chainId",type:"uint256"},e?.verifyingContract&&{name:"verifyingContract",type:"address"},e?.salt&&{name:"salt",type:"bytes32"}].filter(Boolean)}function Kd(e){if(e==="address"||e==="bool"||e==="string"||e.startsWith("bytes")||e.startsWith("uint")||e.startsWith("int"))throw new Vd({type:e})}function ji(e){const{domain:t={},message:n,primaryType:r}=e,s={EIP712Domain:Zd({domain:t}),...e.types};Wd({domain:t,message:n,primaryType:r,types:s});const a=["0x1901"];return t&&a.push(Yd({domain:t,types:s})),r!=="EIP712Domain"&&a.push(_i({data:n,primaryType:r,types:s})),j(K(a))}function Yd({domain:e,types:t}){return _i({data:e,primaryType:"EIP712Domain",types:t})}function _i({data:e,primaryType:t,types:n}){const r=Hi({data:e,primaryType:t,types:n});return j(r)}function Hi({data:e,primaryType:t,types:n}){const r=[{type:"bytes32"}],s=[Xd({primaryType:t,types:n})];for(const a of n[t]){const[o,i]=Vi({types:n,name:a.name,type:a.type,value:e[a.name]});r.push(o),s.push(i)}return de(r,s)}function Xd({primaryType:e,types:t}){const n=Ne(Jd({primaryType:e,types:t}));return j(n)}function Jd({primaryType:e,types:t}){let n="";const r=qi({primaryType:e,types:t});r.delete(e);const s=[e,...Array.from(r).sort()];for(const a of s)n+=`${a}(${t[a].map(({name:o,type:i})=>`${i} ${o}`).join(",")})`;return n}function qi({primaryType:e,types:t},n=new Set){const s=e.match(/^\w*/u)?.[0];if(n.has(s)||t[s]===void 0)return n;n.add(s);for(const a of t[s])qi({primaryType:a.type,types:t},n);return n}function Vi({types:e,name:t,type:n,value:r}){if(e[n]!==void 0)return[{type:"bytes32"},j(Hi({data:r,primaryType:n,types:e}))];if(n==="bytes")return r=`0x${(r.length%2?"0":"")+r.slice(2)}`,[{type:"bytes32"},j(r)];if(n==="string")return[{type:"bytes32"},j(Ne(r))];if(n.lastIndexOf("]")===n.length-1){const s=n.slice(0,n.lastIndexOf("[")),a=r.map(o=>Vi({name:t,type:s,types:e,value:o}));return[{type:"bytes32"},j(de(a.map(([o])=>o),a.map(([,o])=>o)))]}return[{type:n},r]}const Qd="0x6492649264926492649264926492649264926492649264926492649264926492";function Er(e){const{address:t,data:n,signature:r,to:s="hex"}=e,a=Fe([de([{type:"address"},{type:"bytes"},{type:"bytes"}],[t,n,r]),Qd]);return s==="hex"?a:le(a)}function el(e){return e.map(t=>({...t,value:BigInt(t.value)}))}function tl(e){return{...e,balance:e.balance?BigInt(e.balance):void 0,nonce:e.nonce?ge(e.nonce):void 0,storageProof:e.storageProof?el(e.storageProof):void 0}}async function nl(e,{address:t,blockNumber:n,blockTag:r,storageKeys:s}){const a=r??"latest",o=n!==void 0?T(n):void 0,i=await e.request({method:"eth_getProof",params:[t,s,o||a]});return tl(i)}async function rl(e,{address:t,blockNumber:n,blockTag:r="latest",slot:s}){const a=n!==void 0?T(n):void 0;return await e.request({method:"eth_getStorageAt",params:[t,s,a||r]})}async function ma(e,{blockHash:t,blockNumber:n,blockTag:r,hash:s,index:a}){const o=r||"latest",i=n!==void 0?T(n):void 0;let c=null;if(s?c=await e.request({method:"eth_getTransactionByHash",params:[s]},{dedupe:!0}):t?c=await e.request({method:"eth_getTransactionByBlockHashAndIndex",params:[t,T(a)]},{dedupe:!0}):c=await e.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[i||o,T(a)]},{dedupe:!!i}),!c)throw new ri({blockHash:t,blockNumber:n,blockTag:o,hash:s,index:a});return(e.chain?.formatters?.transaction?.format||Bi)(c,"getTransaction")}async function sl(e,{hash:t,transactionReceipt:n}){const[r,s]=await Promise.all([N(e,gn,"getBlockNumber")({}),t?N(e,ma,"getTransaction")({hash:t}):void 0]),a=n?.blockNumber||s?.blockNumber;return a?r-a+1n:0n}async function $n(e,{hash:t}){const n=await e.request({method:"eth_getTransactionReceipt",params:[t]},{dedupe:!0});if(!n)throw new si({hash:t});return(e.chain?.formatters?.transactionReceipt?.format||ba)(n,"getTransactionReceipt")}async function al(e,t){const{account:n,authorizationList:r,allowFailure:s=!0,blockNumber:a,blockOverrides:o,blockTag:i,stateOverride:c}=t,u=t.contracts,{batchSize:f=t.batchSize??1024,deployless:l=t.deployless??!1}=typeof e.batch?.multicall=="object"?e.batch.multicall:{},d=(()=>{if(t.multicallAddress)return t.multicallAddress;if(l)return null;if(e.chain)return vt({blockNumber:a,chain:e.chain,contract:"multicall3"});throw new Error("client chain not configured. multicallAddress is required.")})(),p=[[]];let m=0,b=0;for(let A=0;A<u.length;A++){const{abi:x,address:h,args:E,functionName:v}=u[A];try{const P=ie({abi:x,args:E,functionName:v});b+=(P.length-2)/2,f>0&&b>f&&p[m].length>0&&(m++,b=(P.length-2)/2,p[m]=[]),p[m]=[...p[m],{allowFailure:!0,callData:P,target:h}]}catch(P){const O=Qe(P,{abi:x,address:h,args:E,docsPath:"/docs/contract/multicall",functionName:v,sender:n});if(!s)throw O;p[m]=[...p[m],{allowFailure:!0,callData:"0x",target:h}]}}const y=await Promise.allSettled(p.map(A=>N(e,pe,"readContract")({...d===null?{code:Qs}:{address:d},abi:In,account:n,args:[A],authorizationList:r,blockNumber:a,blockOverrides:o,blockTag:i,functionName:"aggregate3",stateOverride:c}))),w=[];for(let A=0;A<y.length;A++){const x=y[A];if(x.status==="rejected"){if(!s)throw x.reason;for(let E=0;E<p[A].length;E++)w.push({status:"failure",error:x.reason,result:void 0});continue}const h=x.value;for(let E=0;E<h.length;E++){const{returnData:v,success:P}=h[E],{callData:O}=p[A][E],{abi:F,address:S,functionName:C,args:k}=u[w.length];try{if(O==="0x")throw new cn;if(!P)throw new Xn({data:v});const M=rt({abi:F,args:k,data:v,functionName:C});w.push(s?{result:M,status:"success"}:M)}catch(M){const U=Qe(M,{abi:F,address:S,args:k,docsPath:"/docs/contract/multicall",functionName:C});if(!s)throw U;w.push({error:U,result:void 0,status:"failure"})}}}if(w.length!==u.length)throw new g("multicall results mismatch");return w}async function ts(e,t){const{blockNumber:n,blockTag:r=e.experimental_blockTag??"latest",blocks:s,returnFullTransactions:a,traceTransfers:o,validation:i}=t;try{const c=[];for(const d of s){const p=d.blockOverrides?vo(d.blockOverrides):void 0,m=d.calls.map(y=>{const w=y,A=w.account?V(w.account):void 0,x=w.abi?ie(w):w.data,h={...w,data:w.dataSuffix?K([x||"0x",w.dataSuffix]):x,from:w.from??A?.address};return Pt(h),mn(h)}),b=d.stateOverrides?er(d.stateOverrides):void 0;c.push({blockOverrides:p,calls:m,stateOverrides:b})}const f=(typeof n=="bigint"?T(n):void 0)||r;return(await e.request({method:"eth_simulateV1",params:[{blockStateCalls:c,returnFullTransactions:a,traceTransfers:o,validation:i},f]})).map((d,p)=>({...$i(d),calls:d.calls.map((m,b)=>{const{abi:y,args:w,functionName:A,to:x}=s[p].calls[b],h=m.error?.data??m.returnData,E=BigInt(m.gasUsed),v=m.logs?.map(S=>Ee(S)),P=m.status==="0x1"?"success":"failure",O=y&&P==="success"&&h!=="0x"?rt({abi:y,data:h,functionName:A}):null,F=(()=>{if(P==="success")return;let S;if(m.error?.data==="0x"?S=new cn:m.error&&(S=new Xn(m.error)),!!S)return Qe(S,{abi:y??[],address:x??"0x",args:w,functionName:A??"<unknown>"})})();return{data:h,gasUsed:E,logs:v,status:P,...P==="success"?{result:O}:{error:F}}})}))}catch(c){const u=c,f=Jn(u,{});throw f instanceof bn?u:f}}const ol="0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",xe="0x0000000000000000000000000000000000000000",il="0x6080604052348015600e575f80fd5b5061016d8061001c5f395ff3fe608060405234801561000f575f80fd5b5060043610610029575f3560e01c8063f8b2cb4f1461002d575b5f80fd5b610047600480360381019061004291906100db565b61005d565b604051610054919061011e565b60405180910390f35b5f8173ffffffffffffffffffffffffffffffffffffffff16319050919050565b5f80fd5b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f6100aa82610081565b9050919050565b6100ba816100a0565b81146100c4575f80fd5b50565b5f813590506100d5816100b1565b92915050565b5f602082840312156100f0576100ef61007d565b5b5f6100fd848285016100c7565b91505092915050565b5f819050919050565b61011881610106565b82525050565b5f6020820190506101315f83018461010f565b9291505056fea26469706673582212203b9fe929fe995c7cf9887f0bdba8a36dd78e8b73f149b17d2d9ad7cd09d2dc6264736f6c634300081a0033";async function cl(e,t){const{blockNumber:n,blockTag:r,calls:s,stateOverrides:a,traceAssetChanges:o,traceTransfers:i,validation:c}=t,u=t.account?V(t.account):void 0;if(o&&!u)throw new g("`account` is required when `traceAssetChanges` is true");const f=u?zc(Uc("constructor(bytes, bytes)"),{bytecode:ui,args:[il,Lc(ut("function getBalance(address)"),[u.address])]}):void 0,l=o?await Promise.all(t.calls.map(async I=>{if(!I.data&&!I.abi)return;const{accessList:G}=await hi(e,{account:u.address,...I,data:I.abi?ie(I):I.data});return G.map(({address:z,storageKeys:L})=>L.length>0?z:null)})).then(I=>I.flat().filter(Boolean)):[],d=await ts(e,{blockNumber:n,blockTag:r,blocks:[...o?[{calls:[{data:f}],stateOverrides:a},{calls:l.map((I,G)=>({abi:[ut("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[u.address],to:I,from:xe,nonce:G})),stateOverrides:[{address:xe,nonce:0}]}]:[],{calls:[...s,{}].map(I=>({...I,from:u?.address})),stateOverrides:a},...o?[{calls:[{data:f}]},{calls:l.map((I,G)=>({abi:[ut("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[u.address],to:I,from:xe,nonce:G})),stateOverrides:[{address:xe,nonce:0}]},{calls:l.map((I,G)=>({to:I,abi:[ut("function decimals() returns (uint256)")],functionName:"decimals",from:xe,nonce:G})),stateOverrides:[{address:xe,nonce:0}]},{calls:l.map((I,G)=>({to:I,abi:[ut("function tokenURI(uint256) returns (string)")],functionName:"tokenURI",args:[0n],from:xe,nonce:G})),stateOverrides:[{address:xe,nonce:0}]},{calls:l.map((I,G)=>({to:I,abi:[ut("function symbol() returns (string)")],functionName:"symbol",from:xe,nonce:G})),stateOverrides:[{address:xe,nonce:0}]}]:[]],traceTransfers:i,validation:c}),p=o?d[2]:d[0],[m,b,,y,w,A,x,h]=o?d:[],{calls:E,...v}=p,P=E.slice(0,-1)??[],O=m?.calls??[],F=b?.calls??[],S=[...O,...F].map(I=>I.status==="success"?J(I.data):null),C=y?.calls??[],k=w?.calls??[],M=[...C,...k].map(I=>I.status==="success"?J(I.data):null),U=(A?.calls??[]).map(I=>I.status==="success"?I.result:null),$=(h?.calls??[]).map(I=>I.status==="success"?I.result:null),B=(x?.calls??[]).map(I=>I.status==="success"?I.result:null),R=[];for(const[I,G]of M.entries()){const z=S[I];if(typeof G!="bigint"||typeof z!="bigint")continue;const L=U[I-1],D=$[I-1],me=B[I-1],te=I===0?{address:ol,decimals:18,symbol:"ETH"}:{address:l[I-1],decimals:me||L?Number(L??1):void 0,symbol:D??void 0};R.some(Y=>Y.token.address===te.address)||R.push({token:te,value:{pre:z,post:G,diff:G-z}})}return{assetChanges:R,block:v,results:P}}async function ul(e,t){const{abi:n,address:r,args:s,dataSuffix:a,functionName:o,...i}=t,c=i.account?V(i.account):e.account,u=ie({abi:n,args:s,functionName:o});try{const{data:f}=await N(e,hn,"call")({batch:!1,data:`${u}${a?a.replace("0x",""):""}`,to:r,...i,account:c}),l=rt({abi:n,args:s,functionName:o,data:f||"0x"}),d=n.filter(p=>"name"in p&&p.name===t.functionName);return{result:l,request:{abi:d,address:r,args:s,dataSuffix:a,functionName:o,...i,account:c}}}catch(f){throw Qe(f,{abi:n,address:r,args:s,docsPath:"/docs/contract/simulateContract",functionName:o,sender:c?.address})}}async function rr(e,{filter:t}){return t.request({method:"eth_uninstallFilter",params:[t.id]})}class Wi extends Us{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,Hu(t);const r=Zn(n);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,a=new Uint8Array(s);a.set(r.length>s?t.create().update(r).digest():r);for(let o=0;o<a.length;o++)a[o]^=54;this.iHash.update(a),this.oHash=t.create();for(let o=0;o<a.length;o++)a[o]^=106;this.oHash.update(a),mt(a)}update(t){return bt(this),this.iHash.update(t),this}digestInto(t){bt(this),Ye(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:s,destroyed:a,blockLen:o,outputLen:i}=this;return t=t,t.finished=s,t.destroyed=a,t.blockLen=o,t.outputLen=i,t.oHash=n._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const Zi=(e,t,n)=>new Wi(e,t).update(n).digest();Zi.create=(e,t)=>new Wi(e,t);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ha=BigInt(0),ns=BigInt(1);function wn(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function ya(e){if(!wn(e))throw new Error("Uint8Array expected")}function nn(e,t){if(typeof t!="boolean")throw new Error(e+" boolean expected, got "+t)}function Pn(e){const t=e.toString(16);return t.length&1?"0"+t:t}function Ki(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return e===""?ha:BigInt("0x"+e)}const Yi=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",fl=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function rn(e){if(ya(e),Yi)return e.toHex();let t="";for(let n=0;n<e.length;n++)t+=fl[e[n]];return t}const Be={_0:48,_9:57,A:65,F:70,a:97,f:102};function ro(e){if(e>=Be._0&&e<=Be._9)return e-Be._0;if(e>=Be.A&&e<=Be.F)return e-(Be.A-10);if(e>=Be.a&&e<=Be.f)return e-(Be.a-10)}function Fn(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);if(Yi)return Uint8Array.fromHex(e);const t=e.length,n=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let s=0,a=0;s<n;s++,a+=2){const o=ro(e.charCodeAt(a)),i=ro(e.charCodeAt(a+1));if(o===void 0||i===void 0){const c=e[a]+e[a+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+a)}r[s]=o*16+i}return r}function Ze(e){return Ki(rn(e))}function Xi(e){return ya(e),Ki(rn(Uint8Array.from(e).reverse()))}function xn(e,t){return Fn(e.toString(16).padStart(t*2,"0"))}function Ji(e,t){return xn(e,t).reverse()}function fe(e,t,n){let r;if(typeof t=="string")try{r=Fn(t)}catch(a){throw new Error(e+" must be hex string or Uint8Array, cause: "+a)}else if(wn(t))r=Uint8Array.from(t);else throw new Error(e+" must be hex string or Uint8Array");const s=r.length;if(typeof n=="number"&&s!==n)throw new Error(e+" of length "+n+" expected, got "+s);return r}function Rn(...e){let t=0;for(let r=0;r<e.length;r++){const s=e[r];ya(s),t+=s.length}const n=new Uint8Array(t);for(let r=0,s=0;r<e.length;r++){const a=e[r];n.set(a,s),s+=a.length}return n}const Pr=e=>typeof e=="bigint"&&ha<=e;function ga(e,t,n){return Pr(e)&&Pr(t)&&Pr(n)&&t<=e&&e<n}function lt(e,t,n,r){if(!ga(t,n,r))throw new Error("expected valid "+e+": "+n+" <= n < "+r+", got "+t)}function dl(e){let t;for(t=0;e>ha;e>>=ns,t+=1);return t}const sr=e=>(ns<<BigInt(e))-ns,Ar=e=>new Uint8Array(e),so=e=>Uint8Array.from(e);function ll(e,t,n){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=Ar(e),s=Ar(e),a=0;const o=()=>{r.fill(1),s.fill(0),a=0},i=(...l)=>n(s,r,...l),c=(l=Ar(0))=>{s=i(so([0]),l),r=i(),l.length!==0&&(s=i(so([1]),l),r=i())},u=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let l=0;const d=[];for(;l<t;){r=i();const p=r.slice();d.push(p),l+=r.length}return Rn(...d)};return(l,d)=>{o(),c(l);let p;for(;!(p=d(u()));)c();return o(),p}}const pl={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||wn(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function ar(e,t,n={}){const r=(s,a,o)=>{const i=pl[a];if(typeof i!="function")throw new Error("invalid validator function");const c=e[s];if(!(o&&c===void 0)&&!i(c,e))throw new Error("param "+String(s)+" is invalid. Expected "+a+", got "+c)};for(const[s,a]of Object.entries(t))r(s,a,!1);for(const[s,a]of Object.entries(n))r(s,a,!0);return e}function ao(e){const t=new WeakMap;return(n,...r)=>{const s=t.get(n);if(s!==void 0)return s;const a=e(n,...r);return t.set(n,a),a}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const re=BigInt(0),ee=BigInt(1),_e=BigInt(2),bl=BigInt(3),Qi=BigInt(4),ec=BigInt(5),tc=BigInt(8);function ne(e,t){const n=e%t;return n>=re?n:t+n}function ue(e,t,n){let r=e;for(;t-- >re;)r*=r,r%=n;return r}function rs(e,t){if(e===re)throw new Error("invert: expected non-zero number");if(t<=re)throw new Error("invert: expected positive modulus, got "+t);let n=ne(e,t),r=t,s=re,a=ee;for(;n!==re;){const i=r/n,c=r%n,u=s-a*i;r=n,n=c,s=a,a=u}if(r!==ee)throw new Error("invert: does not exist");return ne(s,t)}function nc(e,t){const n=(e.ORDER+ee)/Qi,r=e.pow(t,n);if(!e.eql(e.sqr(r),t))throw new Error("Cannot find square root");return r}function ml(e,t){const n=(e.ORDER-ec)/tc,r=e.mul(t,_e),s=e.pow(r,n),a=e.mul(t,s),o=e.mul(e.mul(a,_e),s),i=e.mul(a,e.sub(o,e.ONE));if(!e.eql(e.sqr(i),t))throw new Error("Cannot find square root");return i}function hl(e){if(e<BigInt(3))throw new Error("sqrt is not defined for small field");let t=e-ee,n=0;for(;t%_e===re;)t/=_e,n++;let r=_e;const s=wa(e);for(;oo(s,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return nc;let a=s.pow(r,t);const o=(t+ee)/_e;return function(c,u){if(c.is0(u))return u;if(oo(c,u)!==1)throw new Error("Cannot find square root");let f=n,l=c.mul(c.ONE,a),d=c.pow(u,t),p=c.pow(u,o);for(;!c.eql(d,c.ONE);){if(c.is0(d))return c.ZERO;let m=1,b=c.sqr(d);for(;!c.eql(b,c.ONE);)if(m++,b=c.sqr(b),m===f)throw new Error("Cannot find square root");const y=ee<<BigInt(f-m-1),w=c.pow(l,y);f=m,l=c.sqr(w),d=c.mul(d,l),p=c.mul(p,w)}return p}}function yl(e){return e%Qi===bl?nc:e%tc===ec?ml:hl(e)}const gl=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function wl(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=gl.reduce((r,s)=>(r[s]="function",r),t);return ar(e,n)}function xl(e,t,n){if(n<re)throw new Error("invalid exponent, negatives unsupported");if(n===re)return e.ONE;if(n===ee)return t;let r=e.ONE,s=t;for(;n>re;)n&ee&&(r=e.mul(r,s)),s=e.sqr(s),n>>=ee;return r}function rc(e,t,n=!1){const r=new Array(t.length).fill(n?e.ZERO:void 0),s=t.reduce((o,i,c)=>e.is0(i)?o:(r[c]=o,e.mul(o,i)),e.ONE),a=e.inv(s);return t.reduceRight((o,i,c)=>e.is0(i)?o:(r[c]=e.mul(o,r[c]),e.mul(o,i)),a),r}function oo(e,t){const n=(e.ORDER-ee)/_e,r=e.pow(t,n),s=e.eql(r,e.ONE),a=e.eql(r,e.ZERO),o=e.eql(r,e.neg(e.ONE));if(!s&&!a&&!o)throw new Error("invalid Legendre symbol result");return s?1:a?0:-1}function sc(e,t){t!==void 0&&Rt(t);const n=t!==void 0?t:e.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function wa(e,t,n=!1,r={}){if(e<=re)throw new Error("invalid field: expected ORDER > 0, got "+e);const{nBitLength:s,nByteLength:a}=sc(e,t);if(a>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const i=Object.freeze({ORDER:e,isLE:n,BITS:s,BYTES:a,MASK:sr(s),ZERO:re,ONE:ee,create:c=>ne(c,e),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return re<=c&&c<e},is0:c=>c===re,isOdd:c=>(c&ee)===ee,neg:c=>ne(-c,e),eql:(c,u)=>c===u,sqr:c=>ne(c*c,e),add:(c,u)=>ne(c+u,e),sub:(c,u)=>ne(c-u,e),mul:(c,u)=>ne(c*u,e),pow:(c,u)=>xl(i,c,u),div:(c,u)=>ne(c*rs(u,e),e),sqrN:c=>c*c,addN:(c,u)=>c+u,subN:(c,u)=>c-u,mulN:(c,u)=>c*u,inv:c=>rs(c,e),sqrt:r.sqrt||(c=>(o||(o=yl(e)),o(i,c))),toBytes:c=>n?Ji(c,a):xn(c,a),fromBytes:c=>{if(c.length!==a)throw new Error("Field.fromBytes: expected "+a+" bytes, got "+c.length);return n?Xi(c):Ze(c)},invertBatch:c=>rc(i,c),cmov:(c,u,f)=>f?u:c});return Object.freeze(i)}function ac(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function oc(e){const t=ac(e);return t+Math.ceil(t/2)}function vl(e,t,n=!1){const r=e.length,s=ac(t),a=oc(t);if(r<16||r<a||r>1024)throw new Error("expected "+a+"-1024 bytes of input, got "+r);const o=n?Xi(e):Ze(e),i=ne(o,t-ee)+ee;return n?Ji(i,s):xn(i,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const io=BigInt(0),ss=BigInt(1);function Br(e,t){const n=t.negate();return e?n:t}function ic(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function $r(e,t){ic(e,t);const n=Math.ceil(t/e)+1,r=2**(e-1),s=2**e,a=sr(e),o=BigInt(e);return{windows:n,windowSize:r,mask:a,maxNumber:s,shiftBy:o}}function co(e,t,n){const{windowSize:r,mask:s,maxNumber:a,shiftBy:o}=n;let i=Number(e&s),c=e>>o;i>r&&(i-=a,c+=ss);const u=t*r,f=u+Math.abs(i)-1,l=i===0,d=i<0,p=t%2!==0;return{nextN:c,offset:f,isZero:l,isNeg:d,isNegF:p,offsetF:u}}function El(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((n,r)=>{if(!(n instanceof t))throw new Error("invalid point at index "+r)})}function Pl(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((n,r)=>{if(!t.isValid(n))throw new Error("invalid scalar at index "+r)})}const Ir=new WeakMap,cc=new WeakMap;function Or(e){return cc.get(e)||1}function Al(e,t){return{constTimeNegate:Br,hasPrecomputes(n){return Or(n)!==1},unsafeLadder(n,r,s=e.ZERO){let a=n;for(;r>io;)r&ss&&(s=s.add(a)),a=a.double(),r>>=ss;return s},precomputeWindow(n,r){const{windows:s,windowSize:a}=$r(r,t),o=[];let i=n,c=i;for(let u=0;u<s;u++){c=i,o.push(c);for(let f=1;f<a;f++)c=c.add(i),o.push(c);i=c.double()}return o},wNAF(n,r,s){let a=e.ZERO,o=e.BASE;const i=$r(n,t);for(let c=0;c<i.windows;c++){const{nextN:u,offset:f,isZero:l,isNeg:d,isNegF:p,offsetF:m}=co(s,c,i);s=u,l?o=o.add(Br(p,r[m])):a=a.add(Br(d,r[f]))}return{p:a,f:o}},wNAFUnsafe(n,r,s,a=e.ZERO){const o=$r(n,t);for(let i=0;i<o.windows&&s!==io;i++){const{nextN:c,offset:u,isZero:f,isNeg:l}=co(s,i,o);if(s=c,!f){const d=r[u];a=a.add(l?d.negate():d)}}return a},getPrecomputes(n,r,s){let a=Ir.get(r);return a||(a=this.precomputeWindow(r,n),n!==1&&Ir.set(r,s(a))),a},wNAFCached(n,r,s){const a=Or(n);return this.wNAF(a,this.getPrecomputes(a,n,s),r)},wNAFCachedUnsafe(n,r,s,a){const o=Or(n);return o===1?this.unsafeLadder(n,r,a):this.wNAFUnsafe(o,this.getPrecomputes(o,n,s),r,a)},setWindowSize(n,r){ic(r,t),cc.set(n,r),Ir.delete(n)}}}function Bl(e,t,n,r){El(n,e),Pl(r,t);const s=n.length,a=r.length;if(s!==a)throw new Error("arrays of points and scalars must have equal length");const o=e.ZERO,i=dl(BigInt(s));let c=1;i>12?c=i-3:i>4?c=i-2:i>0&&(c=2);const u=sr(c),f=new Array(Number(u)+1).fill(o),l=Math.floor((t.BITS-1)/c)*c;let d=o;for(let p=l;p>=0;p-=c){f.fill(o);for(let b=0;b<a;b++){const y=r[b],w=Number(y>>BigInt(p)&u);f[w]=f[w].add(n[b])}let m=o;for(let b=f.length-1,y=o;b>0;b--)y=y.add(f[b]),m=m.add(y);if(d=d.add(m),p!==0)for(let b=0;b<c;b++)d=d.double()}return d}function uc(e){return wl(e.Fp),ar(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...sc(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function uo(e){e.lowS!==void 0&&nn("lowS",e.lowS),e.prehash!==void 0&&nn("prehash",e.prehash)}function $l(e){const t=uc(e);ar(t,{a:"field",b:"field"},{allowInfinityPoint:"boolean",allowedPrivateKeyLengths:"array",clearCofactor:"function",fromBytes:"function",isTorsionFree:"function",toBytes:"function",wrapPrivateKey:"boolean"});const{endo:n,Fp:r,a:s}=t;if(n){if(!r.eql(s,r.ZERO))throw new Error("invalid endo: CURVE.a must be 0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function')}return Object.freeze({...t})}class Il extends Error{constructor(t=""){super(t)}}const Oe={Err:Il,_tlv:{encode:(e,t)=>{const{Err:n}=Oe;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length&1)throw new n("tlv.encode: unpadded data");const r=t.length/2,s=Pn(r);if(s.length/2&128)throw new n("tlv.encode: long form length too big");const a=r>127?Pn(s.length/2|128):"";return Pn(e)+a+s+t},decode(e,t){const{Err:n}=Oe;let r=0;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length<2||t[r++]!==e)throw new n("tlv.decode: wrong tlv");const s=t[r++],a=!!(s&128);let o=0;if(!a)o=s;else{const c=s&127;if(!c)throw new n("tlv.decode(long): indefinite length not supported");if(c>4)throw new n("tlv.decode(long): byte length is too big");const u=t.subarray(r,r+c);if(u.length!==c)throw new n("tlv.decode: length bytes not complete");if(u[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const f of u)o=o<<8|f;if(r+=c,o<128)throw new n("tlv.decode(long): not minimal encoding")}const i=t.subarray(r,r+o);if(i.length!==o)throw new n("tlv.decode: wrong value length");return{v:i,l:t.subarray(r+o)}}},_int:{encode(e){const{Err:t}=Oe;if(e<Te)throw new t("integer: negative integers are not allowed");let n=Pn(e);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new t("unexpected DER parsing assertion: unpadded hex");return n},decode(e){const{Err:t}=Oe;if(e[0]&128)throw new t("invalid signature integer: negative");if(e[0]===0&&!(e[1]&128))throw new t("invalid signature integer: unnecessary leading zero");return Ze(e)}},toSig(e){const{Err:t,_int:n,_tlv:r}=Oe,s=fe("signature",e),{v:a,l:o}=r.decode(48,s);if(o.length)throw new t("invalid signature: left bytes after parsing");const{v:i,l:c}=r.decode(2,a),{v:u,l:f}=r.decode(2,c);if(f.length)throw new t("invalid signature: left bytes after parsing");return{r:n.decode(i),s:n.decode(u)}},hexFromSig(e){const{_tlv:t,_int:n}=Oe,r=t.encode(2,n.encode(e.r)),s=t.encode(2,n.encode(e.s)),a=r+s;return t.encode(48,a)}};function Tr(e,t){return rn(xn(e,t))}const Te=BigInt(0),W=BigInt(1);BigInt(2);const Sr=BigInt(3),Ol=BigInt(4);function Tl(e){const t=$l(e),{Fp:n}=t,r=wa(t.n,t.nBitLength),s=t.toBytes||((x,h,E)=>{const v=h.toAffine();return Rn(Uint8Array.from([4]),n.toBytes(v.x),n.toBytes(v.y))}),a=t.fromBytes||(x=>{const h=x.subarray(1),E=n.fromBytes(h.subarray(0,n.BYTES)),v=n.fromBytes(h.subarray(n.BYTES,2*n.BYTES));return{x:E,y:v}});function o(x){const{a:h,b:E}=t,v=n.sqr(x),P=n.mul(v,x);return n.add(n.add(P,n.mul(x,h)),E)}function i(x,h){const E=n.sqr(h),v=o(x);return n.eql(E,v)}if(!i(t.Gx,t.Gy))throw new Error("bad curve params: generator point");const c=n.mul(n.pow(t.a,Sr),Ol),u=n.mul(n.sqr(t.b),BigInt(27));if(n.is0(n.add(c,u)))throw new Error("bad curve params: a or b");function f(x){return ga(x,W,t.n)}function l(x){const{allowedPrivateKeyLengths:h,nByteLength:E,wrapPrivateKey:v,n:P}=t;if(h&&typeof x!="bigint"){if(wn(x)&&(x=rn(x)),typeof x!="string"||!h.includes(x.length))throw new Error("invalid private key");x=x.padStart(E*2,"0")}let O;try{O=typeof x=="bigint"?x:Ze(fe("private key",x,E))}catch{throw new Error("invalid private key, expected hex or "+E+" bytes, got "+typeof x)}return v&&(O=ne(O,P)),lt("private key",O,W,P),O}function d(x){if(!(x instanceof b))throw new Error("ProjectivePoint expected")}const p=ao((x,h)=>{const{px:E,py:v,pz:P}=x;if(n.eql(P,n.ONE))return{x:E,y:v};const O=x.is0();h==null&&(h=O?n.ONE:n.inv(P));const F=n.mul(E,h),S=n.mul(v,h),C=n.mul(P,h);if(O)return{x:n.ZERO,y:n.ZERO};if(!n.eql(C,n.ONE))throw new Error("invZ was invalid");return{x:F,y:S}}),m=ao(x=>{if(x.is0()){if(t.allowInfinityPoint&&!n.is0(x.py))return;throw new Error("bad point: ZERO")}const{x:h,y:E}=x.toAffine();if(!n.isValid(h)||!n.isValid(E))throw new Error("bad point: x or y not FE");if(!i(h,E))throw new Error("bad point: equation left != right");if(!x.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class b{constructor(h,E,v){if(h==null||!n.isValid(h))throw new Error("x required");if(E==null||!n.isValid(E)||n.is0(E))throw new Error("y required");if(v==null||!n.isValid(v))throw new Error("z required");this.px=h,this.py=E,this.pz=v,Object.freeze(this)}static fromAffine(h){const{x:E,y:v}=h||{};if(!h||!n.isValid(E)||!n.isValid(v))throw new Error("invalid affine point");if(h instanceof b)throw new Error("projective point not allowed");const P=O=>n.eql(O,n.ZERO);return P(E)&&P(v)?b.ZERO:new b(E,v,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(h){const E=rc(n,h.map(v=>v.pz));return h.map((v,P)=>v.toAffine(E[P])).map(b.fromAffine)}static fromHex(h){const E=b.fromAffine(a(fe("pointHex",h)));return E.assertValidity(),E}static fromPrivateKey(h){return b.BASE.multiply(l(h))}static msm(h,E){return Bl(b,r,h,E)}_setWindowSize(h){A.setWindowSize(this,h)}assertValidity(){m(this)}hasEvenY(){const{y:h}=this.toAffine();if(n.isOdd)return!n.isOdd(h);throw new Error("Field doesn't support isOdd")}equals(h){d(h);const{px:E,py:v,pz:P}=this,{px:O,py:F,pz:S}=h,C=n.eql(n.mul(E,S),n.mul(O,P)),k=n.eql(n.mul(v,S),n.mul(F,P));return C&&k}negate(){return new b(this.px,n.neg(this.py),this.pz)}double(){const{a:h,b:E}=t,v=n.mul(E,Sr),{px:P,py:O,pz:F}=this;let S=n.ZERO,C=n.ZERO,k=n.ZERO,M=n.mul(P,P),U=n.mul(O,O),$=n.mul(F,F),B=n.mul(P,O);return B=n.add(B,B),k=n.mul(P,F),k=n.add(k,k),S=n.mul(h,k),C=n.mul(v,$),C=n.add(S,C),S=n.sub(U,C),C=n.add(U,C),C=n.mul(S,C),S=n.mul(B,S),k=n.mul(v,k),$=n.mul(h,$),B=n.sub(M,$),B=n.mul(h,B),B=n.add(B,k),k=n.add(M,M),M=n.add(k,M),M=n.add(M,$),M=n.mul(M,B),C=n.add(C,M),$=n.mul(O,F),$=n.add($,$),M=n.mul($,B),S=n.sub(S,M),k=n.mul($,U),k=n.add(k,k),k=n.add(k,k),new b(S,C,k)}add(h){d(h);const{px:E,py:v,pz:P}=this,{px:O,py:F,pz:S}=h;let C=n.ZERO,k=n.ZERO,M=n.ZERO;const U=t.a,$=n.mul(t.b,Sr);let B=n.mul(E,O),R=n.mul(v,F),I=n.mul(P,S),G=n.add(E,v),z=n.add(O,F);G=n.mul(G,z),z=n.add(B,R),G=n.sub(G,z),z=n.add(E,P);let L=n.add(O,S);return z=n.mul(z,L),L=n.add(B,I),z=n.sub(z,L),L=n.add(v,P),C=n.add(F,S),L=n.mul(L,C),C=n.add(R,I),L=n.sub(L,C),M=n.mul(U,z),C=n.mul($,I),M=n.add(C,M),C=n.sub(R,M),M=n.add(R,M),k=n.mul(C,M),R=n.add(B,B),R=n.add(R,B),I=n.mul(U,I),z=n.mul($,z),R=n.add(R,I),I=n.sub(B,I),I=n.mul(U,I),z=n.add(z,I),B=n.mul(R,z),k=n.add(k,B),B=n.mul(L,z),C=n.mul(G,C),C=n.sub(C,B),B=n.mul(G,R),M=n.mul(L,M),M=n.add(M,B),new b(C,k,M)}subtract(h){return this.add(h.negate())}is0(){return this.equals(b.ZERO)}wNAF(h){return A.wNAFCached(this,h,b.normalizeZ)}multiplyUnsafe(h){const{endo:E,n:v}=t;lt("scalar",h,Te,v);const P=b.ZERO;if(h===Te)return P;if(this.is0()||h===W)return this;if(!E||A.hasPrecomputes(this))return A.wNAFCachedUnsafe(this,h,b.normalizeZ);let{k1neg:O,k1:F,k2neg:S,k2:C}=E.splitScalar(h),k=P,M=P,U=this;for(;F>Te||C>Te;)F&W&&(k=k.add(U)),C&W&&(M=M.add(U)),U=U.double(),F>>=W,C>>=W;return O&&(k=k.negate()),S&&(M=M.negate()),M=new b(n.mul(M.px,E.beta),M.py,M.pz),k.add(M)}multiply(h){const{endo:E,n:v}=t;lt("scalar",h,W,v);let P,O;if(E){const{k1neg:F,k1:S,k2neg:C,k2:k}=E.splitScalar(h);let{p:M,f:U}=this.wNAF(S),{p:$,f:B}=this.wNAF(k);M=A.constTimeNegate(F,M),$=A.constTimeNegate(C,$),$=new b(n.mul($.px,E.beta),$.py,$.pz),P=M.add($),O=U.add(B)}else{const{p:F,f:S}=this.wNAF(h);P=F,O=S}return b.normalizeZ([P,O])[0]}multiplyAndAddUnsafe(h,E,v){const P=b.BASE,O=(S,C)=>C===Te||C===W||!S.equals(P)?S.multiplyUnsafe(C):S.multiply(C),F=O(this,E).add(O(h,v));return F.is0()?void 0:F}toAffine(h){return p(this,h)}isTorsionFree(){const{h,isTorsionFree:E}=t;if(h===W)return!0;if(E)return E(b,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h,clearCofactor:E}=t;return h===W?this:E?E(b,this):this.multiplyUnsafe(t.h)}toRawBytes(h=!0){return nn("isCompressed",h),this.assertValidity(),s(b,this,h)}toHex(h=!0){return nn("isCompressed",h),rn(this.toRawBytes(h))}}b.BASE=new b(t.Gx,t.Gy,n.ONE),b.ZERO=new b(n.ZERO,n.ONE,n.ZERO);const{endo:y,nBitLength:w}=t,A=Al(b,y?Math.ceil(w/2):w);return{CURVE:t,ProjectivePoint:b,normPrivateKeyToScalar:l,weierstrassEquation:o,isWithinCurveOrder:f}}function Sl(e){const t=uc(e);return ar(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}function Cl(e){const t=Sl(e),{Fp:n,n:r,nByteLength:s,nBitLength:a}=t,o=n.BYTES+1,i=2*n.BYTES+1;function c($){return ne($,r)}function u($){return rs($,r)}const{ProjectivePoint:f,normPrivateKeyToScalar:l,weierstrassEquation:d,isWithinCurveOrder:p}=Tl({...t,toBytes($,B,R){const I=B.toAffine(),G=n.toBytes(I.x),z=Rn;return nn("isCompressed",R),R?z(Uint8Array.from([B.hasEvenY()?2:3]),G):z(Uint8Array.from([4]),G,n.toBytes(I.y))},fromBytes($){const B=$.length,R=$[0],I=$.subarray(1);if(B===o&&(R===2||R===3)){const G=Ze(I);if(!ga(G,W,n.ORDER))throw new Error("Point is not on curve");const z=d(G);let L;try{L=n.sqrt(z)}catch(te){const Y=te instanceof Error?": "+te.message:"";throw new Error("Point is not on curve"+Y)}const D=(L&W)===W;return(R&1)===1!==D&&(L=n.neg(L)),{x:G,y:L}}else if(B===i&&R===4){const G=n.fromBytes(I.subarray(0,n.BYTES)),z=n.fromBytes(I.subarray(n.BYTES,2*n.BYTES));return{x:G,y:z}}else{const G=o,z=i;throw new Error("invalid Point, expected length of "+G+", or uncompressed "+z+", got "+B)}}});function m($){const B=r>>W;return $>B}function b($){return m($)?c(-$):$}const y=($,B,R)=>Ze($.slice(B,R));class w{constructor(B,R,I){lt("r",B,W,r),lt("s",R,W,r),this.r=B,this.s=R,I!=null&&(this.recovery=I),Object.freeze(this)}static fromCompact(B){const R=s;return B=fe("compactSignature",B,R*2),new w(y(B,0,R),y(B,R,2*R))}static fromDER(B){const{r:R,s:I}=Oe.toSig(fe("DER",B));return new w(R,I)}assertValidity(){}addRecoveryBit(B){return new w(this.r,this.s,B)}recoverPublicKey(B){const{r:R,s:I,recovery:G}=this,z=P(fe("msgHash",B));if(G==null||![0,1,2,3].includes(G))throw new Error("recovery id invalid");const L=G===2||G===3?R+t.n:R;if(L>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const D=G&1?"03":"02",me=f.fromHex(D+Tr(L,n.BYTES)),te=u(L),Y=c(-z*te),ot=c(I*te),Re=f.BASE.multiplyAndAddUnsafe(me,Y,ot);if(!Re)throw new Error("point at infinify");return Re.assertValidity(),Re}hasHighS(){return m(this.s)}normalizeS(){return this.hasHighS()?new w(this.r,c(-this.s),this.recovery):this}toDERRawBytes(){return Fn(this.toDERHex())}toDERHex(){return Oe.hexFromSig(this)}toCompactRawBytes(){return Fn(this.toCompactHex())}toCompactHex(){const B=s;return Tr(this.r,B)+Tr(this.s,B)}}const A={isValidPrivateKey($){try{return l($),!0}catch{return!1}},normPrivateKeyToScalar:l,randomPrivateKey:()=>{const $=oc(t.n);return vl(t.randomBytes($),t.n)},precompute($=8,B=f.BASE){return B._setWindowSize($),B.multiply(BigInt(3)),B}};function x($,B=!0){return f.fromPrivateKey($).toRawBytes(B)}function h($){if(typeof $=="bigint")return!1;if($ instanceof f)return!0;const R=fe("key",$).length,I=n.BYTES,G=I+1,z=2*I+1;if(!(t.allowedPrivateKeyLengths||s===G))return R===G||R===z}function E($,B,R=!0){if(h($)===!0)throw new Error("first arg must be private key");if(h(B)===!1)throw new Error("second arg must be public key");return f.fromHex(B).multiply(l($)).toRawBytes(R)}const v=t.bits2int||function($){if($.length>8192)throw new Error("input is too large");const B=Ze($),R=$.length*8-a;return R>0?B>>BigInt(R):B},P=t.bits2int_modN||function($){return c(v($))},O=sr(a);function F($){return lt("num < 2^"+a,$,Te,O),xn($,s)}function S($,B,R=C){if(["recovered","canonical"].some(Le=>Le in R))throw new Error("sign() legacy options not supported");const{hash:I,randomBytes:G}=t;let{lowS:z,prehash:L,extraEntropy:D}=R;z==null&&(z=!0),$=fe("msgHash",$),uo(R),L&&($=fe("prehashed msgHash",I($)));const me=P($),te=l(B),Y=[F(te),F(me)];if(D!=null&&D!==!1){const Le=D===!0?G(n.BYTES):D;Y.push(fe("extraEntropy",Le))}const ot=Rn(...Y),Re=me;function dr(Le){const it=v(Le);if(!p(it))return;const lr=u(it),St=f.BASE.multiply(it).toAffine(),Ue=c(St.x);if(Ue===Te)return;const Ct=c(lr*c(Re+Ue*te));if(Ct===Te)return;let ct=(St.x===Ue?0:2)|Number(St.y&W),Pa=Ct;return z&&m(Ct)&&(Pa=b(Ct),ct^=1),new w(Ue,Pa,ct)}return{seed:ot,k2sig:dr}}const C={lowS:t.lowS,prehash:!1},k={lowS:t.lowS,prehash:!1};function M($,B,R=C){const{seed:I,k2sig:G}=S($,B,R),z=t;return ll(z.hash.outputLen,z.nByteLength,z.hmac)(I,G)}f.BASE._setWindowSize(8);function U($,B,R,I=k){const G=$;B=fe("msgHash",B),R=fe("publicKey",R);const{lowS:z,prehash:L,format:D}=I;if(uo(I),"strict"in I)throw new Error("options.strict was renamed to lowS");if(D!==void 0&&D!=="compact"&&D!=="der")throw new Error("format must be compact or der");const me=typeof G=="string"||wn(G),te=!me&&!D&&typeof G=="object"&&G!==null&&typeof G.r=="bigint"&&typeof G.s=="bigint";if(!me&&!te)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let Y,ot;try{if(te&&(Y=new w(G.r,G.s)),me){try{D!=="compact"&&(Y=w.fromDER(G))}catch(ct){if(!(ct instanceof Oe.Err))throw ct}!Y&&D!=="der"&&(Y=w.fromCompact(G))}ot=f.fromHex(R)}catch{return!1}if(!Y||z&&Y.hasHighS())return!1;L&&(B=t.hash(B));const{r:Re,s:dr}=Y,Le=P(B),it=u(dr),lr=c(Le*it),St=c(Re*it),Ue=f.BASE.multiplyAndAddUnsafe(ot,lr,St)?.toAffine();return Ue?c(Ue.x)===Re:!1}return{CURVE:t,getPublicKey:x,getSharedSecret:E,sign:M,verify:U,ProjectivePoint:f,Signature:w,utils:A}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function kl(e){return{hash:e,hmac:(t,...n)=>Zi(e,t,Yu(...n)),randomBytes:Xu}}function Nl(e,t){const n=r=>Cl({...e,...kl(r)});return{...n(t),create:n}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const fc=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),fo=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Fl=BigInt(0),Rl=BigInt(1),as=BigInt(2),lo=(e,t)=>(e+t/as)/t;function Gl(e){const t=fc,n=BigInt(3),r=BigInt(6),s=BigInt(11),a=BigInt(22),o=BigInt(23),i=BigInt(44),c=BigInt(88),u=e*e*e%t,f=u*u*e%t,l=ue(f,n,t)*f%t,d=ue(l,n,t)*f%t,p=ue(d,as,t)*u%t,m=ue(p,s,t)*p%t,b=ue(m,a,t)*m%t,y=ue(b,i,t)*b%t,w=ue(y,c,t)*y%t,A=ue(w,i,t)*b%t,x=ue(A,n,t)*f%t,h=ue(x,o,t)*m%t,E=ue(h,r,t)*u%t,v=ue(E,as,t);if(!os.eql(os.sqr(v),e))throw new Error("Cannot find square root");return v}const os=wa(fc,void 0,void 0,{sqrt:Gl}),xa=Nl({a:Fl,b:BigInt(7),Fp:os,n:fo,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=fo,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-Rl*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),a=n,o=BigInt("0x100000000000000000000000000000000"),i=lo(a*e,t),c=lo(-r*e,t);let u=ne(e-i*n-c*s,t),f=ne(-i*r-c*a,t);const l=u>o,d=f>o;if(l&&(u=t-u),d&&(f=t-f),u>o||f>o)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:l,k1:u,k2neg:d,k2:f}}}},Ci),Ml=Object.freeze(Object.defineProperty({__proto__:null,secp256k1:xa},Symbol.toStringTag,{value:"Module"}));function zl({r:e,s:t,to:n="hex",v:r,yParity:s}){const a=(()=>{if(s===0||s===1)return s;if(r&&(r===27n||r===28n||r>=35n))return r%2n===0n?1:0;throw new Error("Invalid `v` or `yParity` value")})(),o=`0x${new xa.Signature(J(e),J(t)).toCompactHex()}${a===0?"1b":"1c"}`;return n==="hex"?o:le(o)}async function or(e,t){const{address:n,hash:r,erc6492VerifierAddress:s=t.universalSignatureVerifierAddress??e.chain?.contracts?.erc6492Verifier?.address,multicallAddress:a=t.multicallAddress??e.chain?.contracts?.multicall3?.address}=t,o=(()=>{const i=t.signature;return ye(i)?i:typeof i=="object"&&"r"in i&&"s"in i?zl(i):q(i)})();try{return Dc(o)?await Ll(e,{...t,multicallAddress:a,signature:o}):await Ul(e,{...t,verifierAddress:s,signature:o})}catch(i){try{if(Bt(qo(n),await xi({hash:r,signature:o})))return!0}catch{}if(i instanceof et)return!1;throw i}}async function Ll(e,t){const{address:n,blockNumber:r,blockTag:s,hash:a,multicallAddress:o}=t,{authorization:i,data:c,signature:u,to:f}=jc(t.signature);if(await Cn(e,{address:n,blockNumber:r,blockTag:s})===Fe(["0xef0100",i.address]))return await Dl(e,{address:n,blockNumber:r,blockTag:s,hash:a,signature:u});const d={address:i.address,chainId:Number(i.chainId),nonce:Number(i.nonce),r:T(i.r,{size:32}),s:T(i.s,{size:32}),yParity:i.yParity};if(!await $d({address:n,authorization:d}))throw new et;const m=await N(e,pe,"readContract")({...o?{address:o}:{code:Qs},authorizationList:[d],abi:In,blockNumber:r,blockTag:"pending",functionName:"aggregate3",args:[[...c?[{allowFailure:!0,target:f??n,callData:c}]:[],{allowFailure:!0,target:n,callData:ie({abi:$o,functionName:"isValidSignature",args:[a,u]})}]]});if(m[m.length-1]?.returnData?.startsWith("0x1626ba7e"))return!0;throw new et}async function Ul(e,t){const{address:n,factory:r,factoryData:s,hash:a,signature:o,verifierAddress:i,...c}=t,u=await(async()=>!r&&!s||_c(o)?o:Hc({data:s,signature:o,to:r}))(),f=i?{to:i,data:ie({abi:Ca,functionName:"isValidSig",args:[n,a,u]}),...c}:{data:ea({abi:Ca,args:[n,a,u],bytecode:uf}),...c},{data:l}=await N(e,hn,"call")(f).catch(d=>{throw d instanceof ai?new et:d});if(Cu(l??"0x0"))return!0;throw new et}async function Dl(e,t){const{address:n,blockNumber:r,blockTag:s,hash:a,signature:o}=t;if((await N(e,pe,"readContract")({address:n,abi:$o,args:[a,o],blockNumber:r,blockTag:s,functionName:"isValidSignature"}).catch(c=>{throw c instanceof Ks?new et:c})).startsWith("0x1626ba7e"))return!0;throw new et}class et extends Error{}async function jl(e,{address:t,message:n,factory:r,factoryData:s,signature:a,...o}){const i=Di(n);return or(e,{address:t,factory:r,factoryData:s,hash:i,signature:a,...o})}async function _l(e,t){const{address:n,factory:r,factoryData:s,signature:a,message:o,primaryType:i,types:c,domain:u,...f}=t,l=ji({message:o,primaryType:i,types:c,domain:u});return or(e,{address:n,factory:r,factoryData:s,hash:l,signature:a,...f})}const Cr=new Map,po=new Map;let Hl=0;function Pe(e,t,n){const r=++Hl,s=()=>Cr.get(e)||[],a=()=>{const f=s();Cr.set(e,f.filter(l=>l.id!==r))},o=()=>{const f=s();if(!f.some(d=>d.id===r))return;const l=po.get(e);if(f.length===1&&l){const d=l();d instanceof Promise&&d.catch(()=>{})}a()},i=s();if(Cr.set(e,[...i,{id:r,fns:t}]),i&&i.length>0)return o;const c={};for(const f in t)c[f]=(...l)=>{const d=s();if(d.length!==0)for(const p of d)p.fns[f]?.(...l)};const u=n(c);return typeof u=="function"&&po.set(e,u),o}function st(e,{emitOnBegin:t,initialWaitTime:n,interval:r}){let s=!0;const a=()=>s=!1;return(async()=>{let i;t&&(i=await e({unpoll:a}));const c=await n?.(i)??r;await kn(c);const u=async()=>{s&&(await e({unpoll:a}),await kn(r),u())};u()})(),a}function dc(e,{emitOnBegin:t=!1,emitMissed:n=!1,onBlockNumber:r,onError:s,poll:a,pollingInterval:o=e.pollingInterval}){const i=typeof a<"u"?a:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc"));let c;return i?(()=>{const l=H(["watchBlockNumber",e.uid,t,n,o]);return Pe(l,{onBlockNumber:r,onError:s},d=>st(async()=>{try{const p=await N(e,gn,"getBlockNumber")({cacheTime:0});if(c!==void 0){if(p===c)return;if(p-c>1&&n)for(let m=c+1n;m<p;m++)d.onBlockNumber(m,c),c=m}(c===void 0||p>c)&&(d.onBlockNumber(p,c),c=p)}catch(p){d.onError?.(p)}},{emitOnBegin:t,interval:o}))})():(()=>{const l=H(["watchBlockNumber",e.uid,t,n]);return Pe(l,{onBlockNumber:r,onError:s},d=>{let p=!0,m=()=>p=!1;return(async()=>{try{const b=(()=>{if(e.transport.type==="fallback"){const w=e.transport.transports.find(A=>A.config.type==="webSocket"||A.config.type==="ipc");return w?w.value:e.transport}return e.transport})(),{unsubscribe:y}=await b.subscribe({params:["newHeads"],onData(w){if(!p)return;const A=J(w.result?.number);d.onBlockNumber(A,c),c=A},onError(w){d.onError?.(w)}});m=y,p||m()}catch(b){s?.(b)}})(),()=>m()})})()}async function ql(e,t){const{checkReplacement:n=!0,confirmations:r=1,hash:s,onReplaced:a,retryCount:o=6,retryDelay:i=({count:E})=>~~(1<<E)*200,timeout:c=18e4}=t,u=H(["waitForTransactionReceipt",e.uid,s]),f=t.pollingInterval?t.pollingInterval:e.chain?.experimental_preconfirmationTime?e.chain.experimental_preconfirmationTime:e.pollingInterval;let l,d,p,m=!1,b,y;const{promise:w,resolve:A,reject:x}=ta(),h=c?setTimeout(()=>{y?.(),b?.(),x(new K0({hash:s}))},c):void 0;return b=Pe(u,{onReplaced:a,resolve:A,reject:x},async E=>{if(p=await N(e,$n,"getTransactionReceipt")({hash:s}).catch(()=>{}),p&&r<=1){clearTimeout(h),E.resolve(p),b?.();return}y=N(e,dc,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:f,async onBlockNumber(v){const P=F=>{clearTimeout(h),y?.(),F(),b?.()};let O=v;if(!m)try{if(p){if(r>1&&(!p.blockNumber||O-p.blockNumber+1n<r))return;P(()=>E.resolve(p));return}if(n&&!l&&(m=!0,await Nn(async()=>{l=await N(e,ma,"getTransaction")({hash:s}),l.blockNumber&&(O=l.blockNumber)},{delay:i,retryCount:o}),m=!1),p=await N(e,$n,"getTransactionReceipt")({hash:s}),r>1&&(!p.blockNumber||O-p.blockNumber+1n<r))return;P(()=>E.resolve(p))}catch(F){if(F instanceof ri||F instanceof si){if(!l){m=!1;return}try{d=l,m=!0;const S=await Nn(()=>N(e,ve,"getBlock")({blockNumber:O,includeTransactions:!0}),{delay:i,retryCount:o,shouldRetry:({error:M})=>M instanceof Pi});m=!1;const C=S.transactions.find(({from:M,nonce:U})=>M===d.from&&U===d.nonce);if(!C||(p=await N(e,$n,"getTransactionReceipt")({hash:C.hash}),r>1&&(!p.blockNumber||O-p.blockNumber+1n<r)))return;let k="replaced";C.to===d.to&&C.value===d.value&&C.input===d.input?k="repriced":C.from===C.to&&C.value===0n&&(k="cancelled"),P(()=>{E.onReplaced?.({reason:k,replacedTransaction:d,transaction:C,transactionReceipt:p}),E.resolve(p)})}catch(S){P(()=>E.reject(S))}}else P(()=>E.reject(F))}}})}),w}function Vl(e,{blockTag:t=e.experimental_blockTag??"latest",emitMissed:n=!1,emitOnBegin:r=!1,onBlock:s,onError:a,includeTransactions:o,poll:i,pollingInterval:c=e.pollingInterval}){const u=typeof i<"u"?i:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc")),f=o??!1;let l;return u?(()=>{const m=H(["watchBlocks",e.uid,t,n,r,f,c]);return Pe(m,{onBlock:s,onError:a},b=>st(async()=>{try{const y=await N(e,ve,"getBlock")({blockTag:t,includeTransactions:f});if(y.number!==null&&l?.number!=null){if(y.number===l.number)return;if(y.number-l.number>1&&n)for(let w=l?.number+1n;w<y.number;w++){const A=await N(e,ve,"getBlock")({blockNumber:w,includeTransactions:f});b.onBlock(A,l),l=A}}(l?.number==null||t==="pending"&&y?.number==null||y.number!==null&&y.number>l.number)&&(b.onBlock(y,l),l=y)}catch(y){b.onError?.(y)}},{emitOnBegin:r,interval:c}))})():(()=>{let m=!0,b=!0,y=()=>m=!1;return(async()=>{try{r&&N(e,ve,"getBlock")({blockTag:t,includeTransactions:f}).then(x=>{m&&b&&(s(x,void 0),b=!1)}).catch(a);const w=(()=>{if(e.transport.type==="fallback"){const x=e.transport.transports.find(h=>h.config.type==="webSocket"||h.config.type==="ipc");return x?x.value:e.transport}return e.transport})(),{unsubscribe:A}=await w.subscribe({params:["newHeads"],async onData(x){if(!m)return;const h=await N(e,ve,"getBlock")({blockNumber:x.result?.number,includeTransactions:f}).catch(()=>{});m&&(s(h,l),b=!1,l=h)},onError(x){a?.(x)}});y=A,m||y()}catch(w){a?.(w)}})(),()=>y()})()}function Wl(e,t){const{abi:n,address:r,args:s,batch:a=!0,eventName:o,fromBlock:i,onError:c,onLogs:u,poll:f,pollingInterval:l=e.pollingInterval,strict:d}=t;return(typeof f<"u"?f:typeof i=="bigint"?!0:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc")))?(()=>{const y=d??!1,w=H(["watchContractEvent",r,s,a,e.uid,o,l,y,i]);return Pe(w,{onLogs:u,onError:c},A=>{let x;i!==void 0&&(x=i-1n);let h,E=!1;const v=st(async()=>{if(!E){try{h=await N(e,yi,"createContractEventFilter")({abi:n,address:r,args:s,eventName:o,strict:y,fromBlock:i})}catch{}E=!0;return}try{let P;if(h)P=await N(e,nr,"getFilterChanges")({filter:h});else{const O=await N(e,gn,"getBlockNumber")({});x&&x<O?P=await N(e,Ri,"getContractEvents")({abi:n,address:r,args:s,eventName:o,fromBlock:x+1n,toBlock:O,strict:y}):P=[],x=O}if(P.length===0)return;if(a)A.onLogs(P);else for(const O of P)A.onLogs([O])}catch(P){h&&P instanceof Je&&(E=!1),A.onError?.(P)}},{emitOnBegin:!0,interval:l});return async()=>{h&&await N(e,rr,"uninstallFilter")({filter:h}),v()}})})():(()=>{const y=d??!1,w=H(["watchContractEvent",r,s,a,e.uid,o,l,y]);let A=!0,x=()=>A=!1;return Pe(w,{onLogs:u,onError:c},h=>((async()=>{try{const E=(()=>{if(e.transport.type==="fallback"){const O=e.transport.transports.find(F=>F.config.type==="webSocket"||F.config.type==="ipc");return O?O.value:e.transport}return e.transport})(),v=o?yn({abi:n,eventName:o,args:s}):[],{unsubscribe:P}=await E.subscribe({params:["logs",{address:r,topics:v}],onData(O){if(!A)return;const F=O.result;try{const{eventName:S,args:C}=da({abi:n,data:F.data,topics:F.topics,strict:d}),k=Ee(F,{args:C,eventName:S});h.onLogs([k])}catch(S){let C,k;if(S instanceof Ft||S instanceof Wn){if(d)return;C=S.abiItem.name,k=S.abiItem.inputs?.some(U=>!("name"in U&&U.name))}const M=Ee(F,{args:k?[]:{},eventName:C});h.onLogs([M])}},onError(O){h.onError?.(O)}});x=P,A||x()}catch(E){c?.(E)}})(),()=>x()))})()}function Zl(e,{address:t,args:n,batch:r=!0,event:s,events:a,fromBlock:o,onError:i,onLogs:c,poll:u,pollingInterval:f=e.pollingInterval,strict:l}){const d=typeof u<"u"?u:typeof o=="bigint"?!0:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc")),p=l??!1;return d?(()=>{const y=H(["watchEvent",t,n,r,e.uid,s,f,o]);return Pe(y,{onLogs:c,onError:i},w=>{let A;o!==void 0&&(A=o-1n);let x,h=!1;const E=st(async()=>{if(!h){try{x=await N(e,gi,"createEventFilter")({address:t,args:n,event:s,events:a,strict:p,fromBlock:o})}catch{}h=!0;return}try{let v;if(x)v=await N(e,nr,"getFilterChanges")({filter:x});else{const P=await N(e,gn,"getBlockNumber")({});A&&A!==P?v=await N(e,pa,"getLogs")({address:t,args:n,event:s,events:a,fromBlock:A+1n,toBlock:P}):v=[],A=P}if(v.length===0)return;if(r)w.onLogs(v);else for(const P of v)w.onLogs([P])}catch(v){x&&v instanceof Je&&(h=!1),w.onError?.(v)}},{emitOnBegin:!0,interval:f});return async()=>{x&&await N(e,rr,"uninstallFilter")({filter:x}),E()}})})():(()=>{let y=!0,w=()=>y=!1;return(async()=>{try{const A=(()=>{if(e.transport.type==="fallback"){const v=e.transport.transports.find(P=>P.config.type==="webSocket"||P.config.type==="ipc");return v?v.value:e.transport}return e.transport})(),x=a??(s?[s]:void 0);let h=[];x&&(h=[x.flatMap(P=>yn({abi:[P],eventName:P.name,args:n}))],s&&(h=h[0]));const{unsubscribe:E}=await A.subscribe({params:["logs",{address:t,topics:h}],onData(v){if(!y)return;const P=v.result;try{const{eventName:O,args:F}=da({abi:x??[],data:P.data,topics:P.topics,strict:p}),S=Ee(P,{args:F,eventName:O});c([S])}catch(O){let F,S;if(O instanceof Ft||O instanceof Wn){if(l)return;F=O.abiItem.name,S=O.abiItem.inputs?.some(k=>!("name"in k&&k.name))}const C=Ee(P,{args:S?[]:{},eventName:F});c([C])}},onError(v){i?.(v)}});w=E,y||w()}catch(A){i?.(A)}})(),()=>w()})()}function Kl(e,{batch:t=!0,onError:n,onTransactions:r,poll:s,pollingInterval:a=e.pollingInterval}){return(typeof s<"u"?s:e.transport.type!=="webSocket"&&e.transport.type!=="ipc")?(()=>{const u=H(["watchPendingTransactions",e.uid,t,a]);return Pe(u,{onTransactions:r,onError:n},f=>{let l;const d=st(async()=>{try{if(!l)try{l=await N(e,wi,"createPendingTransactionFilter")({});return}catch(m){throw d(),m}const p=await N(e,nr,"getFilterChanges")({filter:l});if(p.length===0)return;if(t)f.onTransactions(p);else for(const m of p)f.onTransactions([m])}catch(p){f.onError?.(p)}},{emitOnBegin:!0,interval:a});return async()=>{l&&await N(e,rr,"uninstallFilter")({filter:l}),d()}})})():(()=>{let u=!0,f=()=>u=!1;return(async()=>{try{const{unsubscribe:l}=await e.transport.subscribe({params:["newPendingTransactions"],onData(d){if(!u)return;const p=d.result;r([p])},onError(d){n?.(d)}});f=l,u||f()}catch(l){n?.(l)}})(),()=>f()})()}class at extends g{constructor({docsPath:t}={}){super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the Client."].join(`
`),{docsPath:t,docsSlug:"account",name:"AccountNotFoundError"})}}class kr extends g{constructor({docsPath:t,metaMessages:n,type:r}){super(`Account type "${r}" is not supported.`,{docsPath:t,metaMessages:n,name:"AccountTypeNotSupportedError"})}}async function lc(e,{serializedTransaction:t}){return e.request({method:"eth_sendRawTransaction",params:[t]},{retryCount:0})}const Nr=new un(128);async function Yl(e,t){const{account:n=e.account,chain:r=e.chain,accessList:s,authorizationList:a,blobs:o,data:i,gas:c,gasPrice:u,maxFeePerBlobGas:f,maxFeePerGas:l,maxPriorityFeePerGas:d,nonce:p,type:m,value:b,...y}=t;if(typeof n>"u")throw new at({docsPath:"/docs/actions/wallet/sendTransaction"});const w=n?V(n):null;try{Pt(t);const A=await(async()=>{if(t.to)return t.to;if(t.to!==null&&a&&a.length>0)return await sa({authorization:a[0]}).catch(()=>{throw new g("`to` is required. Could not infer from `authorizationList`.")})})();if(w?.type==="json-rpc"||w===null){let x;r!==null&&(x=await N(e,At,"getChainId")({}),Gd({currentChainId:x,chain:r}));const h=e.chain?.formatters?.transactionRequest?.format,v=(h||mn)({...Qn(y,{format:h}),accessList:s,authorizationList:a,blobs:o,chainId:x,data:i,from:w?.address,gas:c,gasPrice:u,maxFeePerBlobGas:f,maxFeePerGas:l,maxPriorityFeePerGas:d,nonce:p,to:A,type:m,value:b},"sendTransaction"),P=Nr.get(e.uid),O=P?"wallet_sendTransaction":"eth_sendTransaction";try{return await e.request({method:O,params:[v]},{retryCount:0})}catch(F){if(P===!1)throw F;const S=F;if(S.name==="InvalidInputRpcError"||S.name==="InvalidParamsRpcError"||S.name==="MethodNotFoundRpcError"||S.name==="MethodNotSupportedRpcError")return await e.request({method:"wallet_sendTransaction",params:[v]},{retryCount:0}).then(C=>(Nr.set(e.uid,!0),C)).catch(C=>{const k=C;throw k.name==="MethodNotFoundRpcError"||k.name==="MethodNotSupportedRpcError"?(Nr.set(e.uid,!1),S):k});throw S}}if(w?.type==="local"){const x=await N(e,ua,"prepareTransactionRequest")({account:w,accessList:s,authorizationList:a,blobs:o,chain:r,data:i,gas:c,gasPrice:u,maxFeePerBlobGas:f,maxFeePerGas:l,maxPriorityFeePerGas:d,nonce:p,nonceManager:w.nonceManager,parameters:[...Fi,"sidecars"],type:m,value:b,...y,to:A}),h=r?.serializers?.transaction,E=await w.signTransaction(x,{serializer:h});return await N(e,lc,"sendRawTransaction")({serializedTransaction:E})}throw w?.type==="smart"?new kr({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"}):new kr({docsPath:"/docs/actions/wallet/sendTransaction",type:w?.type})}catch(A){throw A instanceof kr?A:Md(A,{...t,account:w,chain:t.chain||void 0})}}const Xl="0x5792579257925792579257925792579257925792579257925792579257925792",Jl=T(0,{size:32});async function Ql(e,t){async function n(f){if(f.endsWith(Xl.slice(2))){const d=Se(Dr(f,-64,-32)),p=Dr(f,0,-64).slice(2).match(/.{1,64}/g),m=await Promise.all(p.map(y=>Jl.slice(2)!==y?e.request({method:"eth_getTransactionReceipt",params:[`0x${y}`]},{dedupe:!0}):void 0)),b=m.some(y=>y===null)?100:m.every(y=>y?.status==="0x1")?200:m.every(y=>y?.status==="0x0")?500:600;return{atomic:!1,chainId:ge(d),receipts:m.filter(Boolean),status:b,version:"2.0.0"}}return e.request({method:"wallet_getCallsStatus",params:[f]})}const{atomic:r=!1,chainId:s,receipts:a,version:o="2.0.0",...i}=await n(t.id),[c,u]=(()=>{const f=i.status;return f>=100&&f<200?["pending",f]:f>=200&&f<300?["success",f]:f>=300&&f<700?["failure",f]:f==="CONFIRMED"?["success",200]:f==="PENDING"?["pending",100]:[void 0,f]})();return{...i,atomic:r,chainId:s?ge(s):void 0,receipts:a?.map(f=>({...f,blockNumber:J(f.blockNumber),gasUsed:J(f.gasUsed),status:Ui[f.status]}))??[],statusCode:u,status:c,version:o}}async function ep(e,t){const{account:n=e.account,chainId:r,nonce:s}=t;if(!n)throw new at({docsPath:"/docs/eip7702/prepareAuthorization"});const a=V(n),o=(()=>{if(t.executor)return t.executor==="self"?t.executor:V(t.executor)})(),i={address:t.contractAddress??t.address,chainId:r,nonce:s};return typeof i.chainId>"u"&&(i.chainId=e.chain?.id??await N(e,At,"getChainId")({})),typeof i.nonce>"u"&&(i.nonce=await N(e,ia,"getTransactionCount")({address:a.address,blockTag:"pending"}),(o==="self"||o?.address&&Bt(o.address,a.address))&&(i.nonce+=1)),i}class tp extends g{constructor(t){super(`Call bundle failed with status: ${t.statusCode}`,{name:"BundleFailedError"}),Object.defineProperty(this,"result",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.result=t}}async function G1(e,t){const{id:n,pollingInterval:r=e.pollingInterval,status:s=({statusCode:b})=>b===200||b>=300,retryCount:a=4,retryDelay:o=({count:b})=>~~(1<<b)*200,timeout:i=6e4,throwOnFailure:c=!1}=t,u=H(["waitForCallsStatus",e.uid,n]),{promise:f,resolve:l,reject:d}=ta();let p;const m=Pe(u,{resolve:l,reject:d},b=>{const y=st(async()=>{const w=A=>{clearTimeout(p),y(),A(),m()};try{const A=await Nn(async()=>{const x=await N(e,Ql,"getCallsStatus")({id:n});if(c&&x.status==="failure")throw new tp(x);return x},{retryCount:a,delay:o});if(!s(A))return;w(()=>b.resolve(A))}catch(A){w(()=>b.reject(A))}},{interval:r,emitOnBegin:!0});return y});return p=i?setTimeout(()=>{m(),clearTimeout(p),d(new np({id:n}))},i):void 0,await f}class np extends g{constructor({id:t}){super(`Timed out while waiting for call bundle with id "${t}" to be confirmed.`,{name:"WaitForCallsStatusTimeoutError"})}}async function rp(e,{serializedTransaction:t,throwOnReceiptRevert:n,timeout:r}){const s=await e.request({method:"eth_sendRawTransactionSync",params:r?[t,T(r)]:[t]},{retryCount:0}),o=(e.chain?.formatters?.transactionReceipt?.format||ba)(s);if(o.status==="reverted"&&n)throw new Z0({receipt:o});return o}async function M1(e,{account:t=e.account,message:n}){if(!t)throw new at({docsPath:"/docs/actions/wallet/signMessage"});const r=V(t);if(r.signMessage)return r.signMessage({message:n});const s=typeof n=="string"?Ke(n):n.raw instanceof Uint8Array?Ne(n.raw):n.raw;return e.request({method:"personal_sign",params:[s,r.address]},{retryCount:0})}async function is(e,t){return is.internal(e,Yl,"sendTransaction",t)}(function(e){async function t(n,r,s,a){const{abi:o,account:i=n.account,address:c,args:u,dataSuffix:f,functionName:l,...d}=a;if(typeof i>"u")throw new at({docsPath:"/docs/contract/writeContract"});const p=i?V(i):null,m=ie({abi:o,args:u,functionName:l});try{return await N(n,r,s)({data:`${m}${f?f.replace("0x",""):""}`,to:c,account:p,...d})}catch(b){throw Qe(b,{abi:o,address:c,args:u,docsPath:"/docs/contract/writeContract",functionName:l,sender:p?.address})}}e.internal=t})(is||(is={}));const cs=256;let An=cs,Bn;function pc(e=11){if(!Bn||An+e>cs*2){Bn="",An=0;for(let t=0;t<cs;t++)Bn+=(256+Math.random()*256|0).toString(16).substring(1)}return Bn.substring(An,An+++e)}function bc(e){const{batch:t,chain:n,ccipRead:r,key:s="base",name:a="Base Client",type:o="base"}=e,i=e.experimental_blockTag??(typeof n?.experimental_preconfirmationTime=="number"?"pending":void 0),c=n?.blockTime??12e3,u=Math.min(Math.max(Math.floor(c/2),500),4e3),f=e.pollingInterval??u,l=e.cacheTime??f,d=e.account?V(e.account):void 0,{config:p,request:m,value:b}=e.transport({chain:n,pollingInterval:f}),y={...p,...b},w={account:d,batch:t,cacheTime:l,ccipRead:r,chain:n,key:s,name:a,pollingInterval:f,request:m,transport:y,type:o,uid:pc(),...i?{experimental_blockTag:i}:{}};function A(x){return h=>{const E=h(x);for(const P in w)delete E[P];const v={...x,...E};return Object.assign(v,{extend:A(v)})}}return Object.assign(w,{extend:A(w)})}function sp(e){const{scheme:t,statement:n,...r}=e.match(ap)?.groups??{},{chainId:s,expirationTime:a,issuedAt:o,notBefore:i,requestId:c,...u}=e.match(op)?.groups??{},f=e.split("Resources:")[1]?.split(`
- `).slice(1);return{...r,...u,...s?{chainId:Number(s)}:{},...a?{expirationTime:new Date(a)}:{},...o?{issuedAt:new Date(o)}:{},...i?{notBefore:new Date(i)}:{},...c?{requestId:c}:{},...f?{resources:f}:{},...t?{scheme:t}:{},...n?{statement:n}:{}}}const ap=/^(?:(?<scheme>[a-zA-Z][a-zA-Z0-9+-.]*):\/\/)?(?<domain>[a-zA-Z0-9+-.]*(?::[0-9]{1,5})?) (?:wants you to sign in with your Ethereum account:\n)(?<address>0x[a-fA-F0-9]{40})\n\n(?:(?<statement>.*)\n\n)?/,op=/(?:URI: (?<uri>.+))\n(?:Version: (?<version>.+))\n(?:Chain ID: (?<chainId>\d+))\n(?:Nonce: (?<nonce>[a-zA-Z0-9]+))\n(?:Issued At: (?<issuedAt>.+))(?:\nExpiration Time: (?<expirationTime>.+))?(?:\nNot Before: (?<notBefore>.+))?(?:\nRequest ID: (?<requestId>.+))?/;function ip(e){const{address:t,domain:n,message:r,nonce:s,scheme:a,time:o=new Date}=e;if(n&&r.domain!==n||s&&r.nonce!==s||a&&r.scheme!==a||r.expirationTime&&o>=r.expirationTime||r.notBefore&&o<r.notBefore)return!1;try{if(!r.address||!oe(r.address,{strict:!1})||t&&!Bt(r.address,t))return!1}catch{return!1}return!0}async function cp(e,t){const{address:n,domain:r,message:s,nonce:a,scheme:o,signature:i,time:c=new Date,...u}=t,f=sp(s);if(!f.address||!ip({address:n,domain:r,message:f,nonce:a,scheme:o,time:c}))return!1;const d=Di(s);return or(e,{address:f.address,hash:d,signature:i,...u})}function up(e){return{call:t=>hn(e,t),createAccessList:t=>hi(e,t),createBlockFilter:()=>Ff(e),createContractEventFilter:t=>yi(e,t),createEventFilter:t=>gi(e,t),createPendingTransactionFilter:()=>wi(e),estimateContractGas:t=>ud(e,t),estimateGas:t=>fa(e,t),getBalance:t=>fd(e,t),getBlobBaseFee:()=>dd(e),getBlock:t=>ve(e,t),getBlockNumber:t=>gn(e,t),getBlockTransactionCount:t=>yd(e,t),getBytecode:t=>Cn(e,t),getChainId:()=>At(e),getCode:t=>Cn(e,t),getContractEvents:t=>Ri(e,t),getEip712Domain:t=>vd(e,t),getEnsAddress:t=>gf(e,t),getEnsAvatar:t=>Cf(e,t),getEnsName:t=>kf(e,t),getEnsResolver:t=>Nf(e,t),getEnsText:t=>mi(e,t),getFeeHistory:t=>Ad(e,t),estimateFeesPerGas:t=>Oi(e,t),getFilterChanges:t=>nr(e,t),getFilterLogs:t=>Bd(e,t),getGasPrice:()=>oa(e),getLogs:t=>pa(e,t),getProof:t=>nl(e,t),estimateMaxPriorityFeePerGas:t=>Wf(e,t),getStorageAt:t=>rl(e,t),getTransaction:t=>ma(e,t),getTransactionConfirmations:t=>sl(e,t),getTransactionCount:t=>ia(e,t),getTransactionReceipt:t=>$n(e,t),multicall:t=>al(e,t),prepareTransactionRequest:t=>ua(e,t),readContract:t=>pe(e,t),sendRawTransaction:t=>lc(e,t),sendRawTransactionSync:t=>rp(e,t),simulate:t=>ts(e,t),simulateBlocks:t=>ts(e,t),simulateCalls:t=>cl(e,t),simulateContract:t=>ul(e,t),verifyHash:t=>or(e,t),verifyMessage:t=>jl(e,t),verifySiweMessage:t=>cp(e,t),verifyTypedData:t=>_l(e,t),uninstallFilter:t=>rr(e,t),waitForTransactionReceipt:t=>ql(e,t),watchBlocks:t=>Vl(e,t),watchBlockNumber:t=>dc(e,t),watchContractEvent:t=>Wl(e,t),watchEvent:t=>Zl(e,t),watchPendingTransactions:t=>Kl(e,t)}}function z1(e){const{key:t="public",name:n="Public Client"}=e;return bc({...e,key:t,name:n,type:"publicClient"}).extend(up)}function va({key:e,methods:t,name:n,request:r,retryCount:s=3,retryDelay:a=150,timeout:o,type:i},c){const u=pc();return{config:{key:e,methods:t,name:n,request:r,retryCount:s,retryDelay:a,timeout:o,type:i},request:Od(r,{methods:t,retryCount:s,retryDelay:a,uid:u}),value:c}}function L1(e,t={}){const{key:n="custom",methods:r,name:s="Custom Provider",retryDelay:a}=t;return({retryCount:o})=>va({key:n,methods:r,name:s,request:e.request.bind(e),retryCount:t.retryCount??o,retryDelay:a,type:"custom"})}function U1(e,t={}){const{key:n="fallback",name:r="Fallback",rank:s=!1,shouldThrow:a=fp,retryCount:o,retryDelay:i}=t;return({chain:c,pollingInterval:u=4e3,timeout:f,...l})=>{let d=e,p=()=>{};const m=va({key:n,name:r,async request({method:b,params:y}){let w;const A=async(x=0)=>{const h=d[x]({...l,chain:c,retryCount:0,timeout:f});try{const E=await h.request({method:b,params:y});return p({method:b,params:y,response:E,transport:h,status:"success"}),E}catch(E){if(p({error:E,method:b,params:y,transport:h,status:"error"}),a(E)||x===d.length-1||(w??(w=d.slice(x+1).some(v=>{const{include:P,exclude:O}=v({chain:c}).config.methods||{};return P?P.includes(b):O?!O.includes(b):!0})),!w))throw E;return A(x+1)}};return A()},retryCount:o,retryDelay:i,type:"fallback"},{onResponse:b=>p=b,transports:d.map(b=>b({chain:c,retryCount:0}))});if(s){const b=typeof s=="object"?s:{};dp({chain:c,interval:b.interval??u,onTransports:y=>d=y,ping:b.ping,sampleCount:b.sampleCount,timeout:b.timeout,transports:d,weights:b.weights})}return m}}function fp(e){return!!("code"in e&&typeof e.code=="number"&&(e.code===yt.code||e.code===We.code||je.nodeMessage.test(e.message)||e.code===5e3))}function dp({chain:e,interval:t=4e3,onTransports:n,ping:r,sampleCount:s=10,timeout:a=1e3,transports:o,weights:i={}}){const{stability:c=.7,latency:u=.3}=i,f=[],l=async()=>{const d=await Promise.all(o.map(async b=>{const y=b({chain:e,retryCount:0,timeout:a}),w=Date.now();let A,x;try{await(r?r({transport:y}):y.request({method:"net_listening"})),x=1}catch{x=0}finally{A=Date.now()}return{latency:A-w,success:x}}));f.push(d),f.length>s&&f.shift();const p=Math.max(...f.map(b=>Math.max(...b.map(({latency:y})=>y)))),m=o.map((b,y)=>{const w=f.map(v=>v[y].latency),x=1-w.reduce((v,P)=>v+P,0)/w.length/p,h=f.map(v=>v[y].success),E=h.reduce((v,P)=>v+P,0)/h.length;return E===0?[0,y]:[u*x+c*E,y]}).sort((b,y)=>y[0]-b[0]);n(m.map(([,b])=>o[b])),await kn(t),l()};l()}class lp extends g{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}}function D1(e,t={}){const{batch:n,fetchFn:r,fetchOptions:s,key:a="http",methods:o,name:i="HTTP JSON-RPC",onFetchRequest:c,onFetchResponse:u,retryDelay:f,raw:l}=t;return({chain:d,retryCount:p,timeout:m})=>{const{batchSize:b=1e3,wait:y=0}=typeof n=="object"?n:{},w=t.retryCount??p,A=m??t.timeout??1e4,x=e||d?.rpcUrls.default.http[0];if(!x)throw new lp;const h=Dd(x,{fetchFn:r,fetchOptions:s,onRequest:c,onResponse:u,timeout:A});return va({key:a,methods:o,name:i,async request({method:E,params:v}){const P={method:E,params:v},{schedule:O}=di({id:x,wait:y,shouldSplitBatch(k){return k.length>b},fn:k=>h.request({body:k}),sort:(k,M)=>k.id-M.id}),F=async k=>n?O(k):[await h.request({body:k})],[{error:S,result:C}]=await F(P);if(l)return{error:S,result:C};if(S)throw new Js({body:P,error:S,url:x});return C},retryCount:w,retryDelay:f,timeout:A,type:"http"},{fetchOptions:s,url:x})}}function j1(e){const{r:t,s:n}=xa.Signature.fromCompact(e.slice(2,130)),r=+`0x${e.slice(130)}`,[s,a]=(()=>{if(r===0||r===1)return[void 0,r];if(r===27)return[BigInt(r),0];if(r===28)return[BigInt(r),1];throw new Error("Invalid yParityOrV value")})();return typeof s<"u"?{r:T(t,{size:32}),s:T(n,{size:32}),v:s,yParity:a}:{r:T(t,{size:32}),s:T(n,{size:32}),yParity:a}}function pp(e){const{children:t,config:n,initialState:r,reconnectOnMount:s=!0}=e,{onMount:a}=qc(n,{initialState:r,reconnectOnMount:s});n._internal.ssr||a();const o=se.useRef(!0);return se.useEffect(()=>{if(o.current&&n._internal.ssr)return a(),()=>{o.current=!1}},[]),t}const mc=se.createContext(void 0);function _1(e){const{children:t,config:n}=e,r={value:n};return se.createElement(pp,e,se.createElement(mc.Provider,r,t))}const bp="2.18.1",mp=()=>`wagmi@${bp}`;let hp=class extends Vc{constructor(){super(...arguments),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiError"})}get docsBaseUrl(){return"https://wagmi.sh/react"}get version(){return mp()}};class yp extends hp{constructor(){super("`useConfig` must be used within `WagmiProvider`.",{docsPath:"/api/WagmiProvider"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiProviderNotFoundError"})}}function Q(e={}){const t=e.config??se.useContext(mc);if(!t)throw new yp;return t}const Fr=e=>typeof e=="object"&&!Array.isArray(e);function gp(e,t,n=t,r=Wc){const s=se.useRef([]),a=Eo.useSyncExternalStoreWithSelector(e,t,n,o=>o,(o,i)=>{if(Fr(o)&&Fr(i)&&s.current.length){for(const c of s.current)if(!r(o[c],i[c]))return!1;return!0}return r(o,i)});return se.useMemo(()=>{if(Fr(a)){const o={...a};let i={};for(const[c,u]of Object.entries(o))i={...i,[c]:{configurable:!1,enumerable:!0,get:()=>(s.current.includes(c)||s.current.push(c),u)}};return Object.defineProperties(o,i),o}return a},[a])}function q1(e={}){const t=Q(e);return gp(n=>Po(t,{onChange:n}),()=>Zc(t))}function V1(e={}){const{onConnect:t,onDisconnect:n}=e,r=Q(e);se.useEffect(()=>Po(r,{onChange(s,a){if((a.status==="reconnecting"||a.status==="connecting"&&a.address===void 0)&&s.status==="connected"){const{address:o,addresses:i,chain:c,chainId:u,connector:f}=s,l=a.status==="reconnecting"||a.status===void 0;t?.({address:o,addresses:i,chain:c,chainId:u,connector:f,isReconnected:l})}else a.status==="connected"&&s.status==="disconnected"&&n?.()}}),[r,t,n])}function ir(e){const t=Kc({...e,queryKeyHashFn:Yc});return t.queryKey=e.queryKey,t}function cr(e={}){const t=Q(e);return se.useSyncExternalStore(n=>Xc(t,{onChange:n}),()=>Aa(t),()=>Aa(t))}function W1(e={}){const{address:t,query:n={}}=e,r=Q(e),s=cr({config:r}),a=Jc(r,{...e,chainId:e.chainId??s}),o=!!(t&&(n.enabled??!0));return ir({...n,...a,enabled:o})}function wp(e={}){const t=Q(e);return se.useSyncExternalStore(n=>Qc(t,{onChange:n}),()=>Ba(t),()=>Ba(t))}function xp(e={}){const t=Q(e);return se.useSyncExternalStore(n=>eu(t,{onChange:n}),()=>$a(t),()=>$a(t))}function Z1(e={}){const{mutation:t}=e,n=Q(e),r=tu(n),{mutate:s,mutateAsync:a,...o}=on({...t,...r});return se.useEffect(()=>n.subscribe(({status:i})=>i,(i,c)=>{c==="connected"&&i==="disconnected"&&o.reset()}),[n,o.reset]),{...o,connect:s,connectAsync:a,connectors:xp({config:n})}}function vp(e={}){const t=Q(e);return se.useSyncExternalStore(n=>nu(t,{onChange:n}),()=>Ia(t),()=>Ia(t))}function K1(e={}){const{mutation:t}=e,n=Q(e),r=ru(n),{mutate:s,mutateAsync:a,...o}=on({...t,...r});return{...o,connectors:vp({config:n}).map(i=>i.connector),disconnect:s,disconnectAsync:a}}function Y1(e={}){const{name:t,query:n={}}=e,r=Q(e),s=cr({config:r}),a=su(r,{...e,chainId:e.chainId??s}),o=!!(t&&(n.enabled??!0));return ir({...n,...a,enabled:o})}function X1(e={}){const{address:t,query:n={}}=e,r=Q(e),s=cr({config:r}),a=au(r,{...e,chainId:e.chainId??s}),o=!!(t&&(n.enabled??!0));return ir({...n,...a,enabled:o})}function J1(e={}){const t=Q(e);return Eo.useSyncExternalStoreWithSelector(n=>ou(t,{onChange:n}),()=>Oa(t,e),()=>Oa(t,e),n=>n,(n,r)=>n?.uid===r?.uid)}function Q1(e={}){const{mutation:t}=e,n=Q(e),r=iu(n),{mutate:s,mutateAsync:a,...o}=on({...t,...r});return{...o,signMessage:s,signMessageAsync:a}}function eb(e={}){const{mutation:t}=e,n=Q(e),r=cu(n),{mutate:s,mutateAsync:a,...o}=on({...t,...r});return{...o,chains:wp({config:n}),switchChain:s,switchChainAsync:a}}function tb(e={}){const{hash:t,query:n={}}=e,r=Q(e),s=cr({config:r}),a=uu(r,{...e,chainId:e.chainId??s}),o=!!(t&&(n.enabled??!0));return ir({...n,...a,enabled:o})}function nb(e={}){const{mutation:t}=e,n=Q(e),r=fu(n),{mutate:s,mutateAsync:a,...o}=on({...t,...r});return{...o,writeContract:s,writeContractAsync:a}}function rb(e){return du(e)}const sb=Li({id:1,name:"Ethereum",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},blockTime:12e3,rpcUrls:{default:{http:["https://eth.merkle.io"]}},blockExplorers:{default:{name:"Etherscan",url:"https://etherscan.io",apiUrl:"https://api.etherscan.io/api"}},contracts:{ensUniversalResolver:{address:"0xeeeeeeee14d718c2b47d9923deab1335e144eeee",blockCreated:23085558},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:14353601}}}),ab=Li({id:11155111,name:"Sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://sepolia.drpc.org"]}},blockExplorers:{default:{name:"Etherscan",url:"https://sepolia.etherscan.io",apiUrl:"https://api-sepolia.etherscan.io/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:751532},ensUniversalResolver:{address:"0xeeeeeeee14d718c2b47d9923deab1335e144eeee",blockCreated:8928790}},testnet:!0}),ob=[{inputs:[{name:"preOpGas",type:"uint256"},{name:"paid",type:"uint256"},{name:"validAfter",type:"uint48"},{name:"validUntil",type:"uint48"},{name:"targetSuccess",type:"bool"},{name:"targetResult",type:"bytes"}],name:"ExecutionResult",type:"error"},{inputs:[{name:"opIndex",type:"uint256"},{name:"reason",type:"string"}],name:"FailedOp",type:"error"},{inputs:[{name:"sender",type:"address"}],name:"SenderAddressResult",type:"error"},{inputs:[{name:"aggregator",type:"address"}],name:"SignatureValidationFailed",type:"error"},{inputs:[{components:[{name:"preOpGas",type:"uint256"},{name:"prefund",type:"uint256"},{name:"sigFailed",type:"bool"},{name:"validAfter",type:"uint48"},{name:"validUntil",type:"uint48"},{name:"paymasterContext",type:"bytes"}],name:"returnInfo",type:"tuple"},{components:[{name:"stake",type:"uint256"},{name:"unstakeDelaySec",type:"uint256"}],name:"senderInfo",type:"tuple"},{components:[{name:"stake",type:"uint256"},{name:"unstakeDelaySec",type:"uint256"}],name:"factoryInfo",type:"tuple"},{components:[{name:"stake",type:"uint256"},{name:"unstakeDelaySec",type:"uint256"}],name:"paymasterInfo",type:"tuple"}],name:"ValidationResult",type:"error"},{inputs:[{components:[{name:"preOpGas",type:"uint256"},{name:"prefund",type:"uint256"},{name:"sigFailed",type:"bool"},{name:"validAfter",type:"uint48"},{name:"validUntil",type:"uint48"},{name:"paymasterContext",type:"bytes"}],name:"returnInfo",type:"tuple"},{components:[{name:"stake",type:"uint256"},{name:"unstakeDelaySec",type:"uint256"}],name:"senderInfo",type:"tuple"},{components:[{name:"stake",type:"uint256"},{name:"unstakeDelaySec",type:"uint256"}],name:"factoryInfo",type:"tuple"},{components:[{name:"stake",type:"uint256"},{name:"unstakeDelaySec",type:"uint256"}],name:"paymasterInfo",type:"tuple"},{components:[{name:"aggregator",type:"address"},{components:[{name:"stake",type:"uint256"},{name:"unstakeDelaySec",type:"uint256"}],name:"stakeInfo",type:"tuple"}],name:"aggregatorInfo",type:"tuple"}],name:"ValidationResultWithAggregation",type:"error"},{anonymous:!1,inputs:[{indexed:!0,name:"userOpHash",type:"bytes32"},{indexed:!0,name:"sender",type:"address"},{indexed:!1,name:"factory",type:"address"},{indexed:!1,name:"paymaster",type:"address"}],name:"AccountDeployed",type:"event"},{anonymous:!1,inputs:[],name:"BeforeExecution",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"account",type:"address"},{indexed:!1,name:"totalDeposit",type:"uint256"}],name:"Deposited",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"aggregator",type:"address"}],name:"SignatureAggregatorChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"account",type:"address"},{indexed:!1,name:"totalStaked",type:"uint256"},{indexed:!1,name:"unstakeDelaySec",type:"uint256"}],name:"StakeLocked",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"account",type:"address"},{indexed:!1,name:"withdrawTime",type:"uint256"}],name:"StakeUnlocked",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"account",type:"address"},{indexed:!1,name:"withdrawAddress",type:"address"},{indexed:!1,name:"amount",type:"uint256"}],name:"StakeWithdrawn",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"userOpHash",type:"bytes32"},{indexed:!0,name:"sender",type:"address"},{indexed:!0,name:"paymaster",type:"address"},{indexed:!1,name:"nonce",type:"uint256"},{indexed:!1,name:"success",type:"bool"},{indexed:!1,name:"actualGasCost",type:"uint256"},{indexed:!1,name:"actualGasUsed",type:"uint256"}],name:"UserOperationEvent",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"userOpHash",type:"bytes32"},{indexed:!0,name:"sender",type:"address"},{indexed:!1,name:"nonce",type:"uint256"},{indexed:!1,name:"revertReason",type:"bytes"}],name:"UserOperationRevertReason",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"account",type:"address"},{indexed:!1,name:"withdrawAddress",type:"address"},{indexed:!1,name:"amount",type:"uint256"}],name:"Withdrawn",type:"event"},{inputs:[],name:"SIG_VALIDATION_FAILED",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"initCode",type:"bytes"},{name:"sender",type:"address"},{name:"paymasterAndData",type:"bytes"}],name:"_validateSenderAndPaymaster",outputs:[],stateMutability:"view",type:"function"},{inputs:[{name:"unstakeDelaySec",type:"uint32"}],name:"addStake",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{name:"account",type:"address"}],name:"balanceOf",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"account",type:"address"}],name:"depositTo",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{name:"",type:"address"}],name:"deposits",outputs:[{name:"deposit",type:"uint112"},{name:"staked",type:"bool"},{name:"stake",type:"uint112"},{name:"unstakeDelaySec",type:"uint32"},{name:"withdrawTime",type:"uint48"}],stateMutability:"view",type:"function"},{inputs:[{name:"account",type:"address"}],name:"getDepositInfo",outputs:[{components:[{name:"deposit",type:"uint112"},{name:"staked",type:"bool"},{name:"stake",type:"uint112"},{name:"unstakeDelaySec",type:"uint32"},{name:"withdrawTime",type:"uint48"}],name:"info",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{name:"sender",type:"address"},{name:"key",type:"uint192"}],name:"getNonce",outputs:[{name:"nonce",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"initCode",type:"bytes"}],name:"getSenderAddress",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{name:"sender",type:"address"},{name:"nonce",type:"uint256"},{name:"initCode",type:"bytes"},{name:"callData",type:"bytes"},{name:"callGasLimit",type:"uint256"},{name:"verificationGasLimit",type:"uint256"},{name:"preVerificationGas",type:"uint256"},{name:"maxFeePerGas",type:"uint256"},{name:"maxPriorityFeePerGas",type:"uint256"},{name:"paymasterAndData",type:"bytes"},{name:"signature",type:"bytes"}],name:"userOp",type:"tuple"}],name:"getUserOpHash",outputs:[{name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{components:[{components:[{name:"sender",type:"address"},{name:"nonce",type:"uint256"},{name:"initCode",type:"bytes"},{name:"callData",type:"bytes"},{name:"callGasLimit",type:"uint256"},{name:"verificationGasLimit",type:"uint256"},{name:"preVerificationGas",type:"uint256"},{name:"maxFeePerGas",type:"uint256"},{name:"maxPriorityFeePerGas",type:"uint256"},{name:"paymasterAndData",type:"bytes"},{name:"signature",type:"bytes"}],name:"userOps",type:"tuple[]"},{name:"aggregator",type:"address"},{name:"signature",type:"bytes"}],name:"opsPerAggregator",type:"tuple[]"},{name:"beneficiary",type:"address"}],name:"handleAggregatedOps",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{name:"sender",type:"address"},{name:"nonce",type:"uint256"},{name:"initCode",type:"bytes"},{name:"callData",type:"bytes"},{name:"callGasLimit",type:"uint256"},{name:"verificationGasLimit",type:"uint256"},{name:"preVerificationGas",type:"uint256"},{name:"maxFeePerGas",type:"uint256"},{name:"maxPriorityFeePerGas",type:"uint256"},{name:"paymasterAndData",type:"bytes"},{name:"signature",type:"bytes"}],name:"ops",type:"tuple[]"},{name:"beneficiary",type:"address"}],name:"handleOps",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"key",type:"uint192"}],name:"incrementNonce",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"callData",type:"bytes"},{components:[{components:[{name:"sender",type:"address"},{name:"nonce",type:"uint256"},{name:"callGasLimit",type:"uint256"},{name:"verificationGasLimit",type:"uint256"},{name:"preVerificationGas",type:"uint256"},{name:"paymaster",type:"address"},{name:"maxFeePerGas",type:"uint256"},{name:"maxPriorityFeePerGas",type:"uint256"}],name:"mUserOp",type:"tuple"},{name:"userOpHash",type:"bytes32"},{name:"prefund",type:"uint256"},{name:"contextOffset",type:"uint256"},{name:"preOpGas",type:"uint256"}],name:"opInfo",type:"tuple"},{name:"context",type:"bytes"}],name:"innerHandleOp",outputs:[{name:"actualGasCost",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"",type:"address"},{name:"",type:"uint192"}],name:"nonceSequenceNumber",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{components:[{name:"sender",type:"address"},{name:"nonce",type:"uint256"},{name:"initCode",type:"bytes"},{name:"callData",type:"bytes"},{name:"callGasLimit",type:"uint256"},{name:"verificationGasLimit",type:"uint256"},{name:"preVerificationGas",type:"uint256"},{name:"maxFeePerGas",type:"uint256"},{name:"maxPriorityFeePerGas",type:"uint256"},{name:"paymasterAndData",type:"bytes"},{name:"signature",type:"bytes"}],name:"op",type:"tuple"},{name:"target",type:"address"},{name:"targetCallData",type:"bytes"}],name:"simulateHandleOp",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{name:"sender",type:"address"},{name:"nonce",type:"uint256"},{name:"initCode",type:"bytes"},{name:"callData",type:"bytes"},{name:"callGasLimit",type:"uint256"},{name:"verificationGasLimit",type:"uint256"},{name:"preVerificationGas",type:"uint256"},{name:"maxFeePerGas",type:"uint256"},{name:"maxPriorityFeePerGas",type:"uint256"},{name:"paymasterAndData",type:"bytes"},{name:"signature",type:"bytes"}],name:"userOp",type:"tuple"}],name:"simulateValidation",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"unlockStake",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"withdrawAddress",type:"address"}],name:"withdrawStake",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"withdrawAddress",type:"address"},{name:"withdrawAmount",type:"uint256"}],name:"withdrawTo",outputs:[],stateMutability:"nonpayable",type:"function"},{stateMutability:"payable",type:"receive"}];function hc(e){const{authorization:t,factory:n,factoryData:r}=e;if(n==="0x7702"||n==="0x7702000000000000000000000000000000000000"){if(!t)return"0x7702000000000000000000000000000000000000";const s=t.address;return K([s,r??"0x"])}return n?K([n,r??"0x"]):"0x"}function yc(e){const{callGasLimit:t,callData:n,maxPriorityFeePerGas:r,maxFeePerGas:s,paymaster:a,paymasterData:o,paymasterPostOpGasLimit:i,paymasterVerificationGasLimit:c,sender:u,signature:f="0x",verificationGasLimit:l}=e,d=K([Z(T(l||0n),{size:16}),Z(T(t||0n),{size:16})]),p=hc(e),m=K([Z(T(r||0n),{size:16}),Z(T(s||0n),{size:16})]),b=e.nonce??0n,y=a?K([a,Z(T(c||0n),{size:16}),Z(T(i||0n),{size:16}),o||"0x"]):"0x",w=e.preVerificationGas??0n;return{accountGasLimits:d,callData:n,initCode:p,gasFees:m,nonce:b,paymasterAndData:y,preVerificationGas:w,sender:u,signature:f}}const Ep={PackedUserOperation:[{type:"address",name:"sender"},{type:"uint256",name:"nonce"},{type:"bytes",name:"initCode"},{type:"bytes",name:"callData"},{type:"bytes32",name:"accountGasLimits"},{type:"uint256",name:"preVerificationGas"},{type:"bytes32",name:"gasFees"},{type:"bytes",name:"paymasterAndData"}]};function Pp(e){const{chainId:t,entryPointAddress:n,userOperation:r}=e,s=yc(r);return{types:Ep,primaryType:"PackedUserOperation",domain:{name:"ERC4337",version:"1",chainId:t,verifyingContract:n},message:s}}function ib(e){const{chainId:t,entryPointAddress:n,entryPointVersion:r}=e,s=e.userOperation,{authorization:a,callData:o="0x",callGasLimit:i,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:f,paymasterAndData:l="0x",preVerificationGas:d,sender:p,verificationGasLimit:m}=s;if(r==="0.8")return ji(Pp({chainId:t,entryPointAddress:n,userOperation:s}));const b=(()=>{if(r==="0.6"){const y=s.initCode?.slice(0,42),w=s.initCode?.slice(42),A=hc({authorization:a,factory:y,factoryData:w});return de([{type:"address"},{type:"uint256"},{type:"bytes32"},{type:"bytes32"},{type:"uint256"},{type:"uint256"},{type:"uint256"},{type:"uint256"},{type:"uint256"},{type:"bytes32"}],[p,f,j(A),j(o),i,m,d,c,u,j(l)])}if(r==="0.7"){const y=yc(s);return de([{type:"address"},{type:"uint256"},{type:"bytes32"},{type:"bytes32"},{type:"bytes32"},{type:"uint256"},{type:"bytes32"},{type:"bytes32"}],[y.sender,y.nonce,j(y.initCode),j(y.callData),y.accountGasLimits,y.preVerificationGas,y.gasFees,j(y.paymasterAndData)])}throw new Error(`entryPointVersion "${r}" not supported.`)})();return j(de([{type:"bytes32"},{type:"address"},{type:"uint256"}],[j(b),n,BigInt(t)]))}async function cb(e){const{extend:t,nonceKeyManager:n=zd({source:{get(){return Date.now()},set(){}}}),...r}=e;let s=!1;const a=await e.getAddress();return{...t,...r,address:a,async getFactoryArgs(){return"isDeployed"in this&&await this.isDeployed()?{factory:void 0,factoryData:void 0}:e.getFactoryArgs()},async getNonce(o){const i=o?.key??BigInt(await n.consume({address:a,chainId:e.client.chain.id,client:e.client}));return e.getNonce?await e.getNonce({...o,key:i}):await pe(e.client,{abi:zs(["function getNonce(address, uint192) pure returns (uint256)"]),address:e.entryPoint.address,functionName:"getNonce",args:[a,i]})},async isDeployed(){return s?!0:(s=!!await N(e.client,Cn,"getCode")({address:a}),s)},...e.sign?{async sign(o){const[{factory:i,factoryData:c},u]=await Promise.all([this.getFactoryArgs(),e.sign(o)]);return i&&c?Er({address:i,data:c,signature:u}):u}}:{},async signMessage(o){const[{factory:i,factoryData:c},u]=await Promise.all([this.getFactoryArgs(),e.signMessage(o)]);return i&&c&&i!=="0x7702"?Er({address:i,data:c,signature:u}):u},async signTypedData(o){const[{factory:i,factoryData:c},u]=await Promise.all([this.getFactoryArgs(),e.signTypedData(o)]);return i&&c&&i!=="0x7702"?Er({address:i,data:c,signature:u}):u},type:"smart"}}class us extends g{constructor({cause:t}){super("Smart Account is not deployed.",{cause:t,metaMessages:["This could arise when:","- No `factory`/`factoryData` or `initCode` properties are provided for Smart Account deployment.","- An incorrect `sender` address is provided."],name:"AccountNotDeployedError"})}}Object.defineProperty(us,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa20/});class wt extends g{constructor({cause:t,data:n,message:r}={}){const s=r?.replace("execution reverted: ","")?.replace("execution reverted","");super(`Execution reverted ${s?`with reason: ${s}`:"for an unknown reason"}.`,{cause:t,name:"ExecutionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=n}}Object.defineProperty(wt,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32521});Object.defineProperty(wt,"message",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});class fs extends g{constructor({cause:t}){super("Failed to send funds to beneficiary.",{cause:t,name:"FailedToSendToBeneficiaryError"})}}Object.defineProperty(fs,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa91/});class ds extends g{constructor({cause:t}){super("Gas value overflowed.",{cause:t,metaMessages:["This could arise when:","- one of the gas values exceeded 2**120 (uint120)"].filter(Boolean),name:"GasValuesOverflowError"})}}Object.defineProperty(ds,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa94/});class ls extends g{constructor({cause:t}){super("The `handleOps` function was called by the Bundler with a gas limit too low.",{cause:t,name:"HandleOpsOutOfGasError"})}}Object.defineProperty(ls,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa95/});class ps extends g{constructor({cause:t,factory:n,factoryData:r,initCode:s}){super("Failed to simulate deployment for Smart Account.",{cause:t,metaMessages:["This could arise when:","- Invalid `factory`/`factoryData` or `initCode` properties are present","- Smart Account deployment execution ran out of gas (low `verificationGasLimit` value)",`- Smart Account deployment execution reverted with an error
`,n&&`factory: ${n}`,r&&`factoryData: ${r}`,s&&`initCode: ${s}`].filter(Boolean),name:"InitCodeFailedError"})}}Object.defineProperty(ps,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa13/});class bs extends g{constructor({cause:t,factory:n,factoryData:r,initCode:s}){super("Smart Account initialization implementation did not create an account.",{cause:t,metaMessages:["This could arise when:","- `factory`/`factoryData` or `initCode` properties are invalid",`- Smart Account initialization implementation is incorrect
`,n&&`factory: ${n}`,r&&`factoryData: ${r}`,s&&`initCode: ${s}`].filter(Boolean),name:"InitCodeMustCreateSenderError"})}}Object.defineProperty(bs,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa15/});class ms extends g{constructor({cause:t,factory:n,factoryData:r,initCode:s,sender:a}){super("Smart Account initialization implementation does not return the expected sender.",{cause:t,metaMessages:["This could arise when:",`Smart Account initialization implementation does not return a sender address
`,n&&`factory: ${n}`,r&&`factoryData: ${r}`,s&&`initCode: ${s}`,a&&`sender: ${a}`].filter(Boolean),name:"InitCodeMustReturnSenderError"})}}Object.defineProperty(ms,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa14/});class hs extends g{constructor({cause:t}){super("Smart Account does not have sufficient funds to execute the User Operation.",{cause:t,metaMessages:["This could arise when:","- the Smart Account does not have sufficient funds to cover the required prefund, or","- a Paymaster was not provided"].filter(Boolean),name:"InsufficientPrefundError"})}}Object.defineProperty(hs,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa21/});class ys extends g{constructor({cause:t}){super("Bundler attempted to call an invalid function on the EntryPoint.",{cause:t,name:"InternalCallOnlyError"})}}Object.defineProperty(ys,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa92/});class gs extends g{constructor({cause:t}){super("Bundler used an invalid aggregator for handling aggregated User Operations.",{cause:t,name:"InvalidAggregatorError"})}}Object.defineProperty(gs,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa96/});class ws extends g{constructor({cause:t,nonce:n}){super("Invalid Smart Account nonce used for User Operation.",{cause:t,metaMessages:[n&&`nonce: ${n}`].filter(Boolean),name:"InvalidAccountNonceError"})}}Object.defineProperty(ws,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa25/});class xs extends g{constructor({cause:t}){super("Bundler has not set a beneficiary address.",{cause:t,name:"InvalidBeneficiaryError"})}}Object.defineProperty(xs,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa90/});class Gn extends g{constructor({cause:t}){super("Invalid fields set on User Operation.",{cause:t,name:"InvalidFieldsError"})}}Object.defineProperty(Gn,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class vs extends g{constructor({cause:t,paymasterAndData:n}){super("Paymaster properties provided are invalid.",{cause:t,metaMessages:["This could arise when:","- the `paymasterAndData` property is of an incorrect length\n",n&&`paymasterAndData: ${n}`].filter(Boolean),name:"InvalidPaymasterAndDataError"})}}Object.defineProperty(vs,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa93/});class He extends g{constructor({cause:t}){super("Paymaster deposit for the User Operation is too low.",{cause:t,metaMessages:["This could arise when:","- the Paymaster has deposited less than the expected amount via the `deposit` function"].filter(Boolean),name:"PaymasterDepositTooLowError"})}}Object.defineProperty(He,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32508});Object.defineProperty(He,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa31/});class Es extends g{constructor({cause:t}){super("The `validatePaymasterUserOp` function on the Paymaster reverted.",{cause:t,name:"PaymasterFunctionRevertedError"})}}Object.defineProperty(Es,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa33/});class Ps extends g{constructor({cause:t}){super("The Paymaster contract has not been deployed.",{cause:t,name:"PaymasterNotDeployedError"})}}Object.defineProperty(Ps,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa30/});class Mn extends g{constructor({cause:t}){super("UserOperation rejected because paymaster (or signature aggregator) is throttled/banned.",{cause:t,name:"PaymasterRateLimitError"})}}Object.defineProperty(Mn,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32504});class zn extends g{constructor({cause:t}){super("UserOperation rejected because paymaster (or signature aggregator) is throttled/banned.",{cause:t,name:"PaymasterStakeTooLowError"})}}Object.defineProperty(zn,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32505});class As extends g{constructor({cause:t}){super("Paymaster `postOp` function reverted.",{cause:t,name:"PaymasterPostOpFunctionRevertedError"})}}Object.defineProperty(As,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa50/});class Bs extends g{constructor({cause:t,factory:n,factoryData:r,initCode:s}){super("Smart Account has already been deployed.",{cause:t,metaMessages:["Remove the following properties and try again:",n&&"`factory`",r&&"`factoryData`",s&&"`initCode`"].filter(Boolean),name:"SenderAlreadyConstructedError"})}}Object.defineProperty(Bs,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa10/});class Ln extends g{constructor({cause:t}){super("UserOperation rejected because account signature check failed (or paymaster signature, if the paymaster uses its data as signature).",{cause:t,name:"SignatureCheckFailedError"})}}Object.defineProperty(Ln,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32507});class $s extends g{constructor({cause:t}){super("The `validateUserOp` function on the Smart Account reverted.",{cause:t,name:"SmartAccountFunctionRevertedError"})}}Object.defineProperty($s,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa23/});class Un extends g{constructor({cause:t}){super("UserOperation rejected because account specified unsupported signature aggregator.",{cause:t,name:"UnsupportedSignatureAggregatorError"})}}Object.defineProperty(Un,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32506});class Is extends g{constructor({cause:t}){super("User Operation expired.",{cause:t,metaMessages:["This could arise when:","- the `validAfter` or `validUntil` values returned from `validateUserOp` on the Smart Account are not satisfied"].filter(Boolean),name:"UserOperationExpiredError"})}}Object.defineProperty(Is,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa22/});class Os extends g{constructor({cause:t}){super("Paymaster for User Operation expired.",{cause:t,metaMessages:["This could arise when:","- the `validAfter` or `validUntil` values returned from `validatePaymasterUserOp` on the Paymaster are not satisfied"].filter(Boolean),name:"UserOperationPaymasterExpiredError"})}}Object.defineProperty(Os,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa32/});class Ts extends g{constructor({cause:t}){super("Signature provided for the User Operation is invalid.",{cause:t,metaMessages:["This could arise when:","- the `signature` for the User Operation is incorrectly computed, and unable to be verified by the Smart Account"].filter(Boolean),name:"UserOperationSignatureError"})}}Object.defineProperty(Ts,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa24/});class Ss extends g{constructor({cause:t}){super("Signature provided for the User Operation is invalid.",{cause:t,metaMessages:["This could arise when:","- the `signature` for the User Operation is incorrectly computed, and unable to be verified by the Paymaster"].filter(Boolean),name:"UserOperationPaymasterSignatureError"})}}Object.defineProperty(Ss,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa34/});class Dn extends g{constructor({cause:t}){super("User Operation rejected by EntryPoint's `simulateValidation` during account creation or validation.",{cause:t,name:"UserOperationRejectedByEntryPointError"})}}Object.defineProperty(Dn,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32500});class jn extends g{constructor({cause:t}){super("User Operation rejected by Paymaster's `validatePaymasterUserOp`.",{cause:t,name:"UserOperationRejectedByPaymasterError"})}}Object.defineProperty(jn,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32501});class _n extends g{constructor({cause:t}){super("User Operation rejected with op code validation error.",{cause:t,name:"UserOperationRejectedByOpCodeError"})}}Object.defineProperty(_n,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32502});class Hn extends g{constructor({cause:t}){super("UserOperation out of time-range: either wallet or paymaster returned a time-range, and it is already expired (or will expire soon).",{cause:t,name:"UserOperationOutOfTimeRangeError"})}}Object.defineProperty(Hn,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32503});class Ap extends g{constructor({cause:t}){super(`An error occurred while executing user operation: ${t?.shortMessage}`,{cause:t,name:"UnknownBundlerError"})}}class Cs extends g{constructor({cause:t}){super("User Operation verification gas limit exceeded.",{cause:t,metaMessages:["This could arise when:","- the gas used for verification exceeded the `verificationGasLimit`"].filter(Boolean),name:"VerificationGasLimitExceededError"})}}Object.defineProperty(Cs,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa40/});class ks extends g{constructor({cause:t}){super("User Operation verification gas limit is too low.",{cause:t,metaMessages:["This could arise when:","- the `verificationGasLimit` is too low to verify the User Operation"].filter(Boolean),name:"VerificationGasLimitTooLowError"})}}Object.defineProperty(ks,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa41/});class Bp extends g{constructor(t,{callData:n,callGasLimit:r,docsPath:s,factory:a,factoryData:o,initCode:i,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:f,paymaster:l,paymasterAndData:d,paymasterData:p,paymasterPostOpGasLimit:m,paymasterVerificationGasLimit:b,preVerificationGas:y,sender:w,signature:A,verificationGasLimit:x}){const h=Et({callData:n,callGasLimit:r,factory:a,factoryData:o,initCode:i,maxFeePerGas:typeof c<"u"&&`${X(c)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${X(u)} gwei`,nonce:f,paymaster:l,paymasterAndData:d,paymasterData:p,paymasterPostOpGasLimit:m,paymasterVerificationGasLimit:b,preVerificationGas:y,sender:w,signature:A,verificationGasLimit:x});super(t.shortMessage,{cause:t,docsPath:s,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Request Arguments:",h].filter(Boolean),name:"UserOperationExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}}class $p extends g{constructor({hash:t}){super(`User Operation receipt with hash "${t}" could not be found. The User Operation may not have been processed yet.`,{name:"UserOperationReceiptNotFoundError"})}}class Ip extends g{constructor({hash:t}){super(`User Operation with hash "${t}" could not be found.`,{name:"UserOperationNotFoundError"})}}class bo extends g{constructor({hash:t}){super(`Timed out while waiting for User Operation with hash "${t}" to be confirmed.`,{name:"WaitForUserOperationReceiptTimeoutError"})}}const Op=[wt,Gn,He,Mn,zn,Ln,Un,Hn,Dn,jn,_n];function Tp(e,t){const n=(e.details||"").toLowerCase();if(us.message.test(n))return new us({cause:e});if(fs.message.test(n))return new fs({cause:e});if(ds.message.test(n))return new ds({cause:e});if(ls.message.test(n))return new ls({cause:e});if(ps.message.test(n))return new ps({cause:e,factory:t.factory,factoryData:t.factoryData,initCode:t.initCode});if(bs.message.test(n))return new bs({cause:e,factory:t.factory,factoryData:t.factoryData,initCode:t.initCode});if(ms.message.test(n))return new ms({cause:e,factory:t.factory,factoryData:t.factoryData,initCode:t.initCode,sender:t.sender});if(hs.message.test(n))return new hs({cause:e});if(ys.message.test(n))return new ys({cause:e});if(ws.message.test(n))return new ws({cause:e,nonce:t.nonce});if(gs.message.test(n))return new gs({cause:e});if(xs.message.test(n))return new xs({cause:e});if(vs.message.test(n))return new vs({cause:e});if(He.message.test(n))return new He({cause:e});if(Es.message.test(n))return new Es({cause:e});if(Ps.message.test(n))return new Ps({cause:e});if(As.message.test(n))return new As({cause:e});if($s.message.test(n))return new $s({cause:e});if(Bs.message.test(n))return new Bs({cause:e,factory:t.factory,factoryData:t.factoryData,initCode:t.initCode});if(Is.message.test(n))return new Is({cause:e});if(Os.message.test(n))return new Os({cause:e});if(Ss.message.test(n))return new Ss({cause:e});if(Ts.message.test(n))return new Ts({cause:e});if(Cs.message.test(n))return new Cs({cause:e});if(ks.message.test(n))return new ks({cause:e});const r=e.walk(s=>Op.some(a=>a.code===s.code));if(r){if(r.code===wt.code)return new wt({cause:e,data:r.data,message:r.details});if(r.code===Gn.code)return new Gn({cause:e});if(r.code===He.code)return new He({cause:e});if(r.code===Mn.code)return new Mn({cause:e});if(r.code===zn.code)return new zn({cause:e});if(r.code===Ln.code)return new Ln({cause:e});if(r.code===Un.code)return new Un({cause:e});if(r.code===Hn.code)return new Hn({cause:e});if(r.code===Dn.code)return new Dn({cause:e});if(r.code===jn.code)return new jn({cause:e});if(r.code===_n.code)return new _n({cause:e})}return new Ap({cause:e})}function gc(e,{calls:t,docsPath:n,...r}){const s=(()=>{const a=Tp(e,r);if(t&&a instanceof wt){const o=Sp(a),i=t?.filter(c=>c.abi);if(o&&i.length>0)return Cp({calls:i,revertData:o})}return a})();return new Bp(s,{docsPath:n,...r})}function Sp(e){let t;return e.walk(n=>{const r=n;if(typeof r.data=="string"||typeof r.data?.revertData=="string"||!(r instanceof g)&&typeof r.message=="string"){const s=(r.data?.revertData||r.data||r.message).match?.(/(0x[A-Za-z0-9]*)/);if(s)return t=s[1],!0}return!1}),t}function Cp(e){const{calls:t,revertData:n}=e,{abi:r,functionName:s,args:a,to:o}=(()=>{const c=t?.filter(f=>!!f.abi);if(c.length===1)return c[0];const u=c.filter(f=>{try{return!!Ws({abi:f.abi,data:n})}catch{return!1}});return u.length===1?u[0]:{abi:[],functionName:c.reduce((f,l)=>`${f?`${f} | `:""}${l.functionName}`,""),args:void 0,to:void 0}})(),i=n==="0x"?new oi({functionName:s}):new On({abi:r,data:n,functionName:s});return new Ks(i,{abi:r,args:a,contractAddress:o,functionName:s})}function kp(e){const t={};return e.callGasLimit&&(t.callGasLimit=BigInt(e.callGasLimit)),e.preVerificationGas&&(t.preVerificationGas=BigInt(e.preVerificationGas)),e.verificationGasLimit&&(t.verificationGasLimit=BigInt(e.verificationGasLimit)),e.paymasterPostOpGasLimit&&(t.paymasterPostOpGasLimit=BigInt(e.paymasterPostOpGasLimit)),e.paymasterVerificationGasLimit&&(t.paymasterVerificationGasLimit=BigInt(e.paymasterVerificationGasLimit)),t}function ur(e){const t={};return typeof e.callData<"u"&&(t.callData=e.callData),typeof e.callGasLimit<"u"&&(t.callGasLimit=T(e.callGasLimit)),typeof e.factory<"u"&&(t.factory=e.factory),typeof e.factoryData<"u"&&(t.factoryData=e.factoryData),typeof e.initCode<"u"&&(t.initCode=e.initCode),typeof e.maxFeePerGas<"u"&&(t.maxFeePerGas=T(e.maxFeePerGas)),typeof e.maxPriorityFeePerGas<"u"&&(t.maxPriorityFeePerGas=T(e.maxPriorityFeePerGas)),typeof e.nonce<"u"&&(t.nonce=T(e.nonce)),typeof e.paymaster<"u"&&(t.paymaster=e.paymaster),typeof e.paymasterAndData<"u"&&(t.paymasterAndData=e.paymasterAndData||"0x"),typeof e.paymasterData<"u"&&(t.paymasterData=e.paymasterData),typeof e.paymasterPostOpGasLimit<"u"&&(t.paymasterPostOpGasLimit=T(e.paymasterPostOpGasLimit)),typeof e.paymasterVerificationGasLimit<"u"&&(t.paymasterVerificationGasLimit=T(e.paymasterVerificationGasLimit)),typeof e.preVerificationGas<"u"&&(t.preVerificationGas=T(e.preVerificationGas)),typeof e.sender<"u"&&(t.sender=e.sender),typeof e.signature<"u"&&(t.signature=e.signature),typeof e.verificationGasLimit<"u"&&(t.verificationGasLimit=T(e.verificationGasLimit)),typeof e.authorization<"u"&&(t.eip7702Auth=Np(e.authorization)),t}function Np(e){return{address:e.address,chainId:T(e.chainId),nonce:T(e.nonce),r:e.r?T(BigInt(e.r),{size:32}):Z("0x",{size:32}),s:e.s?T(BigInt(e.s),{size:32}):Z("0x",{size:32}),yParity:e.yParity?T(e.yParity,{size:1}):Z("0x",{size:32})}}async function Fp(e,t){const{chainId:n,entryPointAddress:r,context:s,...a}=t,o=ur(a),{paymasterPostOpGasLimit:i,paymasterVerificationGasLimit:c,...u}=await e.request({method:"pm_getPaymasterData",params:[{...o,callGasLimit:o.callGasLimit??"0x0",verificationGasLimit:o.verificationGasLimit??"0x0",preVerificationGas:o.preVerificationGas??"0x0"},r,T(n),s]});return{...u,...i&&{paymasterPostOpGasLimit:J(i)},...c&&{paymasterVerificationGasLimit:J(c)}}}async function Rp(e,t){const{chainId:n,entryPointAddress:r,context:s,...a}=t,o=ur(a),{paymasterPostOpGasLimit:i,paymasterVerificationGasLimit:c,...u}=await e.request({method:"pm_getPaymasterStubData",params:[{...o,callGasLimit:o.callGasLimit??"0x0",verificationGasLimit:o.verificationGasLimit??"0x0",preVerificationGas:o.preVerificationGas??"0x0"},r,T(n),s]});return{...u,...i&&{paymasterPostOpGasLimit:J(i)},...c&&{paymasterVerificationGasLimit:J(c)}}}const Gp=["factory","fees","gas","paymaster","nonce","signature","authorization"];async function Ea(e,t){const n=t,{account:r=e.account,parameters:s=Gp,stateOverride:a}=n;if(!r)throw new at;const o=V(r),i=e,c=n.paymaster??i?.paymaster,u=typeof c=="string"?c:void 0,{getPaymasterStubData:f,getPaymasterData:l}=(()=>{if(c===!0)return{getPaymasterStubData:v=>N(i,Rp,"getPaymasterStubData")(v),getPaymasterData:v=>N(i,Fp,"getPaymasterData")(v)};if(typeof c=="object"){const{getPaymasterStubData:v,getPaymasterData:P}=c;return{getPaymasterStubData:P&&v?v:P,getPaymasterData:P&&v?P:void 0}}return{getPaymasterStubData:void 0,getPaymasterData:void 0}})(),d=n.paymasterContext?n.paymasterContext:i?.paymasterContext;let p={...n,paymaster:u,sender:o.address};const[m,b,y,w,A]=await Promise.all([(async()=>n.calls?o.encodeCalls(n.calls.map(v=>{const P=v;return P.abi?{data:ie(P),to:P.to,value:P.value}:P})):n.callData)(),(async()=>{if(!s.includes("factory"))return;if(n.initCode)return{initCode:n.initCode};if(n.factory&&n.factoryData)return{factory:n.factory,factoryData:n.factoryData};const{factory:v,factoryData:P}=await o.getFactoryArgs();return o.entryPoint.version==="0.6"?{initCode:v&&P?K([v,P]):void 0}:{factory:v,factoryData:P}})(),(async()=>{if(s.includes("fees")){if(typeof n.maxFeePerGas=="bigint"&&typeof n.maxPriorityFeePerGas=="bigint")return p;if(i?.userOperation?.estimateFeesPerGas){const v=await i.userOperation.estimateFeesPerGas({account:o,bundlerClient:i,userOperation:p});return{...p,...v}}try{const v=i.client??e,P=await N(v,Oi,"estimateFeesPerGas")({chain:v.chain,type:"eip1559"});return{maxFeePerGas:typeof n.maxFeePerGas=="bigint"?n.maxFeePerGas:BigInt(2n*P.maxFeePerGas),maxPriorityFeePerGas:typeof n.maxPriorityFeePerGas=="bigint"?n.maxPriorityFeePerGas:BigInt(2n*P.maxPriorityFeePerGas)}}catch{return}}})(),(async()=>{if(s.includes("nonce"))return typeof n.nonce=="bigint"?n.nonce:o.getNonce()})(),(async()=>{if(s.includes("authorization")){if(typeof n.authorization=="object")return n.authorization;if(o.authorization&&!await o.isDeployed())return{...await ep(o.client,o.authorization),r:"0xfffffffffffffffffffffffffffffff000000000000000000000000000000000",s:"0x7aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa",yParity:1}}})()]);typeof m<"u"&&(p.callData=m),typeof b<"u"&&(p={...p,...b}),typeof y<"u"&&(p={...p,...y}),typeof w<"u"&&(p.nonce=w),typeof A<"u"&&(p.authorization=A),s.includes("signature")&&(typeof n.signature<"u"?p.signature=n.signature:p.signature=await o.getStubSignature(p)),o.entryPoint.version==="0.6"&&!p.initCode&&(p.initCode="0x");let x;async function h(){return x||(e.chain?e.chain.id:(x=await N(e,At,"getChainId")({}),x))}let E=!1;if(s.includes("paymaster")&&f&&!u&&!n.paymasterAndData){const{isFinal:v=!1,sponsor:P,...O}=await f({chainId:await h(),entryPointAddress:o.entryPoint.address,context:d,...p});E=v,p={...p,...O}}if(o.entryPoint.version==="0.6"&&!p.paymasterAndData&&(p.paymasterAndData="0x"),s.includes("gas")){if(o.userOperation?.estimateGas){const v=await o.userOperation.estimateGas(p);p={...p,...v}}if(typeof p.callGasLimit>"u"||typeof p.preVerificationGas>"u"||typeof p.verificationGasLimit>"u"||p.paymaster&&typeof p.paymasterPostOpGasLimit>"u"||p.paymaster&&typeof p.paymasterVerificationGasLimit>"u"){const v=await N(i,wc,"estimateUserOperationGas")({account:o,callGasLimit:0n,preVerificationGas:0n,verificationGasLimit:0n,stateOverride:a,...p.paymaster?{paymasterPostOpGasLimit:0n,paymasterVerificationGasLimit:0n}:{},...p});p={...p,callGasLimit:p.callGasLimit??v.callGasLimit,preVerificationGas:p.preVerificationGas??v.preVerificationGas,verificationGasLimit:p.verificationGasLimit??v.verificationGasLimit,paymasterPostOpGasLimit:p.paymasterPostOpGasLimit??v.paymasterPostOpGasLimit,paymasterVerificationGasLimit:p.paymasterVerificationGasLimit??v.paymasterVerificationGasLimit}}}if(s.includes("paymaster")&&l&&!u&&!n.paymasterAndData&&!E){const v=await l({chainId:await h(),entryPointAddress:o.entryPoint.address,context:d,...p});p={...p,...v}}return delete p.calls,delete p.parameters,delete p.paymasterContext,typeof p.paymaster!="string"&&delete p.paymaster,p}async function wc(e,t){const{account:n=e.account,entryPointAddress:r,stateOverride:s}=t;if(!n&&!t.sender)throw new at;const a=n?V(n):void 0,o=er(s),i=a?await N(e,Ea,"prepareUserOperation")({...t,parameters:["authorization","factory","nonce","paymaster","signature"]}):t;try{const c=[ur(i),r??a?.entryPoint?.address],u=await e.request({method:"eth_estimateUserOperationGas",params:o?[...c,o]:[...c]});return kp(u)}catch(c){const u=t.calls;throw gc(c,{...i,...u?{calls:u}:{}})}}function Mp(e){return e.request({method:"eth_supportedEntryPoints"})}function zp(e){const t={...e};return e.callGasLimit&&(t.callGasLimit=BigInt(e.callGasLimit)),e.maxFeePerGas&&(t.maxFeePerGas=BigInt(e.maxFeePerGas)),e.maxPriorityFeePerGas&&(t.maxPriorityFeePerGas=BigInt(e.maxPriorityFeePerGas)),e.nonce&&(t.nonce=BigInt(e.nonce)),e.paymasterPostOpGasLimit&&(t.paymasterPostOpGasLimit=BigInt(e.paymasterPostOpGasLimit)),e.paymasterVerificationGasLimit&&(t.paymasterVerificationGasLimit=BigInt(e.paymasterVerificationGasLimit)),e.preVerificationGas&&(t.preVerificationGas=BigInt(e.preVerificationGas)),e.verificationGasLimit&&(t.verificationGasLimit=BigInt(e.verificationGasLimit)),t}async function Lp(e,{hash:t}){const n=await e.request({method:"eth_getUserOperationByHash",params:[t]},{dedupe:!0});if(!n)throw new Ip({hash:t});const{blockHash:r,blockNumber:s,entryPoint:a,transactionHash:o,userOperation:i}=n;return{blockHash:r,blockNumber:BigInt(s),entryPoint:a,transactionHash:o,userOperation:zp(i)}}function Up(e){const t={...e};return e.actualGasCost&&(t.actualGasCost=BigInt(e.actualGasCost)),e.actualGasUsed&&(t.actualGasUsed=BigInt(e.actualGasUsed)),e.logs&&(t.logs=e.logs.map(n=>Ee(n))),e.receipt&&(t.receipt=ba(t.receipt)),t}async function xc(e,{hash:t}){const n=await e.request({method:"eth_getUserOperationReceipt",params:[t]},{dedupe:!0});if(!n)throw new $p({hash:t});return Up(n)}async function Dp(e,t){const{account:n=e.account,entryPointAddress:r}=t;if(!n&&!t.sender)throw new at;const s=n?V(n):void 0,a=s?await N(e,Ea,"prepareUserOperation")(t):t,o=t.signature||await s?.signUserOperation?.(a),i=ur({...a,signature:o});try{return await e.request({method:"eth_sendUserOperation",params:[i,r??s?.entryPoint?.address]},{retryCount:0})}catch(c){const u=t.calls;throw gc(c,{...a,...u?{calls:u}:{},signature:o})}}function jp(e,t){const{hash:n,pollingInterval:r=e.pollingInterval,retryCount:s,timeout:a=12e4}=t;let o=0;const i=H(["waitForUserOperationReceipt",e.uid,n]);return new Promise((c,u)=>{const f=Pe(i,{resolve:c,reject:u},l=>{const d=m=>{p(),m(),f()},p=st(async()=>{s&&o>=s&&d(()=>l.reject(new bo({hash:n})));try{const m=await N(e,xc,"getUserOperationReceipt")({hash:n});d(()=>l.resolve(m))}catch(m){const b=m;b.name!=="UserOperationReceiptNotFoundError"&&d(()=>l.reject(b))}o++},{emitOnBegin:!0,interval:r});return a&&setTimeout(()=>d(()=>l.reject(new bo({hash:n}))),a),p})})}function _p(e){return{estimateUserOperationGas:t=>wc(e,t),getChainId:()=>At(e),getSupportedEntryPoints:()=>Mp(e),getUserOperation:t=>Lp(e,t),getUserOperationReceipt:t=>xc(e,t),prepareUserOperation:t=>Ea(e,t),sendUserOperation:t=>Dp(e,t),waitForUserOperationReceipt:t=>jp(e,t)}}function ub(e){const{client:t,key:n="bundler",name:r="Bundler Client",paymaster:s,paymasterContext:a,transport:o,userOperation:i}=e;return Object.assign(bc({...e,chain:e.chain??t?.chain,key:n,name:r,transport:o,type:"bundlerClient"}),{client:t,paymaster:s,paymasterContext:a,userOperation:i}).extend(_p)}const fb="0x5FF137D4b0FDCD49DcA30c7CF57E578a026d2789";function sn(e,{strict:t=!0}={}){return!e||typeof e!="string"?!1:t?/^0x[0-9a-fA-F]*$/.test(e):e.startsWith("0x")}function mo(e){return sn(e,{strict:!1})?Math.ceil((e.length-2)/2):e.length}const vc="2.23.2";let Rr={getDocsUrl:({docsBaseUrl:e,docsPath:t="",docsSlug:n})=>t?`${e??"https://viem.sh"}${t}${n?`#${n}`:""}`:void 0,version:`viem@${vc}`},fr=class Ns extends Error{constructor(t,n={}){const r=n.cause instanceof Ns?n.cause.details:n.cause?.message?n.cause.message:n.details,s=n.cause instanceof Ns&&n.cause.docsPath||n.docsPath,a=Rr.getDocsUrl?.({...n,docsPath:s}),o=[t||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...a?[`Docs: ${a}`]:[],...r?[`Details: ${r}`]:[],...Rr.version?[`Version: ${Rr.version}`]:[]].join(`
`);super(o,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.name=n.name??this.name,this.shortMessage=t,this.version=vc}walk(t){return Ec(this,t)}};function Ec(e,t){return t?.(e)?e:e&&typeof e=="object"&&"cause"in e&&e.cause!==void 0?Ec(e.cause,t):t?null:e}let Pc=class extends fr{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${t}) exceeds padding size (${n}).`,{name:"SizeExceedsPaddingSizeError"})}};function $t(e,{dir:t,size:n=32}={}){return typeof e=="string"?Hp(e,{dir:t,size:n}):qp(e,{dir:t,size:n})}function Hp(e,{dir:t,size:n=32}={}){if(n===null)return e;const r=e.replace("0x","");if(r.length>n*2)throw new Pc({size:Math.ceil(r.length/2),targetSize:n,type:"hex"});return`0x${r[t==="right"?"padEnd":"padStart"](n*2,"0")}`}function qp(e,{dir:t,size:n=32}={}){if(n===null)return e;if(e.length>n)throw new Pc({size:e.length,targetSize:n,type:"bytes"});const r=new Uint8Array(n);for(let s=0;s<n;s++){const a=t==="right";r[a?s:n-s-1]=e[a?s:e.length-s-1]}return r}let Vp=class extends fr{constructor({max:t,min:n,signed:r,size:s,value:a}){super(`Number "${a}" is not in safe ${s?`${s*8}-bit ${r?"signed":"unsigned"} `:""}integer range ${t?`(${n} to ${t})`:`(above ${n})`}`,{name:"IntegerOutOfRangeError"})}},Wp=class extends fr{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${t} bytes.`,{name:"SizeOverflowError"})}};function It(e,{size:t}){if(mo(e)>t)throw new Wp({givenSize:mo(e),maxSize:t})}function Fs(e,t={}){const{signed:n}=t;t.size&&It(e,{size:t.size});const r=BigInt(e);if(!n)return r;const s=(e.length-2)/2,a=(1n<<BigInt(s)*8n-1n)-1n;return r<=a?r:r-BigInt(`0x${"f".padStart(s*2,"f")}`)-1n}function Zp(e,t={}){return Number(Fs(e,t))}const Kp=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Rs(e,t={}){return typeof e=="number"||typeof e=="bigint"?Bc(e,t):typeof e=="string"?Jp(e,t):typeof e=="boolean"?Yp(e,t):Ac(e,t)}function Yp(e,t={}){const n=`0x${Number(e)}`;return typeof t.size=="number"?(It(n,{size:t.size}),$t(n,{size:t.size})):n}function Ac(e,t={}){let n="";for(let s=0;s<e.length;s++)n+=Kp[e[s]];const r=`0x${n}`;return typeof t.size=="number"?(It(r,{size:t.size}),$t(r,{dir:"right",size:t.size})):r}function Bc(e,t={}){const{signed:n,size:r}=t,s=BigInt(e);let a;r?n?a=(1n<<BigInt(r)*8n-1n)-1n:a=2n**(BigInt(r)*8n)-1n:typeof e=="number"&&(a=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof a=="bigint"&&n?-a-1n:0;if(a&&s>a||s<o){const c=typeof e=="bigint"?"n":"";throw new Vp({max:a?`${a}${c}`:void 0,min:`${o}${c}`,signed:n,size:r,value:`${e}${c}`})}const i=`0x${(n&&s<0?(1n<<BigInt(r*8))+BigInt(s):s).toString(16)}`;return r?$t(i,{size:r}):i}const Xp=new TextEncoder;function Jp(e,t={}){const n=Xp.encode(e);return Ac(n,t)}const Qp=new TextEncoder;function e1(e,t={}){return typeof e=="number"||typeof e=="bigint"?n1(e,t):typeof e=="boolean"?t1(e,t):sn(e)?$c(e,t):Ic(e,t)}function t1(e,t={}){const n=new Uint8Array(1);return n[0]=Number(e),typeof t.size=="number"?(It(n,{size:t.size}),$t(n,{size:t.size})):n}const $e={zero:48,nine:57,A:65,F:70,a:97,f:102};function ho(e){if(e>=$e.zero&&e<=$e.nine)return e-$e.zero;if(e>=$e.A&&e<=$e.F)return e-($e.A-10);if(e>=$e.a&&e<=$e.f)return e-($e.a-10)}function $c(e,t={}){let n=e;t.size&&(It(n,{size:t.size}),n=$t(n,{dir:"right",size:t.size}));let r=n.slice(2);r.length%2&&(r=`0${r}`);const s=r.length/2,a=new Uint8Array(s);for(let o=0,i=0;o<s;o++){const c=ho(r.charCodeAt(i++)),u=ho(r.charCodeAt(i++));if(c===void 0||u===void 0)throw new fr(`Invalid byte sequence ("${r[i-2]}${r[i-1]}" in "${r}").`);a[o]=c*16+u}return a}function n1(e,t){const n=Bc(e,t);return $c(n)}function Ic(e,t={}){const n=Qp.encode(e);return typeof t.size=="number"?(It(n,{size:t.size}),$t(n,{dir:"right",size:t.size})):n}function Oc(e,t){const n=t||"hex",r=lu(sn(e,{strict:!1})?e1(e):e);return n==="bytes"?r:Rs(r)}let r1=class extends Map{constructor(t){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=t}get(t){const n=super.get(t);return super.has(t)&&n!==void 0&&(this.delete(t),super.set(t,n)),n}set(t,n){if(super.set(t,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}};const Gr=new r1(8192);function s1(e,t){if(Gr.has(`${e}.${t}`))return Gr.get(`${e}.${t}`);const n=e.substring(2).toLowerCase(),r=Oc(Ic(n),"bytes"),s=n.split("");for(let o=0;o<40;o+=2)r[o>>1]>>4>=8&&s[o]&&(s[o]=s[o].toUpperCase()),(r[o>>1]&15)>=8&&s[o+1]&&(s[o+1]=s[o+1].toUpperCase());const a=`0x${s.join("")}`;return Gr.set(`${e}.${t}`,a),a}function a1(e){const t=Oc(`0x${e.substring(4)}`).substring(26);return s1(`0x${t}`)}async function o1({hash:e,signature:t}){const n=sn(e)?e:Rs(e),{secp256k1:r}=await qn(async()=>{const{secp256k1:o}=await import("./vendor-utils.B1X3cLdW.js").then(i=>i.ad);return{secp256k1:o}},__vite__mapDeps([0,1,2,3]));return`0x${(()=>{if(typeof t=="object"&&"r"in t&&"s"in t){const{r:u,s:f,v:l,yParity:d}=t,p=Number(d??l),m=yo(p);return new r.Signature(Fs(u),Fs(f)).addRecoveryBit(m)}const o=sn(t)?t:Rs(t),i=Zp(`0x${o.slice(130)}`),c=yo(i);return r.Signature.fromCompact(o.substring(2,130)).addRecoveryBit(c)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}function yo(e){if(e===0||e===1)return e;if(e===27)return 0;if(e===28)return 1;throw new Error("Invalid yParityOrV value")}async function mb({hash:e,signature:t}){return a1(await o1({hash:e,signature:t}))}function an(e,{strict:t=!0}={}){return!e||typeof e!="string"?!1:t?/^0x[0-9a-fA-F]*$/.test(e):e.startsWith("0x")}function go(e){return an(e,{strict:!1})?Math.ceil((e.length-2)/2):e.length}const Tc="2.23.2";let Mr={getDocsUrl:({docsBaseUrl:e,docsPath:t="",docsSlug:n})=>t?`${e??"https://viem.sh"}${t}${n?`#${n}`:""}`:void 0,version:`viem@${Tc}`};class tt extends Error{constructor(t,n={}){const r=n.cause instanceof tt?n.cause.details:n.cause?.message?n.cause.message:n.details,s=n.cause instanceof tt&&n.cause.docsPath||n.docsPath,a=Mr.getDocsUrl?.({...n,docsPath:s}),o=[t||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...a?[`Docs: ${a}`]:[],...r?[`Details: ${r}`]:[],...Mr.version?[`Version: ${Mr.version}`]:[]].join(`
`);super(o,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.name=n.name??this.name,this.shortMessage=t,this.version=Tc}walk(t){return Sc(this,t)}}function Sc(e,t){return t?.(e)?e:e&&typeof e=="object"&&"cause"in e&&e.cause!==void 0?Sc(e.cause,t):t?null:e}class Cc extends tt{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${t}) exceeds padding size (${n}).`,{name:"SizeExceedsPaddingSizeError"})}}function Ot(e,{dir:t,size:n=32}={}){return typeof e=="string"?i1(e,{dir:t,size:n}):c1(e,{dir:t,size:n})}function i1(e,{dir:t,size:n=32}={}){if(n===null)return e;const r=e.replace("0x","");if(r.length>n*2)throw new Cc({size:Math.ceil(r.length/2),targetSize:n,type:"hex"});return`0x${r[t==="right"?"padEnd":"padStart"](n*2,"0")}`}function c1(e,{dir:t,size:n=32}={}){if(n===null)return e;if(e.length>n)throw new Cc({size:e.length,targetSize:n,type:"bytes"});const r=new Uint8Array(n);for(let s=0;s<n;s++){const a=t==="right";r[a?s:n-s-1]=e[a?s:e.length-s-1]}return r}class u1 extends tt{constructor({max:t,min:n,signed:r,size:s,value:a}){super(`Number "${a}" is not in safe ${s?`${s*8}-bit ${r?"signed":"unsigned"} `:""}integer range ${t?`(${n} to ${t})`:`(above ${n})`}`,{name:"IntegerOutOfRangeError"})}}class f1 extends tt{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${t} bytes.`,{name:"SizeOverflowError"})}}function Tt(e,{size:t}){if(go(e)>t)throw new f1({givenSize:go(e),maxSize:t})}function Gs(e,t={}){const{signed:n}=t;t.size&&Tt(e,{size:t.size});const r=BigInt(e);if(!n)return r;const s=(e.length-2)/2,a=(1n<<BigInt(s)*8n-1n)-1n;return r<=a?r:r-BigInt(`0x${"f".padStart(s*2,"f")}`)-1n}function d1(e,t={}){return Number(Gs(e,t))}const l1=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Ms(e,t={}){return typeof e=="number"||typeof e=="bigint"?Nc(e,t):typeof e=="string"?m1(e,t):typeof e=="boolean"?p1(e,t):kc(e,t)}function p1(e,t={}){const n=`0x${Number(e)}`;return typeof t.size=="number"?(Tt(n,{size:t.size}),Ot(n,{size:t.size})):n}function kc(e,t={}){let n="";for(let s=0;s<e.length;s++)n+=l1[e[s]];const r=`0x${n}`;return typeof t.size=="number"?(Tt(r,{size:t.size}),Ot(r,{dir:"right",size:t.size})):r}function Nc(e,t={}){const{signed:n,size:r}=t,s=BigInt(e);let a;r?n?a=(1n<<BigInt(r)*8n-1n)-1n:a=2n**(BigInt(r)*8n)-1n:typeof e=="number"&&(a=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof a=="bigint"&&n?-a-1n:0;if(a&&s>a||s<o){const c=typeof e=="bigint"?"n":"";throw new u1({max:a?`${a}${c}`:void 0,min:`${o}${c}`,signed:n,size:r,value:`${e}${c}`})}const i=`0x${(n&&s<0?(1n<<BigInt(r*8))+BigInt(s):s).toString(16)}`;return r?Ot(i,{size:r}):i}const b1=new TextEncoder;function m1(e,t={}){const n=b1.encode(e);return kc(n,t)}const h1=new TextEncoder;function y1(e,t={}){return typeof e=="number"||typeof e=="bigint"?w1(e,t):typeof e=="boolean"?g1(e,t):an(e)?Fc(e,t):Rc(e,t)}function g1(e,t={}){const n=new Uint8Array(1);return n[0]=Number(e),typeof t.size=="number"?(Tt(n,{size:t.size}),Ot(n,{size:t.size})):n}const Ie={zero:48,nine:57,A:65,F:70,a:97,f:102};function wo(e){if(e>=Ie.zero&&e<=Ie.nine)return e-Ie.zero;if(e>=Ie.A&&e<=Ie.F)return e-(Ie.A-10);if(e>=Ie.a&&e<=Ie.f)return e-(Ie.a-10)}function Fc(e,t={}){let n=e;t.size&&(Tt(n,{size:t.size}),n=Ot(n,{dir:"right",size:t.size}));let r=n.slice(2);r.length%2&&(r=`0${r}`);const s=r.length/2,a=new Uint8Array(s);for(let o=0,i=0;o<s;o++){const c=wo(r.charCodeAt(i++)),u=wo(r.charCodeAt(i++));if(c===void 0||u===void 0)throw new tt(`Invalid byte sequence ("${r[i-2]}${r[i-1]}" in "${r}").`);a[o]=c*16+u}return a}function w1(e,t){const n=Nc(e,t);return Fc(n)}function Rc(e,t={}){const n=h1.encode(e);return typeof t.size=="number"?(Tt(n,{size:t.size}),Ot(n,{dir:"right",size:t.size})):n}function Gc(e,t){const n=t||"hex",r=pu(an(e,{strict:!1})?y1(e):e);return n==="bytes"?r:Ms(r)}class x1 extends Map{constructor(t){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=t}get(t){const n=super.get(t);return super.has(t)&&n!==void 0&&(this.delete(t),super.set(t,n)),n}set(t,n){if(super.set(t,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}}const zr=new x1(8192);function v1(e,t){if(zr.has(`${e}.${t}`))return zr.get(`${e}.${t}`);const n=e.substring(2).toLowerCase(),r=Gc(Rc(n),"bytes"),s=n.split("");for(let o=0;o<40;o+=2)r[o>>1]>>4>=8&&s[o]&&(s[o]=s[o].toUpperCase()),(r[o>>1]&15)>=8&&s[o+1]&&(s[o+1]=s[o+1].toUpperCase());const a=`0x${s.join("")}`;return zr.set(`${e}.${t}`,a),a}function E1(e){const t=Gc(`0x${e.substring(4)}`).substring(26);return v1(`0x${t}`)}async function P1({hash:e,signature:t}){const n=an(e)?e:Ms(e),{secp256k1:r}=await qn(async()=>{const{secp256k1:o}=await import("./vendor-utils.B1X3cLdW.js").then(i=>i.ae);return{secp256k1:o}},__vite__mapDeps([0,1,2,3]));return`0x${(()=>{if(typeof t=="object"&&"r"in t&&"s"in t){const{r:u,s:f,v:l,yParity:d}=t,p=Number(d??l),m=xo(p);return new r.Signature(Gs(u),Gs(f)).addRecoveryBit(m)}const o=an(t)?t:Ms(t),i=d1(`0x${o.slice(130)}`),c=xo(i);return r.Signature.fromCompact(o.substring(2,130)).addRecoveryBit(c)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}function xo(e){if(e===0||e===1)return e;if(e===27)return 0;if(e===28)return 1;throw new Error("Invalid yParityOrV value")}async function hb({hash:e,signature:t}){return E1(await P1({hash:e,signature:t}))}export{qe as $,Cf as A,kf as B,Ks as C,up as D,M1 as E,ql as F,ma as G,hn as H,is as I,T as J,Nn as K,Ld as L,ge as M,Li as N,z1 as O,ub as P,ye as Q,jt as R,Zt as S,ji as T,We as U,Di as V,ht as W,j as X,Ne as Y,J as Z,G1 as _,Q as a,le as a0,cb as a1,fb as a2,ob as a3,ib as a4,ie as a5,J0 as a6,g as a7,de as a8,Ke as a9,_ as aa,j1 as ab,R1 as ac,Cn as ad,Z as ae,fn as af,I1 as ag,Bt as ah,mb as ai,hb as aj,U1 as ak,ab as al,nb as am,tb as an,_1 as ao,J1 as b,q1 as c,W1 as d,Z1 as e,K1 as f,eb as g,D1 as h,Q1 as i,X1 as j,Y1 as k,oe as l,sb as m,rb as n,qo as o,V as p,bc as q,L1 as r,al as s,pe as t,V1 as u,C1 as v,N1 as w,Se as x,ni as y,fd as z};
